\NeedsTeXFormat{LaTeX2e}

\ProvidesPackage{classhandout}[2025/08/04 v1.0 Nadim's Class Handout Style]

\newcommand{\subject}[1]{\hypersetup{pdfsubject={#1}}}
\newcommand{\keywords}[1]{\hypersetup{pdfkeywords={#1}}}

\RequirePackage{
	xurl,graphicx,array,bbding,pmboxdraw,
	listings,acronym,amsthm,bookmark,exam-randomizechoices,
	bookmark,zref-totpages,xcolor,tikz,titlesec,
	enumitem,amsmath,xspace,hyperref,hyperxmp
}
\RequirePackage[inner=2.50cm,outer=2.50cm,top=2.50cm,bottom=2.50cm]{geometry}

\renewcommand{\familydefault}{\sfdefault}
\definecolor{OliveGreen}{HTML}{3F7E31}
\definecolor{EarthBrown}{HTML}{7D4C31}
\definecolor{LightestGray}{HTML}{EEEEEE}
\definecolor{DarkGray}{HTML}{5F6368}
\titleformat{\section}
{\normalfont\Large\bfseries\color{OliveGreen}}
{\thesection}{1em}{}
\titleformat{\subsection}
{\normalfont\large\bfseries\color{EarthBrown}}
{\thesubsection}{1em}{}
\pagestyle{headandfoot}
\header{\textcolor{OliveGreen}{Applied Cryptography}}{}{\textcolor{DarkGray}{American University of Beirut}}
\footer{\textcolor{DarkGray}{CMPS 297AD/396AI, Fall 2025}}{}{\textcolor{DarkGray}{Page \thepage\ of \ztotpages}}
\headrule
\footrule
\tcbsetforeverylayer{colframe=OliveGreen!20!white,colback=LightestGray,boxrule=0.5pt,arc=2mm,boxsep=5pt,left=6pt,right=6pt,top=6pt,bottom=6pt}
\setlist{itemsep=0em}

\makeatletter
\renewcommand{\maketitle}{\vskip 1.5em{\normalfont\Large\bfseries\color{OliveGreen}\@title}\vskip 1.5em}
\hypersetup{pdfa,pdfusetitle,pdflang=en-US,colorlinks=true,linkcolor=OliveGreen,urlcolor=OliveGreen,citecolor=OliveGreen,bookmarksopen=true,keeppdfinfo}
\makeatother

\newcommand{\classhandoutheader}{
	\begin{tikzpicture}[remember picture, overlay]
		\fill[OliveGreen!10!white] (current page.north west) rectangle ([yshift=-5cm]current page.north east);
	\end{tikzpicture}

	\vspace*{-1.5cm}
	\noindent
	\begin{minipage}[c]{0.35\textwidth}
		\centering
		\includegraphics[width=2.5in]{\aublogopath}
	\end{minipage}
	\begin{minipage}[c]{0.65\textwidth}
		\begin{flushright}
			\vspace{0.3cm}
			{\fontsize{24}{28}\selectfont\textcolor{OliveGreen}{Applied Cryptography}}

			\vspace{0.2cm}
			{\large\textcolor{DarkGray}{CMPS 297AD/396AI, Fall 2025}}
			\vspace{0.2cm}
		\end{flushright}
	\end{minipage}

	\vspace{0.8cm}
	\begin{tcolorbox}[colframe=OliveGreen!70!white,colback=white,arc=1mm]
		\begin{center}
			\begin{tabular}{ll}
				\textbf{Instructor:} Nadim Kobeissi \quad\quad\quad\quad\quad \textbf{Website:} \url{https://appliedcryptography.page}
			\end{tabular}
		\end{center}
	\end{tcolorbox}

	\setlength{\unitlength}{1in}
	\renewcommand{\arraystretch}{1.5}
}

\newcommand\fstar{\textsf{F}\ensuremath{^\star}\xspace}
\newcommand\haclstar{\textsf{HACL}\ensuremath{^\star}\xspace}
\def\mycheckmark{\tikz\fill[scale=0.4](0,.4) -- (.35,0) -- (1.1,.65) -- (.35,.25) -- cycle;}
