function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function t(e,t,n,o,i,r,a){try{var l=e[r](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,i)}function n(e){return function(){var n=this,o=arguments;return new Promise(function(i,r){var a=e.apply(n,o);function l(e){t(a,i,r,l,s,"next",e)}function s(e){t(a,i,r,l,s,"throw",e)}l(void 0)})}}function o(e,t,n){return t=c(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,u()?Reflect.construct(t,n||[],c(e).constructor):t.apply(e,n))}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,b(o.key),o)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=w(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,r=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw r}}}}function s(e,t,n){return(t=b(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(u=function(){return!!e})()}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function g(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;n[o]=e[o]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function m(){m=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function d(e,t,n,o){var r=t&&t.prototype instanceof y?t:y,a=Object.create(r.prototype),l=new E(o||[]);return i(a,"_invoke",{value:P(e,n,l)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var h="suspendedStart",p="suspendedYield",g="executing",f="completed",v={};function y(){}function b(){}function w(){}var x={};c(x,a,function(){return this});var k=Object.getPrototypeOf,C=k&&k(k(N([])));C&&C!==n&&o.call(C,a)&&(x=C);var S=w.prototype=y.prototype=Object.create(x);function M(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function I(e,t){function n(i,r,a,l){var s=u(e[i],e,r);if("throw"!==s.type){var c=s.arg,d=c.value;return d&&"object"==typeof d&&o.call(d,"__await")?t.resolve(d.__await).then(function(e){n("next",e,a,l)},function(e){n("throw",e,a,l)}):t.resolve(d).then(function(e){c.value=e,a(c)},function(e){return n("throw",e,a,l)})}l(s.arg)}var r;i(this,"_invoke",{value:function(e,o){function i(){return new t(function(t,i){n(e,o,t,i)})}return r=r?r.then(i,i):i()}})}function P(t,n,o){var i=h;return function(r,a){if(i===g)throw Error("Generator is already running");if(i===f){if("throw"===r)throw a;return{value:e,done:!0}}for(o.method=r,o.arg=a;;){var l=o.delegate;if(l){var s=A(l,o);if(s){if(s===v)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(i===h)throw i=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);i=g;var c=u(t,n,o);if("normal"===c.type){if(i=o.done?f:p,c.arg===v)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(i=f,o.method="throw",o.arg=c.arg)}}}function A(t,n){var o=n.method,i=t.iterator[o];if(i===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),v;var r=u(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,v;var a=r.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function N(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function n(){for(;++i<t.length;)if(o.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(typeof t+" is not iterable")}return b.prototype=w,i(S,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:b,configurable:!0}),b.displayName=c(w,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,c(e,s,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},M(I.prototype),c(I.prototype,l,function(){return this}),t.AsyncIterator=I,t.async=function(e,n,o,i,r){void 0===r&&(r=Promise);var a=new I(d(e,n,o,i),r);return t.isGeneratorFunction(n)?a:a.next().then(function(e){return e.done?e.value:a.next()})},M(S),c(S,s,"Generator"),c(S,a,function(){return this}),c(S,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=N,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(o,i){return l.type="throw",l.arg=t,n.next=o,i&&(n.method="next",n.arg=e),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],l=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;T(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:N(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),v}},t}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,r,a,l=[],s=!0,c=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(o=r.call(n)).done)&&(l.push(o.value),l.length!==t);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,t)||w(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||w(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}function w(t,n){if(t){if("string"==typeof t)return e(t,n);var o={}.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?e(t,n):void 0}}function x(e){var t="function"==typeof Map?new Map:void 0;return x=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(u())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,t);var i=new(e.bind.apply(e,o));return n&&f(i,n.prototype),i}(e,arguments,c(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),f(n,e)},x(e)}var k,C,S,M,I,P,A,_,T,E,N,z,R={},L=[],D=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,O=Array.isArray;function H(e,t){for(var n in t)e[n]=t[n];return e}function j(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function B(e,t,n){var o,i,r,a={};for(r in t)"key"==r?o=t[r]:"ref"==r?i=t[r]:a[r]=t[r];if(arguments.length>2&&(a.children=arguments.length>3?k.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(r in e.defaultProps)void 0===a[r]&&(a[r]=e.defaultProps[r]);return $(e,a,o,i,null)}function $(e,t,n,o,i){var r={type:e,props:t,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==i?++S:i,__i:-1,__u:0};return null==i&&null!=C.vnode&&C.vnode(r),r}function F(e){return e.children}function U(e,t){this.props=e,this.context=t}function W(e,t){if(null==t)return e.__?W(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?W(e):null}function G(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return G(e)}}function V(e){(!e.__d&&(e.__d=!0)&&M.push(e)&&!q.__r++||I!==C.debounceRendering)&&((I=C.debounceRendering)||P)(q)}function q(){for(var e,t,n,o,i,r,a,l=1;M.length;)M.length>l&&M.sort(A),e=M.shift(),l=M.length,e.__d&&(n=void 0,i=(o=(t=e).__v).__e,r=[],a=[],t.__P&&((n=H({},o)).__v=o.__v+1,C.vnode&&C.vnode(n),ee(t.__P,n,o,t.__n,t.__P.namespaceURI,32&o.__u?[i]:null,r,null==i?W(o):i,!!(32&o.__u),a),n.__v=o.__v,n.__.__k[n.__i]=n,te(r,n,a),n.__e!=i&&G(n)));q.__r=0}function Z(e,t,n,o,i,r,a,l,s,c,d){var u,h,p,g,m,f,v=o&&o.__k||L,y=t.length;for(s=function(e,t,n,o,i){var r,a,l,s,c,d=n.length,u=d,h=0;for(e.__k=new Array(i),r=0;r<i;r++)null!=(a=t[r])&&"boolean"!=typeof a&&"function"!=typeof a?(s=r+h,(a=e.__k[r]="string"==typeof a||"number"==typeof a||"bigint"==typeof a||a.constructor==String?$(null,a,null,null,null):O(a)?$(F,{children:a},null,null,null):void 0===a.constructor&&a.__b>0?$(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=e,a.__b=e.__b+1,l=null,-1!==(c=a.__i=X(a,n,s,u))&&(u--,(l=n[c])&&(l.__u|=2)),null==l||null===l.__v?(-1==c&&(i>d?h--:i<d&&h++),"function"!=typeof a.type&&(a.__u|=4)):c!=s&&(c==s-1?h--:c==s+1?h++:(c>s?h--:h++,a.__u|=4))):e.__k[r]=null;if(u)for(r=0;r<d;r++)null!=(l=n[r])&&!(2&l.__u)&&(l.__e==o&&(o=W(l)),re(l,l));return o}(n,t,v,s,y),u=0;u<y;u++)null!=(p=n.__k[u])&&(h=-1===p.__i?R:v[p.__i]||R,p.__i=u,f=ee(e,p,h,i,r,a,l,s,c,d),g=p.__e,p.ref&&h.ref!=p.ref&&(h.ref&&ie(h.ref,null,p),d.push(p.ref,p.__c||g,p)),null==m&&null!=g&&(m=g),4&p.__u||h.__k===p.__k?s=Y(p,s,e):"function"==typeof p.type&&void 0!==f?s=f:g&&(s=g.nextSibling),p.__u&=-7);return n.__e=m,s}function Y(e,t,n){var o,i;if("function"==typeof e.type){for(o=e.__k,i=0;o&&i<o.length;i++)o[i]&&(o[i].__=e,t=Y(o[i],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=W(e)),n.insertBefore(e.__e,t||null),t=e.__e);do{t=t&&t.nextSibling}while(null!=t&&8==t.nodeType);return t}function X(e,t,n,o){var i,r,a=e.key,l=e.type,s=t[n];if(null===s&&null==e.key||s&&a==s.key&&l===s.type&&!(2&s.__u))return n;if(o>(null==s||2&s.__u?0:1))for(i=n-1,r=n+1;i>=0||r<t.length;){if(i>=0){if((s=t[i])&&!(2&s.__u)&&a==s.key&&l===s.type)return i;i--}if(r<t.length){if((s=t[r])&&!(2&s.__u)&&a==s.key&&l===s.type)return r;r++}}return-1}function K(e,t,n){"-"==t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||D.test(t)?n:n+"px"}function Q(e,t,n,o,i){var r;e:if("style"==t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof o&&(e.style.cssText=o=""),o)for(t in o)n&&t in n||K(e.style,t,"");if(n)for(t in n)o&&n[t]===o[t]||K(e.style,t,n[t])}else if("o"==t[0]&&"n"==t[1])r=t!=(t=t.replace(_,"$1")),t=t.toLowerCase()in e||"onFocusOut"==t||"onFocusIn"==t?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+r]=n,n?o?n.t=o.t:(n.t=T,e.addEventListener(t,r?N:E,r)):e.removeEventListener(t,r?N:E,r);else{if("http://www.w3.org/2000/svg"==i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!=t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==n?"":n))}}function J(e){return function(t){if(this.l){var n=this.l[t.type+e];if(null==t.u)t.u=T++;else if(t.u<n.t)return;return n(C.event?C.event(t):t)}}}function ee(e,t,n,o,i,r,a,l,s,c){var d,u,h,p,g,m,f,v,y,b,w,x,k,S,M,I,P,A=t.type;if(void 0!==t.constructor)return null;128&n.__u&&(s=!!(32&n.__u),r=[l=t.__e=n.__e]),(d=C.__b)&&d(t);e:if("function"==typeof A)try{if(v=t.props,y="prototype"in A&&A.prototype.render,b=(d=A.contextType)&&o[d.__c],w=d?b?b.props.value:d.__:o,n.__c?f=(u=t.__c=n.__c).__=u.__E:(y?t.__c=u=new A(v,w):(t.__c=u=new U(v,w),u.constructor=A,u.render=ae),b&&b.sub(u),u.props=v,u.state||(u.state={}),u.context=w,u.__n=o,h=u.__d=!0,u.__h=[],u._sb=[]),y&&null==u.__s&&(u.__s=u.state),y&&null!=A.getDerivedStateFromProps&&(u.__s==u.state&&(u.__s=H({},u.__s)),H(u.__s,A.getDerivedStateFromProps(v,u.__s))),p=u.props,g=u.state,u.__v=t,h)y&&null==A.getDerivedStateFromProps&&null!=u.componentWillMount&&u.componentWillMount(),y&&null!=u.componentDidMount&&u.__h.push(u.componentDidMount);else{if(y&&null==A.getDerivedStateFromProps&&v!==p&&null!=u.componentWillReceiveProps&&u.componentWillReceiveProps(v,w),!u.__e&&(null!=u.shouldComponentUpdate&&!1===u.shouldComponentUpdate(v,u.__s,w)||t.__v==n.__v)){for(t.__v!=n.__v&&(u.props=v,u.state=u.__s,u.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(e){e&&(e.__=t)}),x=0;x<u._sb.length;x++)u.__h.push(u._sb[x]);u._sb=[],u.__h.length&&a.push(u);break e}null!=u.componentWillUpdate&&u.componentWillUpdate(v,u.__s,w),y&&null!=u.componentDidUpdate&&u.__h.push(function(){u.componentDidUpdate(p,g,m)})}if(u.context=w,u.props=v,u.__P=e,u.__e=!1,k=C.__r,S=0,y){for(u.state=u.__s,u.__d=!1,k&&k(t),d=u.render(u.props,u.state,u.context),M=0;M<u._sb.length;M++)u.__h.push(u._sb[M]);u._sb=[]}else do{u.__d=!1,k&&k(t),d=u.render(u.props,u.state,u.context),u.state=u.__s}while(u.__d&&++S<25);u.state=u.__s,null!=u.getChildContext&&(o=H(H({},o),u.getChildContext())),y&&!h&&null!=u.getSnapshotBeforeUpdate&&(m=u.getSnapshotBeforeUpdate(p,g)),I=d,null!=d&&d.type===F&&null==d.key&&(I=ne(d.props.children)),l=Z(e,O(I)?I:[I],t,n,o,i,r,a,l,s,c),u.base=t.__e,t.__u&=-161,u.__h.length&&a.push(u),f&&(u.__E=u.__=null)}catch(e){if(t.__v=null,s||null!=r)if(e.then){for(t.__u|=s?160:128;l&&8==l.nodeType&&l.nextSibling;)l=l.nextSibling;r[r.indexOf(l)]=null,t.__e=l}else for(P=r.length;P--;)j(r[P]);else t.__e=n.__e,t.__k=n.__k;C.__e(e,t,n)}else null==r&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):l=t.__e=oe(n.__e,t,n,o,i,r,a,s,c);return(d=C.diffed)&&d(t),128&t.__u?void 0:l}function te(e,t,n){for(var o=0;o<n.length;o++)ie(n[o],n[++o],n[++o]);C.__c&&C.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){C.__e(e,t.__v)}})}function ne(e){return"object"!=typeof e||null==e?e:O(e)?e.map(ne):H({},e)}function oe(e,t,n,o,i,r,a,l,s){var c,d,u,h,p,g,m,f=n.props,v=t.props,y=t.type;if("svg"==y?i="http://www.w3.org/2000/svg":"math"==y?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),null!=r)for(c=0;c<r.length;c++)if((p=r[c])&&"setAttribute"in p==!!y&&(y?p.localName==y:3==p.nodeType)){e=p,r[c]=null;break}if(null==e){if(null==y)return document.createTextNode(v);e=document.createElementNS(i,y,v.is&&v),l&&(C.__m&&C.__m(t,r),l=!1),r=null}if(null===y)f===v||l&&e.data===v||(e.data=v);else{if(r=r&&k.call(e.childNodes),f=n.props||R,!l&&null!=r)for(f={},c=0;c<e.attributes.length;c++)f[(p=e.attributes[c]).name]=p.value;for(c in f)if(p=f[c],"children"==c);else if("dangerouslySetInnerHTML"==c)u=p;else if(!(c in v)){if("value"==c&&"defaultValue"in v||"checked"==c&&"defaultChecked"in v)continue;Q(e,c,null,p,i)}for(c in v)p=v[c],"children"==c?h=p:"dangerouslySetInnerHTML"==c?d=p:"value"==c?g=p:"checked"==c?m=p:l&&"function"!=typeof p||f[c]===p||Q(e,c,p,f[c],i);if(d)l||u&&(d.__html===u.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(u&&(e.innerHTML=""),Z("template"===t.type?e.content:e,O(h)?h:[h],t,n,o,"foreignObject"==y?"http://www.w3.org/1999/xhtml":i,r,a,r?r[0]:n.__k&&W(n,0),l,s),null!=r)for(c=r.length;c--;)j(r[c]);l||(c="value","progress"==y&&null==g?e.removeAttribute("value"):void 0!==g&&(g!==e[c]||"progress"==y&&!g||"option"==y&&g!==f[c])&&Q(e,c,g,f[c],i),c="checked",void 0!==m&&m!==e[c]&&Q(e,c,m,f[c],i))}return e}function ie(e,t,n){try{if("function"==typeof e){var o="function"==typeof e.__u;o&&e.__u(),o&&null==t||(e.__u=e(t))}else e.current=t}catch(e){C.__e(e,n)}}function re(e,t,n){var o,i;if(C.unmount&&C.unmount(e),(o=e.ref)&&(o.current&&o.current!==e.__e||ie(o,null,t)),null!=(o=e.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(e){C.__e(e,t)}o.base=o.__P=null}if(o=e.__k)for(i=0;i<o.length;i++)o[i]&&re(o[i],t,n||"function"!=typeof e.type);n||j(e.__e),e.__c=e.__=e.__e=void 0}function ae(e,t,n){return this.constructor(e,n)}function le(e,t,n){var o,i,r,a;t==document&&(t=document.documentElement),C.__&&C.__(e,t),i=(o="function"==typeof n)?null:n&&n.__k||t.__k,r=[],a=[],ee(t,e=(!o&&n||t).__k=B(F,null,[e]),i||R,R,t.namespaceURI,!o&&n?[n]:i?null:t.firstChild?k.call(t.childNodes):null,r,!o&&n?n:i?i.__e:t.firstChild,o,a),te(r,e,a)}function se(e){function t(e){var n,o;return this.getChildContext||(n=new Set,(o={})[t.__c]=this,this.getChildContext=function(){return o},this.componentWillUnmount=function(){n=null},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.forEach(function(e){e.__e=!0,V(e)})},this.sub=function(e){n.add(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n&&n.delete(e),t&&t.call(e)}}),e.children}return t.__c="__cC"+z++,t.__=e,t.Provider=t.__l=(t.Consumer=function(e,t){return e.children(t)}).contextType=t,t}k=L.slice,C={__e:function(e,t,n,o){for(var i,r,a;t=t.__;)if((i=t.__c)&&!i.__)try{if((r=i.constructor)&&null!=r.getDerivedStateFromError&&(i.setState(r.getDerivedStateFromError(e)),a=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,o||{}),a=i.__d),a)return i.__E=i}catch(t){e=t}throw e}},S=0,U.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=H({},this.state),"function"==typeof e&&(e=e(H({},n),this.props)),e&&H(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),V(this))},U.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),V(this))},U.prototype.render=F,M=[],P="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,A=function(e,t){return e.__v.__b-t.__v.__b},q.__r=0,_=/(PointerCapture)$|Capture$/i,T=0,E=J(!1),N=J(!0),z=0;var ce,de,ue,he,pe=0,ge=[],me=C,fe=me.__b,ve=me.__r,ye=me.diffed,be=me.__c,we=me.unmount,xe=me.__;function ke(e,t){me.__h&&me.__h(de,e,pe||t),pe=0;var n=de.__H||(de.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function Ce(e){return pe=1,function(e,t){var n=ke(ce++,2);if(n.t=e,!n.__c&&(n.__=[De(void 0,t),function(e){var t=n.__N?n.__N[0]:n.__[0],o=n.t(t,e);t!==o&&(n.__N=[o,n.__[1]],n.__c.setState({}))}],n.__c=de,!de.__f)){var o=function(e,t,o){if(!n.__c.__H)return!0;var r=n.__c.__H.__.filter(function(e){return!!e.__c});if(r.every(function(e){return!e.__N}))return!i||i.call(this,e,t,o);var a=n.__c.props!==e;return r.forEach(function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(a=!0)}}),i&&i.call(this,e,t,o)||a};de.__f=!0;var i=de.shouldComponentUpdate,r=de.componentWillUpdate;de.componentWillUpdate=function(e,t,n){if(this.__e){var a=i;i=void 0,o(e,t,n),i=a}r&&r.call(this,e,t,n)},de.shouldComponentUpdate=o}return n.__N||n.__}(De,e)}function Se(e,t){var n=ke(ce++,3);!me.__s&&Le(n.__H,t)&&(n.__=e,n.u=t,de.__H.__h.push(n))}function Me(e,t){var n=ke(ce++,4);!me.__s&&Le(n.__H,t)&&(n.__=e,n.u=t,de.__h.push(n))}function Ie(e){return pe=5,Pe(function(){return{current:e}},[])}function Pe(e,t){var n=ke(ce++,7);return Le(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function Ae(e,t){return pe=8,Pe(function(){return e},t)}function _e(e){var t=de.context[e.__c],n=ke(ce++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(de)),t.props.value):e.__}function Te(){for(var e;e=ge.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(ze),e.__H.__h.forEach(Re),e.__H.__h=[]}catch(t){e.__H.__h=[],me.__e(t,e.__v)}}me.__b=function(e){de=null,fe&&fe(e)},me.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),xe&&xe(e,t)},me.__r=function(e){ve&&ve(e),ce=0;var t=(de=e.__c).__H;t&&(ue===de?(t.__h=[],de.__h=[],t.__.forEach(function(e){e.__N&&(e.__=e.__N),e.u=e.__N=void 0})):(t.__h.forEach(ze),t.__h.forEach(Re),t.__h=[],ce=0)),ue=de},me.diffed=function(e){ye&&ye(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==ge.push(t)&&he===me.requestAnimationFrame||((he=me.requestAnimationFrame)||Ne)(Te)),t.__H.__.forEach(function(e){e.u&&(e.__H=e.u),e.u=void 0})),ue=de=null},me.__c=function(e,t){t.some(function(e){try{e.__h.forEach(ze),e.__h=e.__h.filter(function(e){return!e.__||Re(e)})}catch(n){t.some(function(e){e.__h&&(e.__h=[])}),t=[],me.__e(n,e.__v)}}),be&&be(e,t)},me.unmount=function(e){we&&we(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(e){try{ze(e)}catch(e){t=e}}),n.__H=void 0,t&&me.__e(t,n.__v))};var Ee="function"==typeof requestAnimationFrame;function Ne(e){var t,n=function(){clearTimeout(o),Ee&&cancelAnimationFrame(t),setTimeout(e)},o=setTimeout(n,100);Ee&&(t=requestAnimationFrame(n))}function ze(e){var t=de,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),de=t}function Re(e){var t=de;e.__c=e.__(),de=t}function Le(e,t){return!e||e.length!==t.length||t.some(function(t,n){return t!==e[n]})}function De(e,t){return"function"==typeof t?t(e):t}var Oe=0;function He(e,t,n,o,i,r){t||(t={});var a,l,s=t;if("ref"in s)for(l in s={},t)"ref"==l?a=t[l]:s[l]=t[l];var c={type:e,props:s,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Oe,__i:-1,__u:0,__source:i,__self:r};if("function"==typeof e&&(a=e.defaultProps))for(l in a)void 0===s[l]&&(s[l]=a[l]);return C.vnode&&C.vnode(c),c}var je=(e=>(e[e.Degree0=0]="Degree0",e[e.Degree90=1]="Degree90",e[e.Degree180=2]="Degree180",e[e.Degree270=3]="Degree270",e))(je||{});function Be(e){return{x:Math.floor(e.x),y:Math.floor(e.y)}}function $e(e){return{width:Math.ceil(e.width),height:Math.ceil(e.height)}}function Fe(e){return{origin:Be(e.origin),size:$e(e.size)}}function Ue(e){const{width:t,height:n}=e;return{width:n,height:t}}function We(e,t,n){return{width:(e=t%2==0?e:Ue(e)).width*n,height:e.height*n}}function Ge(e){const t=[e.p1.x,e.p2.x,e.p3.x,e.p4.x],n=[e.p1.y,e.p2.y,e.p3.y,e.p4.y];return{origin:{x:Math.min(...t),y:Math.min(...n)},size:{width:Math.max(...t)-Math.min(...t),height:Math.max(...n)-Math.min(...n)}}}function Ve(e){return{p1:{x:e.origin.x,y:e.origin.y},p2:{x:e.origin.x+e.size.width,y:e.origin.y},p3:{x:e.origin.x+e.size.width,y:e.origin.y+e.size.height},p4:{x:e.origin.x,y:e.origin.y+e.size.height}}}function qe(e,t,n){let o=t.x,i=t.y;switch(n){case 0:o=t.x,i=t.y;break;case 1:o=e.height-t.y,i=t.x;break;case 2:o=e.width-t.x,i=e.height-t.y;break;case 3:o=t.y,i=e.width-t.x}return{x:o,y:i}}function Ze(e,t){return{x:e.x*t,y:e.y*t}}function Ye(e){if(0===e.length)return{origin:{x:0,y:0},size:{width:0,height:0}};const t=e.map(e=>e.x),n=e.map(e=>e.y),o=Math.min(...t),i=Math.min(...n);return{origin:{x:o,y:i},size:{width:Math.max(...t)-o,height:Math.max(...n)-i}}}function Xe(e,t){return{origin:{x:e.origin.x-t,y:e.origin.y-t},size:{width:e.size.width+2*t,height:e.size.height+2*t}}}function Ke(e,t,n){let o=t.origin.x,i=t.origin.y,r=t.size;switch(n){case 0:break;case 1:o=e.height-t.origin.y-t.size.height,i=t.origin.x,r=Ue(t.size);break;case 2:o=e.width-t.origin.x-t.size.width,i=e.height-t.origin.y-t.size.height;break;case 3:o=t.origin.y,i=e.width-t.origin.x-t.size.width,r=Ue(t.size)}return{origin:{x:o,y:i},size:{width:r.width,height:r.height}}}function Qe(e,t){return{origin:{x:e.origin.x*t,y:e.origin.y*t},size:{width:e.size.width*t,height:e.size.height*t}}}function Je(e,t,n,o){return Qe(Ke(e,t,n),o)}function et(e,t,n){let o=e.x,i=e.y;switch(t){case 0:o=e.x/n,i=e.y/n;break;case 1:o=e.y/n,i=-e.x/n;break;case 2:o=-e.x/n,i=-e.y/n;break;case 3:o=-e.y/n,i=e.x/n}return{x:o,y:i}}function tt(e){if(0===e.length)return null;let t=e[0].origin.x,n=e[0].origin.y,o=e[0].origin.x+e[0].size.width,i=e[0].origin.y+e[0].size.height;for(const r of e)t=Math.min(t,r.origin.x),n=Math.min(n,r.origin.y),o=Math.max(o,r.origin.x+r.size.width),i=Math.max(i,r.origin.y+r.size.height);return{origin:{x:t,y:n},size:{width:o-t,height:i-n}}}const nt=(e,t,n)=>{const{width:o,height:i}=e.size;switch(t){case 0:return{a:n,b:0,c:0,d:-n,e:0,f:i*n};case 1:return{a:0,b:n,c:n,d:0,e:0,f:0};case 2:return{a:-n,b:0,c:0,d:n,e:o*n,f:0};case 3:return{a:0,b:-n,c:-n,d:0,e:i*n,f:o*n}}};class ot{debug(){}info(){}warn(){}error(){}perf(){}}class it extends Error{constructor(e){super(`Task aborted: ${JSON.stringify(e)}`),this.name="TaskAbortedError"}}class rt extends Error{constructor(e){super(`Task rejected: ${JSON.stringify(e)}`),this.name="TaskRejectedError"}}class at{constructor(){this.state={stage:0},this.resolvedCallbacks=[],this.rejectedCallbacks=[],this._promise=null,this.progressCbs=[]}toPromise(){return this._promise||(this._promise=new Promise((e,t)=>{this.wait(t=>e(t),e=>{"abort"===e.type?t(new it(e.reason)):t(new rt(e.reason))})})),this._promise}wait(e,t){switch(this.state.stage){case 0:this.resolvedCallbacks.push(e),this.rejectedCallbacks.push(t);break;case 1:e(this.state.result);break;case 2:t({type:"reject",reason:this.state.reason});break;case 3:t({type:"abort",reason:this.state.reason})}}resolve(e){if(0===this.state.stage){this.state={stage:1,result:e};for(const t of this.resolvedCallbacks)try{t(e)}catch(e){}this.resolvedCallbacks=[],this.rejectedCallbacks=[]}}reject(e){if(0===this.state.stage){this.state={stage:2,reason:e};for(const t of this.rejectedCallbacks)try{t({type:"reject",reason:e})}catch(e){}this.resolvedCallbacks=[],this.rejectedCallbacks=[]}}abort(e){if(0===this.state.stage){this.state={stage:3,reason:e};for(const t of this.rejectedCallbacks)try{t({type:"abort",reason:e})}catch(e){}this.resolvedCallbacks=[],this.rejectedCallbacks=[]}}fail(e){"abort"===e.type?this.abort(e.reason):this.reject(e.reason)}onProgress(e){this.progressCbs.push(e)}progress(e){for(const t of this.progressCbs)t(e)}static all(e){const t=new at;if(0===e.length)return t.resolve([]),t;const n=new Array(e.length);let o=0,i=!1;return e.forEach((r,a)=>{r.wait(r=>{i||(n[a]=r,o++,o===e.length&&(i=!0,t.resolve(n)))},e=>{i||(i=!0,"abort"===e.type?t.abort(e.reason):t.reject(e.reason))})}),t}static allSettled(e){const t=new at;if(0===e.length)return t.resolve([]),t;const n=new Array(e.length);let o=0;return e.forEach((i,r)=>{i.wait(i=>{n[r]={status:"resolved",value:i},o++,o===e.length&&t.resolve(n)},i=>{n[r]={status:"abort"===i.type?"aborted":"rejected",reason:i.reason},o++,o===e.length&&t.resolve(n)})}),t}static race(e){const t=new at;if(0===e.length)return t.reject("No tasks provided"),t;let n=!1;return e.forEach(e=>{e.wait(e=>{n||(n=!0,t.resolve(e))},e=>{n||(n=!0,"abort"===e.type?t.abort(e.reason):t.reject(e.reason))})}),t}static withProgress(e,t){const n=at.all(e);if(t){let n=0;e.forEach(o=>{o.wait(()=>{n++,t(n,e.length)},()=>{n++,t(n,e.length)})})}return n}}const lt=Object.freeze(["­","​","⁠","\ufeff","￾","￿"]),st=new RegExp(`[${lt.join("")}]`,"g");function ct(e){return e.replace(st,"")}var dt=(e=>(e[e.Unknown=0]="Unknown",e[e.XYZ=1]="XYZ",e[e.FitPage=2]="FitPage",e[e.FitHorizontal=3]="FitHorizontal",e[e.FitVertical=4]="FitVertical",e[e.FitRectangle=5]="FitRectangle",e))(dt||{}),ut=(e=>(e[e.Unknown=-1]="Unknown",e[e.Courier=0]="Courier",e[e.Courier_Bold=1]="Courier_Bold",e[e.Courier_BoldOblique=2]="Courier_BoldOblique",e[e.Courier_Oblique=3]="Courier_Oblique",e[e.Helvetica=4]="Helvetica",e[e.Helvetica_Bold=5]="Helvetica_Bold",e[e.Helvetica_BoldOblique=6]="Helvetica_BoldOblique",e[e.Helvetica_Oblique=7]="Helvetica_Oblique",e[e.Times_Roman=8]="Times_Roman",e[e.Times_Bold=9]="Times_Bold",e[e.Times_BoldItalic=10]="Times_BoldItalic",e[e.Times_Italic=11]="Times_Italic",e[e.Symbol=12]="Symbol",e[e.ZapfDingbats=13]="ZapfDingbats",e))(ut||{}),ht=(e=>(e[e.Left=0]="Left",e[e.Center=1]="Center",e[e.Right=2]="Right",e))(ht||{}),pt=(e=>(e[e.Top=0]="Top",e[e.Middle=1]="Middle",e[e.Bottom=2]="Bottom",e))(pt||{}),gt=(e=>(e[e.Normal=0]="Normal",e[e.Multiply=1]="Multiply",e[e.Screen=2]="Screen",e[e.Overlay=3]="Overlay",e[e.Darken=4]="Darken",e[e.Lighten=5]="Lighten",e[e.ColorDodge=6]="ColorDodge",e[e.ColorBurn=7]="ColorBurn",e[e.HardLight=8]="HardLight",e[e.SoftLight=9]="SoftLight",e[e.Difference=10]="Difference",e[e.Exclusion=11]="Exclusion",e[e.Hue=12]="Hue",e[e.Saturation=13]="Saturation",e[e.Color=14]="Color",e[e.Luminosity=15]="Luminosity",e))(gt||{}),mt=(e=>(e[e.Unsupported=0]="Unsupported",e[e.Goto=1]="Goto",e[e.RemoteGoto=2]="RemoteGoto",e[e.URI=3]="URI",e[e.LaunchAppOrOpenFile=4]="LaunchAppOrOpenFile",e))(mt||{}),ft=(e=>(e[e.UNKNOWN=0]="UNKNOWN",e[e.TEXT=1]="TEXT",e[e.LINK=2]="LINK",e[e.FREETEXT=3]="FREETEXT",e[e.LINE=4]="LINE",e[e.SQUARE=5]="SQUARE",e[e.CIRCLE=6]="CIRCLE",e[e.POLYGON=7]="POLYGON",e[e.POLYLINE=8]="POLYLINE",e[e.HIGHLIGHT=9]="HIGHLIGHT",e[e.UNDERLINE=10]="UNDERLINE",e[e.SQUIGGLY=11]="SQUIGGLY",e[e.STRIKEOUT=12]="STRIKEOUT",e[e.STAMP=13]="STAMP",e[e.CARET=14]="CARET",e[e.INK=15]="INK",e[e.POPUP=16]="POPUP",e[e.FILEATTACHMENT=17]="FILEATTACHMENT",e[e.SOUND=18]="SOUND",e[e.MOVIE=19]="MOVIE",e[e.WIDGET=20]="WIDGET",e[e.SCREEN=21]="SCREEN",e[e.PRINTERMARK=22]="PRINTERMARK",e[e.TRAPNET=23]="TRAPNET",e[e.WATERMARK=24]="WATERMARK",e[e.THREED=25]="THREED",e[e.RICHMEDIA=26]="RICHMEDIA",e[e.XFAWIDGET=27]="XFAWIDGET",e[e.REDACT=28]="REDACT",e))(ft||{}),vt=(e=>(e[e.Normal=0]="Normal",e[e.Rollover=1]="Rollover",e[e.Down=2]="Down",e))(vt||{}),yt=(e=>(e[e.Unknown=-1]="Unknown",e[e.Comment=0]="Comment",e[e.Key=1]="Key",e[e.Note=2]="Note",e[e.Help=3]="Help",e[e.NewParagraph=4]="NewParagraph",e[e.Paragraph=5]="Paragraph",e[e.Insert=6]="Insert",e[e.Graph=7]="Graph",e[e.PushPin=8]="PushPin",e[e.Paperclip=9]="Paperclip",e[e.Tag=10]="Tag",e[e.Speaker=11]="Speaker",e[e.Mic=12]="Mic",e[e.Approved=13]="Approved",e[e.Experimental=14]="Experimental",e[e.NotApproved=15]="NotApproved",e[e.AsIs=16]="AsIs",e[e.Expired=17]="Expired",e[e.NotForPublicRelease=18]="NotForPublicRelease",e[e.Confidential=19]="Confidential",e[e.Final=20]="Final",e[e.Sold=21]="Sold",e[e.Departmental=22]="Departmental",e[e.ForComment=23]="ForComment",e[e.TopSecret=24]="TopSecret",e[e.Draft=25]="Draft",e[e.ForPublicRelease=26]="ForPublicRelease",e))(yt||{}),bt=(e=>(e[e.None=0]="None",e[e.Square=1]="Square",e[e.Circle=2]="Circle",e[e.Diamond=3]="Diamond",e[e.OpenArrow=4]="OpenArrow",e[e.ClosedArrow=5]="ClosedArrow",e[e.Butt=6]="Butt",e[e.ROpenArrow=7]="ROpenArrow",e[e.RClosedArrow=8]="RClosedArrow",e[e.Slash=9]="Slash",e[e.Unknown=10]="Unknown",e))(bt||{}),wt=(e=>(e[e.UNKNOWN=0]="UNKNOWN",e[e.PUSHBUTTON=1]="PUSHBUTTON",e[e.CHECKBOX=2]="CHECKBOX",e[e.RADIOBUTTON=3]="RADIOBUTTON",e[e.COMBOBOX=4]="COMBOBOX",e[e.LISTBOX=5]="LISTBOX",e[e.TEXTFIELD=6]="TEXTFIELD",e[e.SIGNATURE=7]="SIGNATURE",e[e.XFA=8]="XFA",e[e.XFA_CHECKBOX=9]="XFA_CHECKBOX",e[e.XFA_COMBOBOX=10]="XFA_COMBOBOX",e[e.XFA_IMAGEFIELD=11]="XFA_IMAGEFIELD",e[e.XFA_LISTBOX=12]="XFA_LISTBOX",e[e.XFA_PUSHBUTTON=13]="XFA_PUSHBUTTON",e[e.XFA_SIGNATURE=14]="XFA_SIGNATURE",e[e.XFA_TEXTFIELD=15]="XFA_TEXTFIELD",e))(wt||{}),xt=(e=>(e[e.Color=0]="Color",e[e.InteriorColor=1]="InteriorColor",e))(xt||{}),kt=(e=>(e[e.UNKNOWN=0]="UNKNOWN",e[e.SOLID=1]="SOLID",e[e.DASHED=2]="DASHED",e[e.BEVELED=3]="BEVELED",e[e.INSET=4]="INSET",e[e.UNDERLINE=5]="UNDERLINE",e[e.CLOUDY=6]="CLOUDY",e))(kt||{}),Ct=(e=>(e[e.UNKNOWN=0]="UNKNOWN",e[e.TEXT=1]="TEXT",e[e.PATH=2]="PATH",e[e.IMAGE=3]="IMAGE",e[e.SHADING=4]="SHADING",e[e.FORM=5]="FORM",e))(Ct||{});const St=Object.freeze({1:"invisible",2:"hidden",4:"print",8:"noZoom",16:"noRotate",32:"noView",64:"readOnly",128:"locked",256:"toggleNoView"}),Mt=Object.entries(St).reduce((e,[t,n])=>(e[n]=Number(t),e),{});function It(e){return Object.keys(St).filter(t=>!!(e&t)).map(e=>St[e])}function Pt(e){return e.reduce((e,t)=>e|Mt[t],0)}var At=(e=>(e[e.None=0]="None",e[e.MatchCase=1]="MatchCase",e[e.MatchWholeWord=2]="MatchWholeWord",e[e.MatchConsecutive=4]="MatchConsecutive",e))(At||{}),_t=(e=>(e[e.Ok=0]="Ok",e[e.Unknown=1]="Unknown",e[e.NotFound=2]="NotFound",e[e.WrongFormat=3]="WrongFormat",e[e.Password=4]="Password",e[e.Security=5]="Security",e[e.PageError=6]="PageError",e[e.XFALoad=7]="XFALoad",e[e.XFALayout=8]="XFALayout",e[e.Cancelled=9]="Cancelled",e[e.Initialization=10]="Initialization",e[e.NotReady=11]="NotReady",e[e.NotSupport=12]="NotSupport",e[e.LoadDoc=13]="LoadDoc",e[e.DocNotOpen=14]="DocNotOpen",e[e.CantCloseDoc=15]="CantCloseDoc",e[e.CantCreateNewDoc=16]="CantCreateNewDoc",e[e.CantImportPages=17]="CantImportPages",e[e.CantCreateAnnot=18]="CantCreateAnnot",e[e.CantSetAnnotRect=19]="CantSetAnnotRect",e[e.CantSetAnnotContent=20]="CantSetAnnotContent",e[e.CantRemoveInkList=21]="CantRemoveInkList",e[e.CantAddInkStoke=22]="CantAddInkStoke",e[e.CantReadAttachmentSize=23]="CantReadAttachmentSize",e[e.CantReadAttachmentContent=24]="CantReadAttachmentContent",e[e.CantFocusAnnot=25]="CantFocusAnnot",e[e.CantSelectText=26]="CantSelectText",e[e.CantSelectOption=27]="CantSelectOption",e[e.CantCheckField=28]="CantCheckField",e[e.CantSetAnnotString=29]="CantSetAnnotString",e))(_t||{});class Tt{static create(){return new at}static resolve(e){const t=new at;return t.resolve(e),t}static reject(e){const t=new at;return t.reject(e),t}static abort(e){const t=new at;return t.reject(e),t}}function Et(e){const t=e=>(e=>Math.max(0,Math.min(255,e)))(e).toString(16).padStart(2,"0");return`#${t(e.red)}${t(e.green)}${t(e.blue)}`}function Nt(e){/^#?[0-9a-f]{3}$/i.test(e)&&(e=e.replace(/^#?([0-9a-f])([0-9a-f])([0-9a-f])$/i,"#$1$1$2$2$3$3").toLowerCase());const[,t,n,o]=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(e)??(()=>{throw new Error(`Invalid hex colour: "${e}"`)})();return{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(o,16)}}function zt(e){return(e=>Math.max(0,Math.min(255,e)))(e)/255}function Rt(e){return((e,t=255)=>Math.max(0,Math.min(t,e)))(Math.round(255*e))}function Lt(e){if(!(null==e?void 0:e.startsWith("D:"))||e.length<16)return;const t=+e.slice(2,6),n=+e.slice(6,8)-1,o=+e.slice(8,10),i=+e.slice(10,12),r=+e.slice(12,14),a=+e.slice(14,16);return new Date(Date.UTC(t,n,o,i,r,a))}function Dt(e=new Date){const t=(e,t=2)=>e.toString().padStart(t,"0");return`D:${e.getUTCFullYear()}${t(e.getUTCMonth()+1)}${t(e.getUTCDate())}${t(e.getUTCHours())}${t(e.getUTCMinutes())}${t(e.getUTCSeconds())}`}const Ot=Object.freeze([{id:ht.Left,label:"Left",css:"left"},{id:ht.Center,label:"Center",css:"center"},{id:ht.Right,label:"Right",css:"right"}]),Ht=Ot.reduce((e,t)=>(e[t.id]=t,e),{});function jt(e){return function(e){return Ht[e]??Ht[ht.Left]}(e).css}Ot.reduce((e,t)=>(e[t.css]=t.id,e),{}),Ot.map(e=>({value:e.id,label:e.label}));var Bt=(e=>(e.Courier="Courier",e.Helvetica="Helvetica",e.Times="Times",e.Symbol="Symbol",e.ZapfDingbats="ZapfDingbats",e.Unknown="Unknown",e))(Bt||{});const $t=ut.Helvetica,Ft={id:ut.Helvetica,family:"Helvetica",bold:!1,italic:!1,label:"Helvetica",css:"Helvetica, Arial, sans-serif"},Ut=Object.freeze([{id:ut.Courier,family:"Courier",bold:!1,italic:!1,label:"Courier",css:"Courier, monospace"},{id:ut.Courier_Bold,family:"Courier",bold:!0,italic:!1,label:"Courier Bold",css:'"Courier-Bold", Courier, monospace'},{id:ut.Courier_BoldOblique,family:"Courier",bold:!0,italic:!0,label:"Courier Bold Oblique",css:'"Courier-BoldOblique", Courier, monospace'},{id:ut.Courier_Oblique,family:"Courier",bold:!1,italic:!0,label:"Courier Oblique",css:'"Courier-Oblique", Courier, monospace'},Ft,{id:ut.Helvetica_Bold,family:"Helvetica",bold:!0,italic:!1,label:"Helvetica Bold",css:'"Helvetica-Bold", Arial, sans-serif'},{id:ut.Helvetica_BoldOblique,family:"Helvetica",bold:!0,italic:!0,label:"Helvetica Bold Oblique",css:'"Helvetica-BoldOblique", Arial, sans-serif'},{id:ut.Helvetica_Oblique,family:"Helvetica",bold:!1,italic:!0,label:"Helvetica Oblique",css:'"Helvetica-Oblique", Arial, sans-serif'},{id:ut.Times_Roman,family:"Times",bold:!1,italic:!1,label:"Times Roman",css:'"Times New Roman", Times, serif'},{id:ut.Times_Bold,family:"Times",bold:!0,italic:!1,label:"Times Bold",css:'"Times New Roman Bold", Times, serif'},{id:ut.Times_BoldItalic,family:"Times",bold:!0,italic:!0,label:"Times Bold Italic",css:'"Times New Roman Bold Italic", Times, serif'},{id:ut.Times_Italic,family:"Times",bold:!1,italic:!0,label:"Times Italic",css:'"Times New Roman Italic", Times, serif'},{id:ut.Symbol,family:"Symbol",bold:!1,italic:!1,label:"Symbol",css:"Symbol"},{id:ut.ZapfDingbats,family:"ZapfDingbats",bold:!1,italic:!1,label:"Zapf Dingbats",css:"ZapfDingbats"}]),Wt=Ut.reduce((e,t)=>(e[t.id]=t,e),{}),Gt=new Map;for(const e of Ut)Gt.set(`${e.family}_${e.bold}_${e.italic}`,e.id);function Vt(e){return Wt[e]??Ft}function qt(e){return Vt(e).bold}function Zt(e){return Vt(e).italic}function Yt(e,{bold:t,italic:n}){return Gt.get(`${e}_${t}_${n}`)??$t}Object.values(Bt).filter(e=>"Unknown"!==e).map(e=>({value:e,label:e}));const Xt=[...new Set(Ut.map(e=>e.family))];function Kt(e){switch(e){case"Courier":return"Courier";case"Helvetica":default:return"Helvetica";case"Times":return"Times";case"Symbol":return"Symbol";case"ZapfDingbats":return"ZapfDingbats"}}const Qt=Object.freeze([{id:gt.Normal,label:"Normal",css:"normal"},{id:gt.Multiply,label:"Multiply",css:"multiply"},{id:gt.Screen,label:"Screen",css:"screen"},{id:gt.Overlay,label:"Overlay",css:"overlay"},{id:gt.Darken,label:"Darken",css:"darken"},{id:gt.Lighten,label:"Lighten",css:"lighten"},{id:gt.ColorDodge,label:"Color Dodge",css:"color-dodge"},{id:gt.ColorBurn,label:"Color Burn",css:"color-burn"},{id:gt.HardLight,label:"Hard Light",css:"hard-light"},{id:gt.SoftLight,label:"Soft Light",css:"soft-light"},{id:gt.Difference,label:"Difference",css:"difference"},{id:gt.Exclusion,label:"Exclusion",css:"exclusion"},{id:gt.Hue,label:"Hue",css:"hue"},{id:gt.Saturation,label:"Saturation",css:"saturation"},{id:gt.Color,label:"Color",css:"color"},{id:gt.Luminosity,label:"Luminosity",css:"luminosity"}]),Jt=Qt.reduce((e,t)=>(e[t.id]=t,e),{});function en(e){return function(e){return Jt[e]??Jt[gt.Normal]}(e).css}Qt.reduce((e,t)=>(e[t.css]=t.id,e),{});const tn=Qt.map(e=>({value:e.id,label:e.label})),nn=/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;function on(e){return nn.test(e)}function rn(){var e;if("function"==typeof(null==(e=globalThis.crypto)?void 0:e.randomUUID))return globalThis.crypto.randomUUID();const t=function(){var e;if("function"==typeof(null==(e=globalThis.crypto)?void 0:e.getRandomValues))return globalThis.crypto.getRandomValues(new Uint8Array(16));if("function"==typeof require)try{const{randomBytes:e}=require("crypto");return e(16)}catch{}const t=new Uint8Array(16);for(let e=0;e<16;e++)t[e]=Math.floor(256*Math.random());return t}();t[6]=15&t[6]|64,t[8]=63&t[8]|128;const n=Array.from(t,e=>e.toString(16).padStart(2,"0")).join("");return`${n.slice(0,8)}-${n.slice(8,12)}-${n.slice(12,16)}-${n.slice(16,20)}-${n.slice(20)}`}function an(){}class ln{constructor(){this.dependencyGraph=new Map}addNode(e,t=[]){this.dependencyGraph.set(e,new Set(t))}hasCircularDependencies(){const e=new Set,t=new Set,n=o=>{e.add(o),t.add(o);const i=this.dependencyGraph.get(o)||new Set;for(const o of i)if(e.has(o)){if(t.has(o))return!0}else if(n(o))return!0;return t.delete(o),!1};for(const t of this.dependencyGraph.keys())if(!e.has(t)&&n(t))return!0;return!1}resolveLoadOrder(){if(this.hasCircularDependencies())throw new Error("Circular dependencies detected");const e=[],t=new Set,n=new Set,o=i=>{if(n.has(i))throw new Error("Circular dependency");if(t.has(i))return;n.add(i);const r=this.dependencyGraph.get(i)||new Set;for(const e of r)o(e);n.delete(i),t.add(i),e.push(i)};for(const e of this.dependencyGraph.keys())t.has(e)||o(e);return e}}class sn extends Error{constructor(e){super(e),this.name="PluginRegistrationError"}}class cn extends Error{constructor(e){super(e),this.name="PluginNotFoundError"}}class dn extends Error{constructor(e){super(e),this.name="CircularDependencyError"}}class un extends Error{constructor(e){super(e),this.name="PluginConfigurationError"}}class hn{constructor(e,t){this.store=e,this.pluginId=t}getState(){return this.store.getState().plugins[this.pluginId]}dispatch(e){return this.store.dispatchToPlugin(this.pluginId,e)}subscribeToState(e){return this.store.subscribeToPlugin(this.pluginId,(t,n,o)=>{e(t,n,o)})}onAction(e,t){return this.store.onAction(e,(e,n,o)=>{t(e,n.plugins[this.pluginId],o.plugins[this.pluginId])})}}const pn="LOAD_DOCUMENT",gn="SET_DOCUMENT",mn="SET_DOCUMENT_ERROR",fn="SET_SCALE",vn="SET_ROTATION",yn="SET_PAGES",bn=[pn,gn,mn,fn,vn,yn],wn=e=>({type:yn,payload:e});class xn{constructor(e,t){this.initialCoreState=t,this.pluginReducers={},this.listeners=[],this.pluginListeners={},this.state={core:t,plugins:{}},this.coreReducer=e}addPluginReducer(e,t,n){this.state.plugins[e]=n,this.pluginReducers[e]=t}dispatchToCore(e){if(!this.coreReducer)return this.getState();const t=this.getState();this.state.core=this.coreReducer(this.state.core,e);const n=this.getState();return this.listeners.forEach(o=>o(e,n,t)),n}dispatchToPlugin(e,t,n=!0){const o=this.getState(),i=this.pluginReducers[e];if(!i)return o;const r=o.plugins[e],a=i(r,t);this.state.plugins[e]=a;const l=this.getState();return n&&this.listeners.forEach(e=>e(t,l,o)),this.pluginListeners[e]&&this.pluginListeners[e].forEach(e=>{e(t,a,r)}),a}dispatch(e){const t=this.getState();this.isCoreAction(e)&&(this.state.core=this.coreReducer(this.state.core,e));for(const n in this.pluginReducers){const o=this.pluginReducers[n],i=t.plugins[n];o&&(this.state.plugins[n]=o(i,e))}const n=this.getState();return this.listeners.forEach(o=>o(e,n,t)),n}getState(){return{core:{...this.state.core},plugins:{...this.state.plugins}}}subscribe(e){return this.listeners.push(e),()=>{this.listeners=this.listeners.filter(t=>t!==e)}}subscribeToPlugin(e,t){if(!(e in this.state.plugins))throw new Error(`Plugin state not found for plugin "${e}". Did you forget to call addPluginReducer?`);return this.pluginListeners[e]||(this.pluginListeners[e]=[]),this.pluginListeners[e].push(t),()=>{this.pluginListeners[e]=this.pluginListeners[e].filter(e=>e!==t),0===this.pluginListeners[e].length&&delete this.pluginListeners[e]}}onAction(e,t){return this.subscribe((n,o,i)=>{n.type===e&&t(n,o,i)})}getPluginStore(e){if(!(e in this.state.plugins))throw new Error(`Plugin state not found for plugin "${e}". Did you forget to call addPluginReducer?`);return new hn(this,e)}isCoreAction(e){return bn.includes(e.type)}destroy(){var e,t;this.listeners.length=0;for(const n in this.pluginListeners)null==(t=null==(e=this.pluginListeners[n])?void 0:e.splice)||t.call(e,0);this.pluginListeners={},this.pluginReducers={},this.state.plugins={},this.state.core={...this.initialCoreState}}}const kn=e=>e.pages.map(t=>t.map(t=>({...t,rotatedSize:We(t.size,e.rotation,1)}))),Cn=(e,t)=>{switch(t.type){case pn:return{...e,loading:!0,error:null};case gn:return{...e,document:t.payload,pages:t.payload.pages.map(e=>[e]),loading:!1,error:null};case vn:return{...e,rotation:t.payload};case yn:return{...e,pages:t.payload};case mn:return{...e,loading:!1,error:t.payload};case fn:return{...e,scale:t.payload};default:return e}};class Sn{constructor(e,t){this.plugins=new Map,this.manifests=new Map,this.capabilities=new Map,this.status=new Map,this.configurations=new Map,this.engineInitialized=!1,this.initPromise=null,this.pendingRegistrations=[],this.processingRegistrations=[],this.initialized=!1,this.isInitializing=!1,this.pluginsReadyPromise=null,this.destroyed=!1,this.resolver=new ln,this.engine=e,this.initialCoreState=(e=>({scale:(null==e?void 0:e.scale)??1,rotation:(null==e?void 0:e.rotation)??je.Degree0,document:null,pages:[],loading:!1,error:null}))(t),this.store=new xn(Cn,this.initialCoreState)}async ensureEngineInitialized(){if(!this.engineInitialized)if(this.engine.initialize){const e=this.engine.initialize();await e.toPromise(),this.engineInitialized=!0}else this.engineInitialized=!0}registerPlugin(e,t){if(this.initialized&&!this.isInitializing)throw new sn("Cannot register plugins after initialization");this.validateManifest(e.manifest),this.store.addPluginReducer(e.manifest.id,e.reducer,"function"==typeof e.initialState?e.initialState(this.initialCoreState,{...e.manifest.defaultConfig,...t}):e.initialState),this.pendingRegistrations.push({package:e,config:t})}getStore(){return this.store}getEngine(){return this.engine}pluginsReady(){return this.pluginsReadyPromise||(this.pluginsReadyPromise=(async()=>{this.initialized||await this.initialize();const e=Array.from(this.plugins.values()).map(e=>"function"==typeof e.ready?e.ready():Promise.resolve());await Promise.all(e)})()),this.pluginsReadyPromise}async initialize(){if(this.destroyed)throw new sn("Registry has been destroyed");return this.initPromise||(this.initPromise=(async()=>{var e;if(this.initialized)throw new sn("Registry is already initialized");this.isInitializing=!0;try{if(await this.ensureEngineInitialized(),this.destroyed)return;for(;this.pendingRegistrations.length>0;){if(this.destroyed)return;this.processingRegistrations=[...this.pendingRegistrations],this.pendingRegistrations=[];for(const e of this.processingRegistrations){const t=new Set,n=[...e.package.manifest.requires,...e.package.manifest.optional];for(const e of n){const n=this.processingRegistrations.find(t=>t.package.manifest.provides.includes(e));n&&t.add(n.package.manifest.id)}this.resolver.addNode(e.package.manifest.id,[...t])}const e=this.resolver.resolveLoadOrder();for(const t of e){const e=this.processingRegistrations.find(e=>e.package.manifest.id===t);await this.initializePlugin(e.package.manifest,e.package.create,e.config)}this.processingRegistrations=[],this.resolver=new ln}for(const t of this.plugins.values())await(null==(e=t.postInitialize)?void 0:e.call(t).catch(e=>{console.error(`Error in postInitialize for plugin ${t.id}`,e),this.status.set(t.id,"error")}));this.initialized=!0}catch(e){if(e instanceof Error)throw new dn(`Failed to resolve plugin dependencies: ${e.message}`);throw e}finally{this.isInitializing=!1}})()),this.initPromise}async initializePlugin(e,t,n){const o={...e.defaultConfig,...n};this.validateConfig(e.id,o,e.defaultConfig);const i=t(this,this.engine,o);this.validatePlugin(i);for(const t of e.requires)if(!this.capabilities.has(t))throw new sn(`Missing required capability: ${t} for plugin ${e.id}`);for(const t of e.optional)this.capabilities.has(t)&&console.debug(`Optional capability ${t} is available for plugin ${e.id}`);console.log("initializePlugin",e.id,e.provides);for(const t of e.provides){if(this.capabilities.has(t))throw new sn(`Capability ${t} is already provided by plugin ${this.capabilities.get(t)}`);this.capabilities.set(t,e.id)}this.plugins.set(e.id,i),this.manifests.set(e.id,e),this.status.set(e.id,"registered"),this.configurations.set(e.id,o);try{i.initialize&&await i.initialize(o),this.status.set(e.id,"active")}catch(t){throw this.plugins.delete(e.id),this.manifests.delete(e.id),console.log("initializePlugin failed",e.id,e.provides),e.provides.forEach(e=>this.capabilities.delete(e)),t}}getPluginConfig(e){const t=this.configurations.get(e);if(!t)throw new cn(`Configuration for plugin ${e} not found`);return t}validateConfig(e,t,n){const o=Object.keys(n).filter(e=>!t.hasOwnProperty(e));if(o.length>0)throw new un(`Missing required configuration keys for plugin ${e}: ${o.join(", ")}`)}async updatePluginConfig(e,t){const n=this.getPlugin(e);if(!n)throw new cn(`Plugin ${e} not found`);const o=this.manifests.get(e),i=this.configurations.get(e);if(!o||!i)throw new cn(`Plugin ${e} not found`);const r={...i,...t};this.validateConfig(e,r,o.defaultConfig),this.configurations.set(e,r),n.initialize&&await n.initialize(r)}registerPluginBatch(e){for(const t of e)this.registerPlugin(t.package,t.config)}async unregisterPlugin(e){const t=this.plugins.get(e);if(!t)throw new cn(`Plugin ${e} is not registered`);const n=this.manifests.get(e);if(!n)throw new cn(`Manifest for plugin ${e} not found`);for(const[t,o]of this.manifests.entries())if(t!==e&&[...o.requires,...o.optional].some(e=>n.provides.includes(e)))throw new sn(`Cannot unregister plugin ${e}: plugin ${t} depends on it`);try{t.destroy&&await t.destroy();for(const e of n.provides)this.capabilities.delete(e);this.plugins.delete(e),this.manifests.delete(e),this.status.delete(e)}catch(t){if(t instanceof Error)throw new Error(`Failed to unregister plugin ${e}: ${t.message}`);throw t}}getPlugin(e){return this.plugins.get(e)||null}getCapabilityProvider(e){const t=this.capabilities.get(e);return t?this.getPlugin(t):null}hasCapability(e){return this.capabilities.has(e)}getAllPlugins(){return Array.from(this.plugins.values())}getPluginStatus(e){const t=this.status.get(e);if(!t)throw new cn(`Plugin ${e} not found`);return t}validatePlugin(e){if(!e.id)throw new sn("Plugin must have an id")}validateManifest(e){if(!e.id)throw new sn("Manifest must have an id");if(!e.name)throw new sn("Manifest must have a name");if(!e.version)throw new sn("Manifest must have a version");if(!Array.isArray(e.provides))throw new sn("Manifest must have a provides array");if(!Array.isArray(e.requires))throw new sn("Manifest must have a requires array");if(!Array.isArray(e.optional))throw new sn("Manifest must have an optional array")}isDestroyed(){return this.destroyed}async destroy(){var e;if(this.destroyed)throw new sn("Registry has already been destroyed");this.destroyed=!0;try{await this.initPromise}catch{}for(const t of Array.from(this.plugins.values()).reverse())await(null==(e=t.destroy)?void 0:e.call(t));this.store.destroy(),this.plugins.clear(),this.manifests.clear(),this.capabilities.clear(),this.status.clear(),this.pendingRegistrations.length=0,this.processingRegistrations.length=0}}function Mn(e,t){return{package:e,config:t}}class In{constructor(e,t){if(this.id=e,this.registry=t,this.debouncedActions={},this.unsubscribeFromState=null,this.unsubscribeFromCoreStore=null,e!==this.constructor.id)throw new Error(`Plugin ID mismatch: ${e} !== ${this.constructor.id}`);this.coreStore=this.registry.getStore(),this.pluginStore=this.coreStore.getPluginStore(this.id),this.unsubscribeFromState=this.pluginStore.subscribeToState((e,t,n)=>{this.onStoreUpdated(n,t)}),this.unsubscribeFromCoreStore=this.coreStore.subscribe((e,t,n)=>{this.onCoreStoreUpdated(n,t)}),this.readyPromise=new Promise(e=>{this.readyResolve=e}),this.readyResolve()}provides(){if(!this._capability){const e=this.buildCapability();this._capability=Object.freeze(e)}return this._capability}get state(){return this.pluginStore.getState()}get coreState(){return this.coreStore.getState()}getState(){return this.pluginStore.getState()}getCoreState(){return this.coreStore.getState()}dispatchCoreAction(e){return this.coreStore.dispatchToCore(e)}dispatchToAllPlugins(e){return this.coreStore.dispatch(e)}dispatch(e){return this.pluginStore.dispatch(e)}debouncedDispatch(e,t=100){const n=Date.now();return n-(this.debouncedActions[e.type]||0)>=t&&(this.debouncedActions[e.type]=n,this.dispatch(e),!0)}subscribe(e){return this.pluginStore.subscribeToState(e)}subscribeToCoreStore(e){return this.coreStore.subscribe(e)}onStoreUpdated(e,t){}onCoreStoreUpdated(e,t){}destroy(){this.unsubscribeFromState&&(this.unsubscribeFromState(),this.unsubscribeFromState=null),this.unsubscribeFromCoreStore&&(this.unsubscribeFromCoreStore(),this.unsubscribeFromCoreStore=null)}ready(){return this.readyPromise}markReady(){this.readyResolve()}resetReady(){this.readyPromise=new Promise(e=>{this.readyResolve=e})}}class Pn{constructor(e,t){this.handler=e,this.options=t,this.lastRun=0,this.handle=e=>{"debounce"===this.options.mode?this.debounce(e):this.throttle(e)}}debounce(e){this.timeoutId&&window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(()=>{this.handler(e),this.timeoutId=void 0},this.options.wait)}throttle(e){if("debounce"===this.options.mode)return;const t=Date.now(),n=this.options.throttleMode||"leading-trailing";t-this.lastRun>=this.options.wait&&("leading-trailing"===n&&this.handler(e),this.lastRun=t),this.timeoutId&&window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(()=>{this.handler(e),this.lastRun=Date.now(),this.timeoutId=void 0},this.options.wait-(t-this.lastRun))}destroy(){this.timeoutId&&window.clearTimeout(this.timeoutId)}}function An(e,t,n){return e<t?t:e>n?n:e}function _n(e,t,n){if(e===t)return!0;if(null==e||null==t)return e===t;const o=typeof e;if(o!==typeof t)return!1;if("object"===o){n||(n=new Set);const o=function(e,t){return`${Nn(e)}__${Nn(t)}`}(e,t);if(n.has(o))return!0;n.add(o);const i=Array.isArray(e),r=Array.isArray(t);return i&&r?function(e,t,n){if(e.length!==t.length)return!1;const o=new Array(t.length).fill(!1);e:for(let i=0;i<e.length;i++){const r=e[i];for(let e=0;e<t.length;e++)if(!o[e]&&_n(r,t[e],n)){o[e]=!0;continue e}return!1}return!0}(e,t,n):!i&&!r&&function(e,t,n){const o=Object.keys(e).sort(),i=Object.keys(t).sort();if(o.length!==i.length)return!1;for(let e=0;e<o.length;e++)if(o[e]!==i[e])return!1;for(const i of o)if(!_n(e[i],t[i],n))return!1;return!0}(e,t,n)}return!1}let Tn=0;const En=new WeakMap;function Nn(e){return En.has(e)||En.set(e,++Tn),En.get(e)}function zn(){const e=new Set;return{emit:(t=void 0)=>e.forEach(e=>e(t)),on:t=>(e.add(t),()=>e.delete(t)),off:t=>e.delete(t),clear:()=>e.clear()}}function Rn(e,t=_n){const n=new Set,o=new Map;let i=e;const r=(e,t)=>{let r=e,a=()=>{};if(t){const n=new Pn(e,t);r=n.handle,a=()=>n.destroy(),o.set(e,{wrapped:r,destroy:a})}return void 0!==i&&r(i),n.add(r),()=>{n.delete(r),a(),o.delete(e)}};return{get value(){return i},emit(e=void 0){void 0!==i&&t(i,e)||(i=e,(e=>{n.forEach(t=>t(e))})(e))},on:r,off(e){const t=o.get(e);t?(n.delete(t.wrapped),t.destroy(),o.delete(e)):n.delete(e)},clear(){n.clear(),o.forEach(e=>e.destroy()),o.clear()},select:(e,t=_n)=>(n,o)=>{let a;if(void 0!==i){const t=e(i);a=t,n(t)}return r(o=>{const i=e(o);void 0!==a&&t(a,i)||(a=i,n(i))},o)}}}const Ln=se({registry:null,isInitializing:!0,pluginsReady:!1});function Dn({engine:e,onInitialized:t,plugins:n,children:o}){const[i,r]=Ce(null),[a,l]=Ce(!0),[s,c]=Ce(!1),d=Ie(t);return Se(()=>{d.current=t},[t]),Se(()=>{const t=new Sn(e);return t.registerPluginBatch(n),(async()=>{var e;await t.initialize(),t.isDestroyed()||(await(null==(e=d.current)?void 0:e.call(d,t)),t.isDestroyed()||(t.pluginsReady().then(()=>{t.isDestroyed()||c(!0)}),r(t),l(!1)))})().catch(console.error),()=>{t.destroy(),r(null),l(!0),c(!1)}},[e,n]),He(Ln.Provider,{value:{registry:i,isInitializing:a,pluginsReady:s},children:"function"==typeof o?o({registry:i,isInitializing:a,pluginsReady:s}):o})}function On(){const e=_e(Ln);if(void 0===e)throw new Error("useCapability must be used within a PDFContext.Provider");const{registry:t,isInitializing:n}=e;if(n)return e;if(null===t)throw new Error("PDF registry failed to initialize properly");return e}function Hn(e){const{registry:t}=On();if(null===t)return{plugin:null,isLoading:!0,ready:new Promise(()=>{})};const n=t.getPlugin(e);if(!n)throw new Error(`Plugin ${e} not found`);return{plugin:n,isLoading:!1,ready:n.ready()}}function jn(e){const{plugin:t,isLoading:n,ready:o}=Hn(e);if(!t)return{provides:null,isLoading:n,ready:o};if(!t.provides)throw new Error(`Plugin ${e} does not provide a capability`);return{provides:t.provides(),isLoading:n,ready:o}}const Bn="https://appliedcryptography.page/res/js/vendor/pdfium.wasm",$n="viewport",Fn={id:$n,name:"Viewport Plugin",version:"1.0.0",provides:["viewport"],requires:[],optional:[],defaultConfig:{enabled:!0,viewportGap:10,scrollEndDelay:300}},Un="SET_VIEWPORT_METRICS",Wn="SET_VIEWPORT_SCROLL_METRICS",Gn="SET_VIEWPORT_GAP",Vn="SET_SCROLL_ACTIVITY",qn={viewportGap:0,viewportMetrics:{width:0,height:0,scrollTop:0,scrollLeft:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0,relativePosition:{x:0,y:0}},isScrolling:!1},Zn=class extends In{constructor(e,t,n){var o;super(e,t),this.id=e,this.viewportResize$=Rn(),this.viewportMetrics$=Rn(),this.scrollMetrics$=Rn(),this.scrollReq$=zn(),this.scrollActivity$=Rn(),this.rectProvider=null,n.viewportGap&&this.dispatch((o=n.viewportGap,{type:Gn,payload:o})),this.scrollEndDelay=n.scrollEndDelay||300}buildCapability(){return{getViewportGap:()=>this.state.viewportGap,getMetrics:()=>this.state.viewportMetrics,getBoundingRect:()=>{var e;return(null==(e=this.rectProvider)?void 0:e.call(this))??{origin:{x:0,y:0},size:{width:0,height:0}}},scrollTo:e=>this.scrollTo(e),isScrolling:()=>this.state.isScrolling,onScrollChange:this.scrollMetrics$.on,onViewportChange:this.viewportMetrics$.on,onViewportResize:this.viewportResize$.on,onScrollActivity:this.scrollActivity$.on}}setViewportResizeMetrics(e){this.dispatch(function(e){return{type:Un,payload:e}}(e)),this.viewportResize$.emit(this.state.viewportMetrics)}setViewportScrollMetrics(e){e.scrollTop===this.state.viewportMetrics.scrollTop&&e.scrollLeft===this.state.viewportMetrics.scrollLeft||(this.dispatch(function(e){return{type:Wn,payload:e}}(e)),this.bumpScrollActivity(),this.scrollMetrics$.emit({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}))}onScrollRequest(e){return this.scrollReq$.on(e)}registerBoundingRectProvider(e){this.rectProvider=e}bumpScrollActivity(){this.debouncedDispatch({type:Vn,payload:!1},this.scrollEndDelay)}scrollTo(e){const{x:t,y:n,center:o,behavior:i="auto"}=e;if(o){const e=this.state.viewportMetrics,o=t-e.clientWidth/2,r=n-e.clientHeight/2;this.scrollReq$.emit({x:o,y:r,behavior:i})}else this.scrollReq$.emit({x:t,y:n,behavior:i})}onStoreUpdated(e,t){e!==t&&(this.viewportMetrics$.emit(t.viewportMetrics),e.isScrolling!==t.isScrolling&&this.scrollActivity$.emit(t.isScrolling))}async initialize(e){}async destroy(){super.destroy(),this.viewportMetrics$.clear(),this.viewportResize$.clear(),this.scrollMetrics$.clear(),this.scrollReq$.clear(),this.scrollActivity$.clear(),this.rectProvider=null,this.scrollEndTimer&&clearTimeout(this.scrollEndTimer)}};Zn.id="viewport";let Yn=Zn;const Xn={manifest:Fn,create:(e,t,n)=>new Yn($n,e,n),reducer:(e=qn,t)=>{switch(t.type){case Gn:return{...e,viewportGap:t.payload};case Un:return{...e,viewportMetrics:{width:t.payload.width,height:t.payload.height,scrollTop:t.payload.scrollTop,scrollLeft:t.payload.scrollLeft,clientWidth:t.payload.clientWidth,clientHeight:t.payload.clientHeight,scrollWidth:t.payload.scrollWidth,scrollHeight:t.payload.scrollHeight,relativePosition:{x:t.payload.scrollWidth<=t.payload.clientWidth?0:t.payload.scrollLeft/(t.payload.scrollWidth-t.payload.clientWidth),y:t.payload.scrollHeight<=t.payload.clientHeight?0:t.payload.scrollTop/(t.payload.scrollHeight-t.payload.clientHeight)}}};case Wn:return{...e,viewportMetrics:{...e.viewportMetrics,scrollTop:t.payload.scrollTop,scrollLeft:t.payload.scrollLeft},isScrolling:!0};case Vn:return{...e,isScrolling:t.payload};default:return e}},initialState:qn},Kn=()=>jn(Yn.id);function Qn({children:e,...t}){const[n,o]=Ce(0),i=function(){const{plugin:e}=Hn(Yn.id),t=Ie(null);return Me(()=>{if(!e)return;const n=t.current;if(!n)return;e.registerBoundingRectProvider(()=>{const e=n.getBoundingClientRect();return{origin:{x:e.left,y:e.top},size:{width:e.width,height:e.height}}});const o=()=>{e.setViewportScrollMetrics({scrollTop:n.scrollTop,scrollLeft:n.scrollLeft})};n.addEventListener("scroll",o);const i=new ResizeObserver(()=>{e.setViewportResizeMetrics({width:n.offsetWidth,height:n.offsetHeight,clientWidth:n.clientWidth,clientHeight:n.clientHeight,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft,scrollWidth:n.scrollWidth,scrollHeight:n.scrollHeight})});i.observe(n);const r=e.onScrollRequest(({x:e,y:t,behavior:o="auto"})=>{requestAnimationFrame(()=>{n.scrollTo({left:e,top:t,behavior:o})})});return()=>{e.registerBoundingRectProvider(null),n.removeEventListener("scroll",o),i.disconnect(),r()}},[e]),t}(),{provides:r}=Kn();Se(()=>{r&&o(r.getViewportGap())},[r]);const{style:a,...l}=t;return He("div",{...l,ref:i,style:{..."object"==typeof a?a:{},padding:`${n}px`},children:e})}var Jn=(e=>(e.Vertical="vertical",e.Horizontal="horizontal",e))(Jn||{});class eo{constructor(e){this.pageGap=e.pageGap??20,this.viewportGap=e.viewportGap??20,this.bufferSize=e.bufferSize??2}getVisibleRange(e,t,n){const o=this.getScrollOffset(e),i=o,r=o+this.getClientSize(e);let a=0;for(;a<t.length&&(t[a].offset+t[a].height)*n<=i;)a++;let l=a;for(;l<t.length&&t[l].offset*n<=r;)l++;return{start:Math.max(0,a-this.bufferSize),end:Math.min(t.length-1,l+this.bufferSize-1)}}handleScroll(e,t,n){const o=this.getVisibleRange(e,t,n),i=t.slice(o.start,o.end+1),r=this.calculatePageVisibility(i,e,n),a=r.map(e=>e.pageNumber),l=t.slice(o.start,o.end+1).flatMap(e=>e.index),s=this.determineCurrentPage(r),c=t[o.start],d=t[o.end],u=c?c.offset*n:0,h=d?(t[t.length-1].offset+t[t.length-1].height)*n-(d.offset+d.height)*n:0;return{currentPage:s,visiblePages:a,pageVisibilityMetrics:r,renderedPageIndexes:l,scrollOffset:{x:e.scrollLeft,y:e.scrollTop},startSpacing:u,endSpacing:h}}calculatePageVisibility(e,t,n){const o=[];return e.forEach(e=>{e.pageLayouts.forEach(i=>{const r=e.x*n,a=e.y*n,l=r+i.x*n,s=a+i.y*n,c=i.rotatedWidth*n,d=i.rotatedHeight*n,u=t.scrollLeft,h=t.scrollTop,p=u+t.clientWidth,g=h+t.clientHeight,m=Math.max(l,u),f=Math.max(s,h),v=Math.min(l+c,p),y=Math.min(s+d,g);if(m<v&&f<y){const e=v-m,t=y-f,r=c*d,a=e*t;o.push({pageNumber:i.pageNumber,viewportX:m-u,viewportY:f-h,visiblePercentage:a/r*100,original:{pageX:(m-l)/n,pageY:(f-s)/n,visibleWidth:e/n,visibleHeight:t/n,scale:1},scaled:{pageX:m-l,pageY:f-s,visibleWidth:e,visibleHeight:t,scale:n}})}})}),o}determineCurrentPage(e){if(0===e.length)return 1;const t=Math.max(...e.map(e=>e.visiblePercentage)),n=e.filter(e=>e.visiblePercentage===t);return 1===n.length?n[0].pageNumber:n.sort((e,t)=>e.pageNumber-t.pageNumber)[0].pageNumber}getRectLocationForPage(e,t){const n=t.find(t=>t.pageNumbers.includes(e));if(!n)return null;const o=n.pageLayouts.find(t=>t.pageNumber===e);return o?{origin:{x:n.x+o.x,y:n.y+o.y},size:{width:o.width,height:o.height}}:null}getScrollPositionForPage(e,t,n,o,i){const r=this.getRectLocationForPage(e,t);if(!r)return null;const a=Ze(r.origin,n);if(i){const e=function(e,t,n,o){return Ze(qe(e,t,n),o)}({width:r.size.width,height:r.size.height},{x:i.x,y:i.y},o,n);return{x:a.x+e.x+this.viewportGap,y:a.y+e.y+this.viewportGap}}return{x:a.x+this.viewportGap,y:a.y+this.viewportGap}}getRectPositionForPage(e,t,n,o,i){const r=this.getRectLocationForPage(e,t);if(!r)return null;const a=Ze(r.origin,n),l=Je({width:r.size.width,height:r.size.height},i,o,n);return{origin:{x:a.x+l.origin.x,y:a.y+l.origin.y},size:l.size}}}class to extends eo{constructor(e){super(e)}createVirtualItems(e){let t=0;return e.map((e,n)=>{let o=0;const i=e.map(e=>{const t={pageNumber:e.index+1,pageIndex:e.index,x:o,y:0,width:e.size.width,height:e.size.height,rotatedWidth:e.rotatedSize.width,rotatedHeight:e.rotatedSize.height};return o+=e.rotatedSize.width+this.pageGap,t}),r=e.reduce((t,n,o)=>t+n.rotatedSize.width+(o<e.length-1?this.pageGap:0),0),a=Math.max(...e.map(e=>e.rotatedSize.height)),l={id:`item-${n}`,x:0,y:t,offset:t,width:r,height:a,pageLayouts:i,pageNumbers:e.map(e=>e.index+1),index:n};return t+=a+this.pageGap,l})}getTotalContentSize(e){return 0===e.length?{width:0,height:0}:{width:Math.max(...e.map(e=>e.width)),height:e[e.length-1].y+e[e.length-1].height}}getScrollOffset(e){return e.scrollTop}getClientSize(e){return e.clientHeight}}class no extends eo{constructor(e){super(e)}createVirtualItems(e){let t=0;return e.map((e,n)=>{let o=0;const i=e.map(e=>{const t={pageNumber:e.index+1,pageIndex:e.index,x:o,y:0,width:e.size.width,height:e.size.height,rotatedWidth:e.rotatedSize.width,rotatedHeight:e.rotatedSize.height};return o+=e.rotatedSize.width+this.pageGap,t}),r=e.reduce((t,n,o)=>t+n.rotatedSize.width+(o<e.length-1?this.pageGap:0),0),a=Math.max(...e.map(e=>e.rotatedSize.height)),l={id:`item-${n}`,x:t,y:0,offset:t,width:r,height:a,pageLayouts:i,pageNumbers:e.map(e=>e.index+1),index:n};return t+=r+this.pageGap,l})}getTotalContentSize(e){return 0===e.length?{width:0,height:0}:{width:e[e.length-1].x+e[e.length-1].width,height:Math.max(...e.map(e=>e.height))}}getScrollOffset(e){return e.scrollLeft}getClientSize(e){return e.clientWidth}}const oo="UPDATE_SCROLL_STATE",io="UPDATE_TOTAL_PAGES";function ro(e){return{type:oo,payload:e}}const ao=class extends In{constructor(e,t,n){var o,i,r,a;super(e,t),this.id=e,this.config=n,this.currentScale=1,this.currentRotation=je.Degree0,this.currentPage=1,this.layoutReady=!1,this.layout$=Rn(),this.scroll$=Rn(),this.state$=Rn(),this.scrollerLayout$=Rn(),this.pageChange$=Rn(),this.layoutReady$=Rn(),this.viewport=this.registry.getPlugin("viewport").provides(),this.strategyConfig={pageGap:(null==(o=this.config)?void 0:o.pageGap)??10,viewportGap:this.viewport.getViewportGap(),bufferSize:(null==(i=this.config)?void 0:i.bufferSize)??2},this.strategy=(null==(r=this.config)?void 0:r.strategy)===Jn.Horizontal?new no(this.strategyConfig):new to(this.strategyConfig),this.initialPage=null==(a=this.config)?void 0:a.initialPage,this.currentScale=this.coreState.core.scale,this.currentRotation=this.coreState.core.rotation,this.viewport.onViewportChange(e=>this.commitMetrics(this.computeMetrics(e)),{mode:"throttle",wait:250}),this.coreStore.onAction(gn,(e,t)=>{const n=t.core.pages.length;this.dispatch({type:io,payload:n}),this.pageChange$.emit({pageNumber:this.currentPage,totalPages:n}),this.refreshAll(kn(t.core),this.viewport.getMetrics())}),this.coreStore.onAction(vn,(e,t)=>this.refreshAll(kn(t.core),this.viewport.getMetrics())),this.coreStore.onAction(yn,(e,t)=>this.refreshAll(kn(t.core),this.viewport.getMetrics()))}computeLayout(e){const t=this.strategy.createVirtualItems(e);return{virtualItems:t,totalContentSize:this.strategy.getTotalContentSize(t)}}computeMetrics(e,t=this.state.virtualItems){return this.strategy.handleScroll(e,t,this.currentScale)}commit(e,t){this.dispatch(ro(e)),(null==t?void 0:t.layout)&&this.layout$.emit(t.layout),(null==t?void 0:t.metrics)&&(this.scroll$.emit(t.metrics),t.metrics.currentPage!==this.currentPage&&(this.currentPage=t.metrics.currentPage,this.pageChange$.emit({pageNumber:this.currentPage,totalPages:this.state.totalPages}))),this.scrollerLayout$.emit(this.getScrollerLayoutFromState())}commitMetrics(e){this.commit(e,{metrics:e})}refreshAll(e,t){const n=this.computeLayout(e),o=this.computeMetrics(t,n.virtualItems);this.commit({...n,...o},{layout:n,metrics:o})}getVirtualItemsFromState(){return this.state.virtualItems||[]}getScrollerLayoutFromState(){const e=this.coreState.core.scale;return((e,t)=>({startSpacing:e.startSpacing,endSpacing:e.endSpacing,totalWidth:e.totalContentSize.width*t,totalHeight:e.totalContentSize.height*t,pageGap:e.pageGap*t,strategy:e.strategy,items:e.renderedPageIndexes.map(n=>({...e.virtualItems[n],pageLayouts:e.virtualItems[n].pageLayouts.map(e=>({...e,rotatedWidth:e.rotatedWidth*t,rotatedHeight:e.rotatedHeight*t,width:e.width*t,height:e.height*t}))}))}))(this.state,e)}pushScrollLayout(){this.scrollerLayout$.emit(this.getScrollerLayoutFromState())}onStoreUpdated(e,t){this.pushScrollLayout()}onCoreStoreUpdated(e,t){e.core.scale!==t.core.scale&&(this.currentScale=t.core.scale,this.commitMetrics(this.computeMetrics(this.viewport.getMetrics()))),e.core.rotation!==t.core.rotation&&(this.currentRotation=t.core.rotation)}setScrollStrategy(e){if(e===Jn.Horizontal&&this.strategy instanceof no||e===Jn.Vertical&&this.strategy instanceof to)return;this.strategy=e===Jn.Horizontal?new no(this.strategyConfig):new to(this.strategyConfig),this.dispatch(ro({strategy:e}));const t=kn(this.coreState.core);this.refreshAll(t,this.viewport.getMetrics())}setLayoutReady(){this.layoutReady||(this.layoutReady=!0,this.layoutReady$.emit(!0))}buildCapability(){return{onStateChange:this.state$.on,onLayoutChange:this.layout$.on,onScroll:this.scroll$.on,onPageChange:this.pageChange$.on,onScrollerData:this.scrollerLayout$.on,onLayoutReady:this.layoutReady$.on,getCurrentPage:()=>this.currentPage,getTotalPages:()=>this.state.totalPages,scrollToPage:e=>{const{pageNumber:t,behavior:n="smooth",pageCoordinates:o,center:i=!1}=e,r=this.getVirtualItemsFromState(),a=this.strategy.getScrollPositionForPage(t,r,this.currentScale,this.currentRotation,o);a&&this.viewport.scrollTo({...a,behavior:n,center:i})},scrollToNextPage:(e="smooth")=>{const t=this.getVirtualItemsFromState(),n=t.findIndex(e=>e.pageNumbers.includes(this.currentPage));if(n>=0&&n<t.length-1){const o=t[n+1],i=this.strategy.getScrollPositionForPage(o.pageNumbers[0],t,this.currentScale,this.currentRotation);i&&this.viewport.scrollTo({...i,behavior:e})}},scrollToPreviousPage:(e="smooth")=>{const t=this.getVirtualItemsFromState(),n=t.findIndex(e=>e.pageNumbers.includes(this.currentPage));if(n>0){const o=t[n-1],i=this.strategy.getScrollPositionForPage(o.pageNumbers[0],t,this.currentScale,this.currentRotation);i&&this.viewport.scrollTo({...i,behavior:e})}},getMetrics:this.getMetrics.bind(this),getLayout:this.getLayout.bind(this),getRectPositionForPage:this.getRectPositionForPage.bind(this),getPageGap:()=>this.state.pageGap,getScrollerLayout:()=>this.getScrollerLayoutFromState(),setScrollStrategy:e=>this.setScrollStrategy(e)}}getMetrics(e){const t=e||this.viewport.getMetrics(),n=this.getVirtualItemsFromState();return this.strategy.handleScroll(t,n,this.currentScale)}getLayout(){return{virtualItems:this.state.virtualItems,totalContentSize:this.state.totalContentSize}}getRectPositionForPage(e,t,n,o){return this.strategy.getRectPositionForPage(e+1,this.state.virtualItems,n??this.currentScale,o??this.currentRotation,t)}async initialize(){}async destroy(){this.layout$.clear(),this.scroll$.clear(),this.pageChange$.clear(),this.state$.clear(),this.scrollerLayout$.clear(),this.layoutReady$.clear(),super.destroy()}};ao.id="scroll";let lo=ao;const so="scroll",co={currentPage:1,visiblePages:[],pageVisibilityMetrics:[],renderedPageIndexes:[],scrollOffset:{x:0,y:0},startSpacing:0,endSpacing:0},uo={manifest:{id:so,name:"Scroll Plugin",version:"1.0.0",provides:["scroll"],requires:["viewport"],optional:[],defaultConfig:{enabled:!0,pageGap:10}},create:(e,t,n)=>new lo(so,e,n),reducer:(e,t)=>{switch(t.type){case io:return{...e,totalPages:t.payload};case fn:return{...e,scale:t.payload};case oo:return{...e,...t.payload};case"SET_DESIRED_SCROLL_POSITION":return{...e,desiredScrollPosition:t.payload};default:return e}},initialState:(e,t)=>((e,t)=>({virtualItems:[],totalPages:e.pages.length,totalContentSize:{width:0,height:0},desiredScrollPosition:{x:0,y:0},strategy:t.strategy??Jn.Vertical,pageGap:t.pageGap??10,scale:e.scale,...co}))(e,t)},ho=()=>jn(lo.id);function po({renderPage:e,overlayElements:t,...n}){const{provides:o}=ho(),{plugin:i}=Hn(lo.id),{registry:r}=On(),[a,l]=Ce(()=>(null==o?void 0:o.getScrollerLayout())??null);if(Se(()=>{if(o)return o.onScrollerData(l)},[o]),Se(()=>{i&&i.setLayoutReady()},[i]),!a)return null;if(!r)return null;const s=r.getStore().getState();return He("div",{...n,style:{width:`${a.totalWidth}px`,height:`${a.totalHeight}px`,position:"relative",boxSizing:"border-box",margin:"0 auto",...a.strategy===Jn.Horizontal&&{display:"flex",flexDirection:"row"}},children:[He("div",{style:{...a.strategy===Jn.Horizontal?{width:a.startSpacing,height:"100%",flexShrink:0}:{height:a.startSpacing,width:"100%"}}}),He("div",{style:{gap:a.pageGap,display:"flex",alignItems:"center",position:"relative",boxSizing:"border-box",...a.strategy===Jn.Horizontal?{flexDirection:"row",minHeight:"100%"}:{flexDirection:"column",minWidth:"fit-content"}},children:a.items.map(t=>He("div",{style:{display:"flex",justifyContent:"center",gap:a.pageGap},children:t.pageLayouts.map(t=>He("div",{style:{width:`${t.rotatedWidth}px`,height:`${t.rotatedHeight}px`},children:e({...t,rotation:s.core.rotation,scale:s.core.scale,document:s.core.document})},t.pageNumber))},t.pageNumbers[0]))}),He("div",{style:{...a.strategy===Jn.Horizontal?{width:a.endSpacing,height:"100%",flexShrink:0}:{height:a.endSpacing,width:"100%"}}}),t]})}var go=(e=>(e.None="none",e.Odd="odd",e.Even="even",e))(go||{});const mo="SET_SPREAD_MODE";function fo(e){return{type:mo,payload:e}}const vo=class extends In{constructor(e,t,n){super(e,t),this.spreadEmitter$=zn(),this.resetReady(),this.dispatch(fo(n.defaultSpreadMode??go.None)),t.getPlugin("loader").provides().onDocumentLoaded(e=>this.documentLoaded(e))}async initialize(e){e.defaultSpreadMode&&this.dispatch(fo(e.defaultSpreadMode))}documentLoaded(e){this.dispatchCoreAction(wn(this.getSpreadPagesObjects(e.pages))),this.markReady()}getSpreadPagesObjects(e){if(!e.length)return[];switch(this.state.spreadMode){case go.None:return e.map(e=>[e]);case go.Odd:return Array.from({length:Math.ceil(e.length/2)},(t,n)=>e.slice(2*n,2*n+2));case go.Even:return[[e[0]],...Array.from({length:Math.ceil((e.length-1)/2)},(t,n)=>e.slice(1+2*n,1+2*n+2))];default:return e.map(e=>[e])}}setSpreadMode(e){const t=this.state.spreadMode,n=this.coreState.core.document;if(!n)throw new Error("Document not loaded");t!==e&&(this.dispatch(fo(e)),this.dispatchCoreAction(wn(this.getSpreadPagesObjects(n.pages))),this.notifySpreadChange(e))}notifySpreadChange(e){this.spreadEmitter$.emit(e)}buildCapability(){return{onSpreadChange:this.spreadEmitter$.on,setSpreadMode:e=>this.setSpreadMode(e),getSpreadMode:()=>this.state.spreadMode,getSpreadPagesObjects:e=>this.getSpreadPagesObjects(e)}}async destroy(){this.spreadEmitter$.clear()}};vo.id="spread";let yo=vo;const bo="spread",wo={id:bo,name:"Spread Plugin",version:"1.0.0",provides:["spread"],requires:["loader"],optional:[],defaultConfig:{enabled:!0}},xo={spreadMode:go.None},ko={manifest:wo,create:(e,t,n)=>new yo(bo,e,n),reducer:(e=xo,t)=>t.type===mo?{...e,spreadMode:t.payload}:e,initialState:xo};class Co{async load(e){const{pdfFile:t,options:n,engine:o}=e,i=o.openDocumentUrl(t,n);return new Promise((e,t)=>{i.wait(t=>e(t),e=>{"abort"===e.type?t(new Error(`PDF loading aborted: ${e.reason}`)):t(new Error(`PDF loading failed: ${e.reason}`))})})}}class So{async load(e){const{pdfFile:t,options:n,engine:o}=e,i=o.openDocumentFromBuffer(t,(null==n?void 0:n.password)||"");return new Promise((e,t)=>{i.wait(t=>e(t),e=>{"abort"===e.type?t(new Error(`PDF loading aborted: ${e.reason}`)):t(new Error(`PDF loading failed: ${e.reason}`))})})}}class Mo{constructor(){this.strategies=new Map,this.strategyResolvers=[];const e=new So;this.registerStrategy("url",new Co),this.registerStrategy("buffer",e),this.addStrategyResolver(e=>function(e){return"url"===e.type}(e)?this.strategies.get("url"):this.strategies.get("buffer"))}registerStrategy(e,t){this.strategies.set(e,t)}getStrategy(e){return this.strategies.get(e)}addStrategyResolver(e){this.strategyResolvers.push(e)}async loadDocument(e){try{const t=this.resolveStrategy(e);if(!t)throw new Error("No suitable strategy found for the given options");return await t.load(e)}catch(e){throw console.error("Error loading document:",e),e}}resolveStrategy(e){for(const t of this.strategyResolvers){const n=t(e);if(n)return n}}}const Io=class extends In{constructor(e,t,n){super(e,t),this.id=e,this.engine=n,this.loaderHandlers$=Rn(),this.documentLoadedHandlers$=Rn(),this.openFileRequest$=zn(),this.documentLoader=new Mo}buildCapability(){return{onLoaderEvent:this.loaderHandlers$.on,onDocumentLoaded:this.documentLoadedHandlers$.on,onOpenFileRequest:this.openFileRequest$.on,openFileDialog:()=>this.openFileRequest$.emit("open"),loadDocument:e=>this.loadDocument(e),registerStrategy:(e,t)=>this.documentLoader.registerStrategy(e,t),getDocument:()=>this.loadedDocument,addStrategyResolver:e=>this.documentLoader.addStrategyResolver(e)}}async initialize(e){e.defaultStrategies&&Object.entries(e.defaultStrategies).forEach(([e,t])=>{this.documentLoader.registerStrategy(e,t)}),e.loadingOptions&&(this.loadingOptions=e.loadingOptions)}async postInitialize(){this.loadingOptions&&await this.loadDocument(this.loadingOptions)}async loadDocument(e){try{this.loaderHandlers$.emit({type:"start",documentId:e.pdfFile.id}),this.dispatchCoreAction({type:pn});const t=await this.documentLoader.loadDocument({...e,engine:this.engine});return this.dispatchCoreAction((e=>({type:gn,payload:e}))(t)),this.loadedDocument=t,this.loaderHandlers$.emit({type:"complete",documentId:e.pdfFile.id}),this.documentLoadedHandlers$.emit(t),t}catch(t){const n={type:"error",documentId:e.pdfFile.id,error:t instanceof Error?t:new Error(String(t))};throw this.loaderHandlers$.emit(n),t}}async destroy(){this.loaderHandlers$.clear(),this.documentLoadedHandlers$.clear(),this.openFileRequest$.clear(),super.destroy()}};Io.id="loader";let Po=Io;const Ao="loader",_o={manifest:{id:Ao,name:"Loader Plugin",version:"1.0.0",provides:["loader"],requires:[],optional:[],metadata:{name:"Loader Plugin",description:"A plugin for loading PDF documents",version:"1.0.0",author:"EmbedPDF",license:"MIT"},defaultConfig:{enabled:!0}},create:(e,t)=>new Po(Ao,e,t),reducer:()=>{},initialState:{}};function To(){const{provides:e}=jn(Po.id),t=Ie(null);return Se(()=>{if(e)return e.onOpenFileRequest(e=>{"open"===e&&t.current&&t.current.click()})},[e]),He(F,{children:He("input",{ref:t,type:"file",accept:"application/pdf",style:{display:"none"},onChange:async t=>{var n;const o=null==(n=t.currentTarget.files)?void 0:n[0];o&&e&&await e.loadDocument({type:"buffer",pdfFile:{id:Math.random().toString(36).substring(2,15),content:await o.arrayBuffer()}})}})})}class Eo{constructor(e,t){this.children=[],this.updateCallbacks=[],this.hadUpdateBeforeListeners=!1,this.componentConfig=e;const n=e.props||{};if("function"==typeof n){const t=n(e.initialState);this.props={...t,id:e.id}}else this.props={...n,id:e.id};this.type=e.type,this.registry=t}addChild(e,t,n=0,o){this.children.push({id:e,component:t,priority:n,className:o}),this.sortChildren()}sortChildren(){this.children.sort((e,t)=>e.priority-t.priority)}removeChild(e){this.children=this.children.filter(t=>t.component!==e)}clearChildren(){this.children=[]}get getRenderType(){return this.componentConfig.render||this.type}getRenderer(){return this.registry[this.getRenderType]}getChildren(){return this.children}getChildContext(e){const t=this.componentConfig.getChildContext;return"function"==typeof t?{...e,...t(this.props)}:t&&"object"==typeof t?{...e,...t}:e}update(e){const{id:t,...n}=e;this.props={...this.props,...n},0===this.updateCallbacks.length&&(this.hadUpdateBeforeListeners=!0),this.notifyUpdate()}onUpdate(e){return this.updateCallbacks.push(e),this.hadUpdateBeforeListeners}offUpdate(e){this.updateCallbacks=this.updateCallbacks.filter(t=>t!==e)}notifyUpdate(){this.updateCallbacks.forEach(e=>e())}}const No="UI_INIT_COMPONENTS",zo="UI_SET_HEADER_VISIBLE",Ro="UI_TOGGLE_PANEL",Lo="UI_SHOW_COMMAND_MENU",Do="UI_HIDE_COMMAND_MENU",Oo="UI_UPDATE_COMPONENT_STATE",Ho=e=>({type:Do,payload:e}),jo={panel:{},header:{},groupedItems:{},divider:{},iconButton:{},tabButton:{},selectButton:{},custom:{},floating:{},commandMenu:{}};function Bo(e,t){const n=e=>"function"==typeof e?e(t):e;return"group"===e.type?{...e,label:n(e.label)??""}:{...e,icon:n(e.icon)??"",iconProps:n(e.iconProps)??{},label:n(e.label)??"",visible:n(e.visible)??!0,active:n(e.active)??!1,disabled:n(e.disabled)??!1}}function $o(e,t){const n=Bo(e,t);return"group"!==n.type&&!!n.active}function Fo(e,t){const n=Bo(e,t);return"group"!==n.type&&!!n.disabled}function Uo(e,t){const n=Bo(e,t);return"group"===n.type?{}:n.iconProps??{}}const Wo=class e{constructor(e={},t){this.registry={},this.shortcutMap={},this.eventController=function(){const e=new Map;return{emit(t,n){const o=e.get(t);o&&o.forEach(e=>e(n))},on(t,n){return e.has(t)||e.set(t,new Set),e.get(t).add(n),()=>this.off(t,n)},off(t,n){const o=e.get(t);o&&(o.delete(n),0===o.size&&e.delete(t))}}}(),this.pluginRegistry=t,this.registerItems(e),this.setupKeyboardListeners()}get state(){return this.pluginRegistry.getStore().getState()}registerItem(e){this.registry[e.id]&&console.warn(`Menu item with ID ${e.id} already exists and will be overwritten`),this.registry[e.id]=e,"shortcut"in e&&e.shortcut&&(this.shortcutMap[this.normalizeShortcut(e.shortcut)]=e.id)}registerItems(e){Object.values(e).forEach(e=>{this.registerItem(e)})}resolve(e){return Bo(this.registry[e],this.state)}getMenuItem(e){const t=this.resolve(e);if(t)return{item:t,isGroup:"group"===t.type,isMenu:"menu"===t.type,isAction:"action"===t.type}}getAction(e){const t=this.getMenuItem(e);if(t&&t.isAction)return t.item}getMenuOrAction(e){const t=this.getMenuItem(e);if(t)return t.item}getAllItems(){return{...this.registry}}getItemsByIds(e){return e.map(e=>this.resolve(e)).filter(e=>void 0!==e)}getChildItems(e,t={}){var n;const o=this.resolve(e);if(!o||!("children"in o)||!(null==(n=o.children)?void 0:n.length))return[];const i=this.getItemsByIds(o.children);if(!t.flatten)return i;const r=[];for(const e of i)if("group"===e.type)r.push(e);else if("menu"===e.type){const t=this.getChildItems(e.id,{flatten:!0});r.push(...t)}else r.push(e);return r}executeCommand(t,n={}){var o;const i=this.getMenuItem(t);if(!i)return void console.warn(`Menu item '${t}' not found`);if("group"===i.item.type)return void console.warn(`Cannot execute group '${t}'`);const{item:r}=i;r.disabled?console.warn(`Menu item '${t}' is disabled`):i.isAction?(r.action(this.pluginRegistry,this.state),this.eventController.emit(e.EVENTS.COMMAND_EXECUTED,{command:r,source:n.source||"api"})):"children"in r&&(null==(o=r.children)?void 0:o.length)&&this.handleSubmenu(r,n)}executeShortcut(t){const n=this.normalizeShortcut(t),o=this.shortcutMap[n];return!!o&&(this.executeCommand(o,{source:"shortcut"}),this.eventController.emit(e.EVENTS.SHORTCUT_EXECUTED,{shortcut:n,itemId:o}),!0)}on(e,t){return this.eventController.on(e,t)}off(e,t){this.eventController.off(e,t)}handleSubmenu(t,n){this.eventController.emit(e.EVENTS.MENU_REQUESTED,{menuId:t.id,triggerElement:n.triggerElement,position:n.position,flatten:n.flatten||!1})}setupKeyboardListeners(){"undefined"!=typeof window&&document.addEventListener("keydown",e=>{const t=e.target;if("INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable)return;const n=this.buildShortcutString(e);n&&this.executeShortcut(n)&&e.preventDefault()})}buildShortcutString(e){const t=[];e.ctrlKey&&t.push("Ctrl"),e.shiftKey&&t.push("Shift"),e.altKey&&t.push("Alt"),e.metaKey&&t.push("Meta");const n=e.key;if(!["Control","Shift","Alt","Meta"].includes(n)){const e=1===n.length?n.toUpperCase():n;return[...t,e].join("+")}return null}normalizeShortcut(e){return e.split("+").map(e=>e.trim()).join("+")}capabilities(){return{registerItem:this.registerItem.bind(this),registerItems:this.registerItems.bind(this),executeCommand:this.executeCommand.bind(this),getAction:this.getAction.bind(this),getMenuOrAction:this.getMenuOrAction.bind(this),getChildItems:this.getChildItems.bind(this),getItemsByIds:this.getItemsByIds.bind(this),getAllItems:this.getAllItems.bind(this)}}};Wo.EVENTS={COMMAND_EXECUTED:"menu:command_executed",MENU_REQUESTED:"menu:requested",SHORTCUT_EXECUTED:"menu:shortcut_executed"};let Go=Wo;const Vo=class extends In{constructor(e,t,n){super(e,t),this.componentRenderers={},this.components={},this.mapStateCallbacks={},this.globalStoreSubscription=()=>{},this.config=n,this.menuManager=new Go(n.menuItems||{},this.registry),this.setupCommandEventHandlers(),this.globalStoreSubscription=this.registry.getStore().subscribe((e,t)=>{this.onGlobalStoreChange(t)})}async initialize(){this.buildComponents(),this.linkGroupedItems(),this.setInitialStateUIComponents()}setupCommandEventHandlers(){this.menuManager.on(Go.EVENTS.MENU_REQUESTED,e=>{var t;const{menuId:n,triggerElement:o,position:i,flatten:r}=e;if((null==(t=this.state.commandMenu.commandMenu)?void 0:t.activeCommand)===n)return this.dispatch(Ho({id:"commandMenu"}));this.dispatch({type:Lo,payload:{id:"commandMenu",commandId:n,triggerElement:o,position:i,flatten:r}})}),this.menuManager.on(Go.EVENTS.COMMAND_EXECUTED,e=>{console.log("Command executed:",e.command.id,"source:",e.source)})}addComponent(e,t){this.components[e]&&console.warn(`Component with ID ${e} already exists and will be overwritten`);const n=new Eo(t,this.componentRenderers);return this.components[e]=n,"function"==typeof t.mapStateToProps&&(this.mapStateCallbacks[e]=t.mapStateToProps),n}buildComponents(){Object.entries(this.config.components).forEach(([e,t])=>{this.addComponent(e,t)})}linkGroupedItems(){Object.values(this.components).forEach(e=>{var t;if(Zo(e)){const n=e.componentConfig;null==(t=n.slots)||t.forEach(t=>{const o=this.components[t.componentId];o?e.addChild(t.componentId,o,t.priority,t.className):console.warn(`Child component ${t.componentId} not found for GroupedItems ${n.id}`)})}})}setInitialStateUIComponents(){const e=jo;Object.entries(this.config.components).forEach(([t,n])=>{n.initialState?e[n.type][t]=n.initialState:e[n.type][t]={}}),this.dispatch({type:No,payload:e})}onGlobalStoreChange(e){for(const[t,n]of Object.entries(this.components)){const o=this.mapStateCallbacks[t];if(!o)continue;const{id:i,...r}=n.props,a=o(e,r);_n(r,{...r,...a})||n.update(a)}}addSlot(e,t,n,o){const i=this.components[e];if(!i)return void console.error(`Parent component ${e} not found`);if(!Zo(i))return void console.error(`Parent component ${e} does not support slots`);const r=this.components[t];if(!r)return void console.error(`Child component ${t} not found`);const a=i.getChildren();let l=n;void 0===l&&(l=(a.length>0?Math.max(...a.map(e=>e.priority)):0)+10),i.addChild(t,r,l,o)}buildCapability(){return{registerComponentRenderer:(e,t)=>{this.componentRenderers[e]=t},getComponent:e=>this.components[e],registerComponent:this.addComponent.bind(this),getCommandMenu:()=>Object.values(this.components).find(e=>function(e){return"commandMenu"===e.type}(e)),hideCommandMenu:()=>this.debouncedDispatch(Ho({id:"commandMenu"}),100),getFloatingComponents:e=>Object.values(this.components).filter(e=>Ko(e)).filter(t=>!e||t.props.scrollerPosition===e),getHeadersByPlacement:e=>Object.values(this.components).filter(e=>Yo(e)).filter(t=>t.props.placement===e),getPanelsByLocation:e=>Object.values(this.components).filter(e=>Xo(e)).filter(t=>t.props.location===e),addSlot:this.addSlot.bind(this),togglePanel:e=>{this.dispatch((e=>({type:Ro,payload:e}))(e))},setHeaderVisible:e=>{this.dispatch((e=>({type:zo,payload:e}))(e))},updateComponentState:e=>{this.dispatch((e=>({type:Oo,payload:e}))(e))},...this.menuManager.capabilities()}}async destroy(){this.globalStoreSubscription(),this.components={},this.componentRenderers={},this.mapStateCallbacks={}}};Vo.id="ui";let qo=Vo;function Zo(e){return function(e){return"groupedItems"===e.type}(e)||Yo(e)||Xo(e)||Ko(e)||function(e){return"custom"===e.type}(e)}function Yo(e){return"header"===e.type}function Xo(e){return"panel"===e.type}function Ko(e){return"floating"===e.type}const Qo="ui",Jo={manifest:{id:Qo,name:"UI Plugin",version:"1.0.0",provides:["ui"],requires:[],optional:[],defaultConfig:{enabled:!0,components:{}}},create:(e,t,n)=>new qo(Qo,e,n),reducer:(e=jo,t)=>{switch(t.type){case No:return{...e,...t.payload};case Ro:{const n=e.panel[t.payload.id]||{},{open:o,visibleChild:i}=t.payload,r=n.visibleChild;let a=n.open,l=n.visibleChild;return i===r?a=void 0!==o?o:!n.open:(l=i,a=!0),{...e,panel:{...e.panel,[t.payload.id]:{...n,open:a,visibleChild:l}}}}case zo:return{...e,header:{...e.header,[t.payload.id]:{...e.header[t.payload.id],visible:t.payload.visible,visibleChild:t.payload.visibleChild}}};case Lo:return{...e,commandMenu:{...e.commandMenu,[t.payload.id]:{activeCommand:t.payload.commandId,triggerElement:t.payload.triggerElement,position:t.payload.position,open:!0,flatten:t.payload.flatten}}};case Do:return{...e,commandMenu:{...e.commandMenu,[t.payload.id]:{...e.commandMenu[t.payload.id],open:!1,activeCommand:null,triggerElement:void 0,position:void 0,flatten:!1}}};case Oo:{const{componentType:n,componentId:o,patch:i}=t.payload;if(!e[n]||!e[n][o])return e;const r=e[n][o],a=Object.fromEntries(Object.entries(i).filter(([e])=>e in r));return 0===Object.keys(a).length?e:{...e,[n]:{...e[n],[o]:{...r,...a}}}}default:return e}},initialState:jo};var ei=["id","children","onClick","active","disabled","className","tooltip","ref"];function ti(e){var t=e.id,n=e.children,o=e.onClick,i=e.active,r=void 0!==i&&i,a=e.disabled,l=void 0!==a&&a,s=e.className,c=void 0===s?"":s,d=e.tooltip,u=e.ref,h=g(e,ei);return B("button",p({id:t,ref:u,onClick:o,className:"flex h-[32px] w-auto min-w-[32px] items-center justify-center rounded-md p-[5px] transition-colors ".concat(r?"border-none bg-blue-50 text-blue-500 shadow ring ring-blue-500":"hover:bg-gray-100 hover:ring hover:ring-[#1a466b]"," ").concat(l?"cursor-not-allowed opacity-50 hover:bg-transparent hover:ring-0":"cursor-pointer"," ").concat(c," "),title:d},h),n)}const ni=Math.min,oi=Math.max,ii=Math.round,ri=Math.floor,ai=e=>({x:e,y:e}),li={left:"right",right:"left",bottom:"top",top:"bottom"},si={start:"end",end:"start"};function ci(e,t,n){return oi(e,ni(t,n))}function di(e,t){return"function"==typeof e?e(t):e}function ui(e){return e.split("-")[0]}function hi(e){return e.split("-")[1]}function pi(e){return"x"===e?"y":"x"}function gi(e){return"y"===e?"height":"width"}function mi(e){return["top","bottom"].includes(ui(e))?"y":"x"}function fi(e){return pi(mi(e))}function vi(e){return e.replace(/start|end/g,e=>si[e])}function yi(e){return e.replace(/left|right|bottom|top/g,e=>li[e])}function bi(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function wi(e){const{x:t,y:n,width:o,height:i}=e;return{width:o,height:i,top:n,left:t,right:t+o,bottom:n+i,x:t,y:n}}function xi(e,t,n){let{reference:o,floating:i}=e;const r=mi(t),a=fi(t),l=gi(a),s=ui(t),c="y"===r,d=o.x+o.width/2-i.width/2,u=o.y+o.height/2-i.height/2,h=o[l]/2-i[l]/2;let p;switch(s){case"top":p={x:d,y:o.y-i.height};break;case"bottom":p={x:d,y:o.y+o.height};break;case"right":p={x:o.x+o.width,y:u};break;case"left":p={x:o.x-i.width,y:u};break;default:p={x:o.x,y:o.y}}switch(hi(t)){case"start":p[a]-=h*(n&&c?-1:1);break;case"end":p[a]+=h*(n&&c?-1:1)}return p}async function ki(e,t){var n;void 0===t&&(t={});const{x:o,y:i,platform:r,rects:a,elements:l,strategy:s}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:h=!1,padding:p=0}=di(t,e),g=bi(p),m=l[h?"floating"===u?"reference":"floating":u],f=wi(await r.getClippingRect({element:null==(n=await(null==r.isElement?void 0:r.isElement(m)))||n?m:m.contextElement||await(null==r.getDocumentElement?void 0:r.getDocumentElement(l.floating)),boundary:c,rootBoundary:d,strategy:s})),v="floating"===u?{x:o,y:i,width:a.floating.width,height:a.floating.height}:a.reference,y=await(null==r.getOffsetParent?void 0:r.getOffsetParent(l.floating)),b=await(null==r.isElement?void 0:r.isElement(y))&&await(null==r.getScale?void 0:r.getScale(y))||{x:1,y:1},w=wi(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:y,strategy:s}):v);return{top:(f.top-w.top+g.top)/b.y,bottom:(w.bottom-f.bottom+g.bottom)/b.y,left:(f.left-w.left+g.left)/b.x,right:(w.right-f.right+g.right)/b.x}}function Ci(){return"undefined"!=typeof window}function Si(e){return Pi(e)?(e.nodeName||"").toLowerCase():"#document"}function Mi(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function Ii(e){var t;return null==(t=(Pi(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Pi(e){return!!Ci()&&(e instanceof Node||e instanceof Mi(e).Node)}function Ai(e){return!!Ci()&&(e instanceof Element||e instanceof Mi(e).Element)}function _i(e){return!!Ci()&&(e instanceof HTMLElement||e instanceof Mi(e).HTMLElement)}function Ti(e){return!(!Ci()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof Mi(e).ShadowRoot)}function Ei(e){const{overflow:t,overflowX:n,overflowY:o,display:i}=Oi(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!["inline","contents"].includes(i)}function Ni(e){return["table","td","th"].includes(Si(e))}function zi(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch(e){return!1}})}function Ri(e){const t=Li(),n=Ai(e)?Oi(e):e;return["transform","translate","scale","rotate","perspective"].some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","translate","scale","rotate","perspective","filter"].some(e=>(n.willChange||"").includes(e))||["paint","layout","strict","content"].some(e=>(n.contain||"").includes(e))}function Li(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function Di(e){return["html","body","#document"].includes(Si(e))}function Oi(e){return Mi(e).getComputedStyle(e)}function Hi(e){return Ai(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ji(e){if("html"===Si(e))return e;const t=e.assignedSlot||e.parentNode||Ti(e)&&e.host||Ii(e);return Ti(t)?t.host:t}function Bi(e){const t=ji(e);return Di(t)?e.ownerDocument?e.ownerDocument.body:e.body:_i(t)&&Ei(t)?t:Bi(t)}function $i(e,t,n){var o;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=Bi(e),r=i===(null==(o=e.ownerDocument)?void 0:o.body),a=Mi(i);if(r){const e=Fi(a);return t.concat(a,a.visualViewport||[],Ei(i)?i:[],e&&n?$i(e):[])}return t.concat(i,$i(i,[],n))}function Fi(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Ui(e){const t=Oi(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const i=_i(e),r=i?e.offsetWidth:n,a=i?e.offsetHeight:o,l=ii(n)!==r||ii(o)!==a;return l&&(n=r,o=a),{width:n,height:o,$:l}}function Wi(e){return Ai(e)?e:e.contextElement}function Gi(e){const t=Wi(e);if(!_i(t))return ai(1);const n=t.getBoundingClientRect(),{width:o,height:i,$:r}=Ui(t);let a=(r?ii(n.width):n.width)/o,l=(r?ii(n.height):n.height)/i;return a&&Number.isFinite(a)||(a=1),l&&Number.isFinite(l)||(l=1),{x:a,y:l}}const Vi=ai(0);function qi(e){const t=Mi(e);return Li()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Vi}function Zi(e,t,n,o){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),r=Wi(e);let a=ai(1);t&&(o?Ai(o)&&(a=Gi(o)):a=Gi(e));const l=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==Mi(e))&&t}(r,n,o)?qi(r):ai(0);let s=(i.left+l.x)/a.x,c=(i.top+l.y)/a.y,d=i.width/a.x,u=i.height/a.y;if(r){const e=Mi(r),t=o&&Ai(o)?Mi(o):o;let n=e,i=Fi(n);for(;i&&o&&t!==n;){const e=Gi(i),t=i.getBoundingClientRect(),o=Oi(i),r=t.left+(i.clientLeft+parseFloat(o.paddingLeft))*e.x,a=t.top+(i.clientTop+parseFloat(o.paddingTop))*e.y;s*=e.x,c*=e.y,d*=e.x,u*=e.y,s+=r,c+=a,n=Mi(i),i=Fi(n)}}return wi({width:d,height:u,x:s,y:c})}function Yi(e,t){const n=Hi(e).scrollLeft;return t?t.left+n:Zi(Ii(e)).left+n}function Xi(e,t,n){void 0===n&&(n=!1);const o=e.getBoundingClientRect();return{x:o.left+t.scrollLeft-(n?0:Yi(e,o)),y:o.top+t.scrollTop}}function Ki(e,t,n){let o;if("viewport"===t)o=function(e,t){const n=Mi(e),o=Ii(e),i=n.visualViewport;let r=o.clientWidth,a=o.clientHeight,l=0,s=0;if(i){r=i.width,a=i.height;const e=Li();(!e||e&&"fixed"===t)&&(l=i.offsetLeft,s=i.offsetTop)}return{width:r,height:a,x:l,y:s}}(e,n);else if("document"===t)o=function(e){const t=Ii(e),n=Hi(e),o=e.ownerDocument.body,i=oi(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),r=oi(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let a=-n.scrollLeft+Yi(e);const l=-n.scrollTop;return"rtl"===Oi(o).direction&&(a+=oi(t.clientWidth,o.clientWidth)-i),{width:i,height:r,x:a,y:l}}(Ii(e));else if(Ai(t))o=function(e,t){const n=Zi(e,!0,"fixed"===t),o=n.top+e.clientTop,i=n.left+e.clientLeft,r=_i(e)?Gi(e):ai(1);return{width:e.clientWidth*r.x,height:e.clientHeight*r.y,x:i*r.x,y:o*r.y}}(t,n);else{const n=qi(e);o={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return wi(o)}function Qi(e,t){const n=ji(e);return!(n===t||!Ai(n)||Di(n))&&("fixed"===Oi(n).position||Qi(n,t))}function Ji(e,t,n){const o=_i(t),i=Ii(t),r="fixed"===n,a=Zi(e,!0,r,t);let l={scrollLeft:0,scrollTop:0};const s=ai(0);if(o||!o&&!r)if(("body"!==Si(t)||Ei(i))&&(l=Hi(t)),o){const e=Zi(t,!0,r,t);s.x=e.x+t.clientLeft,s.y=e.y+t.clientTop}else i&&(s.x=Yi(i));const c=!i||o||r?ai(0):Xi(i,l);return{x:a.left+l.scrollLeft-s.x-c.x,y:a.top+l.scrollTop-s.y-c.y,width:a.width,height:a.height}}function er(e){return"static"===Oi(e).position}function tr(e,t){if(!_i(e)||"fixed"===Oi(e).position)return null;if(t)return t(e);let n=e.offsetParent;return Ii(e)===n&&(n=n.ownerDocument.body),n}function nr(e,t){const n=Mi(e);if(zi(e))return n;if(!_i(e)){let t=ji(e);for(;t&&!Di(t);){if(Ai(t)&&!er(t))return t;t=ji(t)}return n}let o=tr(e,t);for(;o&&Ni(o)&&er(o);)o=tr(o,t);return o&&Di(o)&&er(o)&&!Ri(o)?n:o||function(e){let t=ji(e);for(;_i(t)&&!Di(t);){if(Ri(t))return t;if(zi(t))return null;t=ji(t)}return null}(e)||n}const or={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:o,strategy:i}=e;const r="fixed"===i,a=Ii(o),l=!!t&&zi(t.floating);if(o===a||l&&r)return n;let s={scrollLeft:0,scrollTop:0},c=ai(1);const d=ai(0),u=_i(o);if((u||!u&&!r)&&(("body"!==Si(o)||Ei(a))&&(s=Hi(o)),_i(o))){const e=Zi(o);c=Gi(o),d.x=e.x+o.clientLeft,d.y=e.y+o.clientTop}const h=!a||u||r?ai(0):Xi(a,s,!0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-s.scrollLeft*c.x+d.x+h.x,y:n.y*c.y-s.scrollTop*c.y+d.y+h.y}},getDocumentElement:Ii,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:o,strategy:i}=e;const r=[..."clippingAncestors"===n?zi(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let o=$i(e,[],!1).filter(e=>Ai(e)&&"body"!==Si(e)),i=null;const r="fixed"===Oi(e).position;let a=r?ji(e):e;for(;Ai(a)&&!Di(a);){const t=Oi(a),n=Ri(a);n||"fixed"!==t.position||(i=null),(r?!n&&!i:!n&&"static"===t.position&&i&&["absolute","fixed"].includes(i.position)||Ei(a)&&!n&&Qi(e,a))?o=o.filter(e=>e!==a):i=t,a=ji(a)}return t.set(e,o),o}(t,this._c):[].concat(n),o],a=r[0],l=r.reduce((e,n)=>{const o=Ki(t,n,i);return e.top=oi(o.top,e.top),e.right=ni(o.right,e.right),e.bottom=ni(o.bottom,e.bottom),e.left=oi(o.left,e.left),e},Ki(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:nr,getElementRects:async function(e){const t=this.getOffsetParent||nr,n=this.getDimensions,o=await n(e.floating);return{reference:Ji(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=Ui(e);return{width:t,height:n}},getScale:Gi,isElement:Ai,isRTL:function(e){return"rtl"===Oi(e).direction}};function ir(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function rr(e,t,n,o){void 0===o&&(o={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:a="function"==typeof ResizeObserver,layoutShift:l="function"==typeof IntersectionObserver,animationFrame:s=!1}=o,c=Wi(e),d=i||r?[...c?$i(c):[],...$i(t)]:[];d.forEach(e=>{i&&e.addEventListener("scroll",n,{passive:!0}),r&&e.addEventListener("resize",n)});const u=c&&l?function(e,t){let n,o=null;const i=Ii(e);function r(){var e;clearTimeout(n),null==(e=o)||e.disconnect(),o=null}return function a(l,s){void 0===l&&(l=!1),void 0===s&&(s=1),r();const c=e.getBoundingClientRect(),{left:d,top:u,width:h,height:p}=c;if(l||t(),!h||!p)return;const g={rootMargin:-ri(u)+"px "+-ri(i.clientWidth-(d+h))+"px "+-ri(i.clientHeight-(u+p))+"px "+-ri(d)+"px",threshold:oi(0,ni(1,s))||1};let m=!0;function f(t){const o=t[0].intersectionRatio;if(o!==s){if(!m)return a();o?a(!1,o):n=setTimeout(()=>{a(!1,1e-7)},1e3)}1!==o||ir(c,e.getBoundingClientRect())||a(),m=!1}try{o=new IntersectionObserver(f,{...g,root:i.ownerDocument})}catch(e){o=new IntersectionObserver(f,g)}o.observe(e)}(!0),r}(c,n):null;let h,p=-1,g=null;a&&(g=new ResizeObserver(e=>{let[o]=e;o&&o.target===c&&g&&(g.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var e;null==(e=g)||e.observe(t)})),n()}),c&&!s&&g.observe(c),g.observe(t));let m=s?Zi(e):null;return s&&function t(){const o=Zi(e);m&&!ir(m,o)&&n(),m=o,h=requestAnimationFrame(t)}(),n(),()=>{var e;d.forEach(e=>{i&&e.removeEventListener("scroll",n),r&&e.removeEventListener("resize",n)}),null==u||u(),null==(e=g)||e.disconnect(),g=null,s&&cancelAnimationFrame(h)}}const ar=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,o;const{x:i,y:r,placement:a,middlewareData:l}=t,s=await async function(e,t){const{placement:n,platform:o,elements:i}=e,r=await(null==o.isRTL?void 0:o.isRTL(i.floating)),a=ui(n),l=hi(n),s="y"===mi(n),c=["left","top"].includes(a)?-1:1,d=r&&s?-1:1,u=di(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:g}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return l&&"number"==typeof g&&(p="end"===l?-1*g:g),s?{x:p*d,y:h*c}:{x:h*c,y:p*d}}(t,e);return a===(null==(n=l.offset)?void 0:n.placement)&&null!=(o=l.arrow)&&o.alignmentOffset?{}:{x:i+s.x,y:r+s.y,data:{...s,placement:a}}}}},lr=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:i}=t,{mainAxis:r=!0,crossAxis:a=!1,limiter:l={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...s}=di(e,t),c={x:n,y:o},d=await ki(t,s),u=mi(ui(i)),h=pi(u);let p=c[h],g=c[u];if(r){const e="y"===h?"bottom":"right";p=ci(p+d["y"===h?"top":"left"],p,p-d[e])}if(a){const e="y"===u?"bottom":"right";g=ci(g+d["y"===u?"top":"left"],g,g-d[e])}const m=l.fn({...t,[h]:p,[u]:g});return{...m,data:{x:m.x-n,y:m.y-o,enabled:{[h]:r,[u]:a}}}}}},sr=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:i,middlewareData:r,rects:a,initialPlacement:l,platform:s,elements:c}=t,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...f}=di(e,t);if(null!=(n=r.arrow)&&n.alignmentOffset)return{};const v=ui(i),y=mi(l),b=ui(l)===l,w=await(null==s.isRTL?void 0:s.isRTL(c.floating)),x=h||(b||!m?[yi(l)]:function(e){const t=yi(e);return[vi(e),t,vi(t)]}(l)),k="none"!==g;!h&&k&&x.push(...function(e,t,n,o){const i=hi(e);let r=function(e,t,n){const o=["left","right"],i=["right","left"],r=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:o:t?o:i;case"left":case"right":return t?r:a;default:return[]}}(ui(e),"start"===n,o);return i&&(r=r.map(e=>e+"-"+i),t&&(r=r.concat(r.map(vi)))),r}(l,m,g,w));const C=[l,...x],S=await ki(t,f),M=[];let I=(null==(o=r.flip)?void 0:o.overflows)||[];if(d&&M.push(S[v]),u){const e=function(e,t,n){void 0===n&&(n=!1);const o=hi(e),i=fi(e),r=gi(i);let a="x"===i?o===(n?"end":"start")?"right":"left":"start"===o?"bottom":"top";return t.reference[r]>t.floating[r]&&(a=yi(a)),[a,yi(a)]}(i,a,w);M.push(S[e[0]],S[e[1]])}if(I=[...I,{placement:i,overflows:M}],!M.every(e=>e<=0)){var P,A;const e=((null==(P=r.flip)?void 0:P.index)||0)+1,t=C[e];if(t)return{data:{index:e,overflows:I},reset:{placement:t}};let n=null==(A=I.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:A.placement;if(!n)switch(p){case"bestFit":{var _;const e=null==(_=I.filter(e=>{if(k){const t=mi(e.placement);return t===y||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:_[0];e&&(n=e);break}case"initialPlacement":n=l}if(i!==n)return{reset:{placement:n}}}return{}}}},cr=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:o,placement:i,rects:r,platform:a,elements:l,middlewareData:s}=t,{element:c,padding:d=0}=di(e,t)||{};if(null==c)return{};const u=bi(d),h={x:n,y:o},p=fi(i),g=gi(p),m=await a.getDimensions(c),f="y"===p,v=f?"top":"left",y=f?"bottom":"right",b=f?"clientHeight":"clientWidth",w=r.reference[g]+r.reference[p]-h[p]-r.floating[g],x=h[p]-r.reference[p],k=await(null==a.getOffsetParent?void 0:a.getOffsetParent(c));let C=k?k[b]:0;C&&await(null==a.isElement?void 0:a.isElement(k))||(C=l.floating[b]||r.floating[g]);const S=w/2-x/2,M=C/2-m[g]/2-1,I=ni(u[v],M),P=ni(u[y],M),A=I,_=C-m[g]-P,T=C/2-m[g]/2+S,E=ci(A,T,_),N=!s.arrow&&null!=hi(i)&&T!==E&&r.reference[g]/2-(T<A?I:P)-m[g]/2<0,z=N?T<A?T-A:T-_:0;return{[p]:h[p]+z,data:{[p]:E,centerOffset:T-E-z,...N&&{alignmentOffset:z}},reset:N}}}),dr=(e,t,n)=>{const o=new Map,i={platform:or,...n},r={...i.platform,_c:o};return(async(e,t,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:r=[],platform:a}=n,l=r.filter(Boolean),s=await(null==a.isRTL?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:u}=xi(c,o,s),h=o,p={},g=0;for(let n=0;n<l.length;n++){const{name:r,fn:m}=l[n],{x:f,y:v,data:y,reset:b}=await m({x:d,y:u,initialPlacement:o,placement:h,strategy:i,middlewareData:p,rects:c,platform:a,elements:{reference:e,floating:t}});d=null!=f?f:d,u=null!=v?v:u,p={...p,[r]:{...p[r],...y}},b&&g<=50&&(g++,"object"==typeof b&&(b.placement&&(h=b.placement),b.rects&&(c=!0===b.rects?await a.getElementRects({reference:e,floating:t,strategy:i}):b.rects),({x:d,y:u}=xi(c,h,s))),n=-1)}return{x:d,y:u,placement:h,strategy:i,middlewareData:p}})(e,t,{...i,platform:r})};var ur=function(){function e(){return i(this,e),o(this,e,arguments)}return d(e,U),a(e,[{key:"render",value:function(){return this.props.children}}])}();function hr(e){var t=e.children,n=e.content,o=e.position,i=void 0===o?"top":o,r=e.className,a=void 0===r?"":r,l=e.delay,c=void 0===l?200:l,d=e.style,u=void 0===d?"dark":d,h=e.trigger,p=void 0===h?"hover":h,g=Ie(null),m=Ie(null),f=Ie(null),y=v(Ce(!1),2),b=y[0],w=y[1],x=Ie(null);return Se(function(){var e;if(null!==(e=g.current)&&void 0!==e&&e.base&&m.current)return rr(g.current.base,m.current,function(){dr(g.current.base,m.current,{placement:i,middleware:[ar(8),sr(),lr({padding:8}),cr({element:f.current,padding:6})]}).then(function(e){var t,n=e.x,o=e.y,i=e.placement,r=e.middlewareData;Object.assign(m.current.style,{left:"".concat(n,"px"),top:"".concat(o,"px")});var a=null!==(t=r.arrow)&&void 0!==t?t:{},l=a.x,c=a.y,d={top:"bottom",bottom:"top",left:"right",right:"left"}[i.split("-")[0]];Object.assign(f.current.style,s({left:null!=l?"".concat(l,"px"):"",top:null!=c?"".concat(c,"px"):"",right:"",bottom:""},d,"-4px"))})})},[i,b]),Se(function(){var e,t=null===(e=g.current)||void 0===e?void 0:e.base,n=m.current;if(t&&n){var o=function(){x.current&&clearTimeout(x.current)},i=function(){o(),x.current=setTimeout(function(){return w(!0)},c)},r=function(){o(),w(!1)},a=function(){return w(function(e){return!e})};return"hover"===p?(t.addEventListener("mouseenter",i),t.addEventListener("mouseleave",r),n.addEventListener("mouseenter",i),n.addEventListener("mouseleave",r),t.addEventListener("pointerdown",r)):"click"===p&&t.addEventListener("click",a),"none"===p&&(x.current&&clearTimeout(x.current),w(!1)),function(){o(),"hover"===p?(t.removeEventListener("mouseenter",i),t.removeEventListener("mouseleave",r),n.removeEventListener("mouseenter",i),n.removeEventListener("mouseleave",r),t.removeEventListener("pointerdown",r)):"click"===p&&t.removeEventListener("click",a)}}},[p,c]),B(F,null,B("div",{ref:m,role:"tooltip",className:"z-100 pointer-events-none absolute select-none whitespace-nowrap rounded-lg px-3 py-2 text-sm shadow-md transition-opacity duration-150 ".concat("dark"===u?"bg-gray-900 text-white":"border border-gray-200 bg-white text-gray-900"," ").concat(b?"opacity-100":"opacity-0"," ").concat(a," "),style:{visibility:b?"visible":"hidden"}},n,B("div",{ref:f,className:"absolute h-2 w-2 rotate-45 bg-inherit ".concat("light"===u?"border border-gray-200":""," ")})),B(ur,{ref:g},t))}const pr=()=>jn(qo.id);function gr({component:e,parentContext:t={}}){const[n,o]=Ce({});Se(()=>{const t=()=>o({});return e.onUpdate(t)&&o({}),()=>e.offUpdate(t)},[e]);const i=e.getChildContext(t),r=e.getRenderer();if(!r)throw new Error(`No renderer for type: ${e.getRenderType}`);return r(e.props,function(t){const n=(null==t?void 0:t.context)?{...i,...t.context}:i;return e.getChildren().filter(({id:e})=>!(null==t?void 0:t.filter)||t.filter(e)).map(({component:e,id:t,className:o})=>o?He("div",{className:o,children:He(gr,{component:e,parentContext:n},t)}):He(gr,{component:e,parentContext:n},t))},i)}function mr({children:e}){const{provides:t}=pr(),n=e=>e.map(e=>He(gr,{component:e},e.props.id));return e({headers:{top:n((null==t?void 0:t.getHeadersByPlacement("top"))||[]),bottom:n((null==t?void 0:t.getHeadersByPlacement("bottom"))||[]),left:n((null==t?void 0:t.getHeadersByPlacement("left"))||[]),right:n((null==t?void 0:t.getHeadersByPlacement("right"))||[])},panels:{left:n((null==t?void 0:t.getPanelsByLocation("left"))||[]),right:n((null==t?void 0:t.getPanelsByLocation("right"))||[])},floating:{insideScroller:n((null==t?void 0:t.getFloatingComponents("inside"))||[]),outsideScroller:n((null==t?void 0:t.getFloatingComponents("outside"))||[])},commandMenu:(null==t?void 0:t.getCommandMenu())?He(gr,{component:t.getCommandMenu()}):null})}function fr(e){var t=e.open,n=e.trigger,o=e.children,i=e.placement,r=void 0===i?"bottom-start":i,a=e.offsetSkidding,l=void 0===a?-2:a,s=e.offsetDistance,c=void 0===s?5:s,d=e.delay,u=void 0===d?0:d,h=e.onShow,g=e.onHide,m=e.className,f=Ie(null),y=v(Ce({x:0,y:0}),2),b=y[0],w=y[1],x=function(e){return e&&{top:"top-start",bottom:"bottom-start",left:"left-start",right:"right-start"}[e]||e||"bottom-start"}(r);return Se(function(){var e=n,o=f.current;if(o&&(t?(o.style.display="block",null==h||h()):(u?setTimeout(function(){return o.style.display="none"},u):o.style.display="none",null==g||g()),e&&t)){var i=rr(e,o,function(){dr(e,o,{placement:x,strategy:"absolute",middleware:[ar({mainAxis:c,crossAxis:l}),sr(),lr({padding:8})]}).then(function(e){var t=e.x,n=e.y;w({x:t,y:n})})});return function(){return i()}}},[t,n,r,l,c,u]),Se(function(){if(t){var e=f.current;if(e){var o=function(t){var o,i,r=null!==(o=null===(i=t.composedPath)||void 0===i?void 0:i.call(t))&&void 0!==o?o:[t.target];n&&r.includes(n)||r.includes(e)||null==g||g()};return window.addEventListener("pointerdown",o,!0),function(){return window.removeEventListener("pointerdown",o,!0)}}}},[t,n,g]),B("div",{ref:f,style:p({},n&&{display:"none",left:"".concat(b.x,"px"),top:"".concat(b.y,"px")}),className:"absolute z-50 min-w-[8rem] divide-y divide-gray-100 rounded-lg border border-[#cfd4da] bg-white shadow-sm transition-opacity duration-150 focus:outline-none ".concat(t?"opacity-100":"opacity-0"," ").concat(!n&&"bottom-0 left-0 right-0"," ").concat(m," ")},B("div",{className:"flex flex-col py-2"},o))}var vr=(e=>(e.Automatic="automatic",e.FitPage="fit-page",e.FitWidth="fit-width",e))(vr||{}),yr=(e=>(e[e.Center=0]="Center",e[e.Top=1]="Top",e))(yr||{});const br="zoom",wr={id:br,name:"Zoom Plugin",version:"1.0.0",provides:["zoom"],requires:["viewport","scroll"],optional:["interaction-manager"],defaultConfig:{enabled:!0,defaultZoomLevel:vr.Automatic,minZoom:.2,maxZoom:60,zoomStep:.1,zoomRanges:[{min:.2,max:.5,step:.05},{min:.5,max:1,step:.1},{min:1,max:2,step:.2},{min:2,max:4,step:.4},{min:4,max:10,step:.8},{min:10,max:20,step:1.6},{min:20,max:40,step:3.2},{min:40,max:60,step:6.4}],presets:[{name:"Fit Page",value:vr.FitPage},{name:"Fit Width",value:vr.FitWidth},{name:"Automatic",value:vr.Automatic},{name:"25%",value:.25},{name:"50%",value:.5},{name:"100%",value:1},{name:"125%",value:1.25},{name:"150%",value:1.5},{name:"200%",value:2},{name:"400%",value:4},{name:"800%",value:8},{name:"1600%",value:16}]}},xr="SET_ZOOM_LEVEL",kr="SET_INITIAL_ZOOM_LEVEL",Cr={zoomLevel:vr.Automatic,currentZoomLevel:1},Sr=class extends In{constructor(e,t,n){var o;super(e,t),this.zoom$=zn(),this.state$=Rn(),this.viewportPlugin=t.getPlugin("viewport"),this.viewport=this.viewportPlugin.provides(),this.scroll=t.getPlugin("scroll").provides();const i=t.getPlugin("interaction-manager");var r;this.interactionManager=(null==i?void 0:i.provides())??null,this.minZoom=n.minZoom??.25,this.maxZoom=n.maxZoom??10,this.zoomStep=n.zoomStep??.1,this.presets=n.presets??[],this.zoomRanges=this.normalizeRanges(n.zoomRanges??[]),this.dispatch((r=n.defaultZoomLevel,{type:kr,payload:{zoomLevel:r}})),this.viewport.onViewportResize(()=>this.recalcAuto(yr.Top),{mode:"debounce",wait:150}),this.coreStore.onAction(vn,()=>this.recalcAuto(yr.Top)),this.coreStore.onAction(yn,()=>this.recalcAuto(yr.Top)),this.coreStore.onAction(gn,()=>this.recalcAuto(yr.Top)),null==(o=this.interactionManager)||o.registerMode({id:"marqueeZoom",scope:"page",exclusive:!0,cursor:"zoom-in"}),this.resetReady()}buildCapability(){return{onZoomChange:this.zoom$.on,onStateChange:this.state$.on,zoomIn:()=>{const e=this.state.currentZoomLevel;return this.handleRequest({level:e,delta:this.stepFor(e)})},zoomOut:()=>{const e=this.state.currentZoomLevel;return this.handleRequest({level:e,delta:-this.stepFor(e)})},zoomToArea:(e,t)=>this.handleZoomToArea(e,t),requestZoom:(e,t)=>this.handleRequest({level:e,center:t}),requestZoomBy:(e,t)=>{const n=this.state.currentZoomLevel,o=this.toZoom(n+e);return this.handleRequest({level:o,center:t})},enableMarqueeZoom:()=>{var e;null==(e=this.interactionManager)||e.activate("marqueeZoom")},disableMarqueeZoom:()=>{var e;null==(e=this.interactionManager)||e.activateDefaultMode()},toggleMarqueeZoom:()=>{var e,t,n;"marqueeZoom"===(null==(e=this.interactionManager)?void 0:e.getActiveMode())?null==(t=this.interactionManager)||t.activateDefaultMode():null==(n=this.interactionManager)||n.activate("marqueeZoom")},isMarqueeZoomActive:()=>{var e;return"marqueeZoom"===(null==(e=this.interactionManager)?void 0:e.getActiveMode())},getState:()=>this.state,getPresets:()=>this.presets}}async initialize(){}async destroy(){this.zoom$.clear()}normalizeRanges(e){return[...e].filter(e=>e.step>0&&e.max>e.min).sort((e,t)=>e.min-t.min)}stepFor(e){const t=this.zoomRanges.find(t=>e>=t.min&&e<t.max);return t?t.step:this.zoomStep}toZoom(e){return parseFloat(An(e,this.minZoom,this.maxZoom).toFixed(2))}handleRequest({level:e,delta:t=0,center:n,focus:o=yr.Center,align:i="keep"}){const r=this.viewport.getMetrics(),a=this.state.currentZoomLevel;if(0===r.clientWidth||0===r.clientHeight)return;const l="number"==typeof e?e:this.computeZoomForMode(e,r);if(!1===l)return;const s=An(l+t,this.minZoom,this.maxZoom),c=Math.floor(100*s)/100,d=n??{vx:r.clientWidth/2,vy:o===yr.Top?0:r.clientHeight/2},{desiredScrollLeft:u,desiredScrollTop:h}=this.computeScrollForZoomChange(r,a,c,d,i);isNaN(u)||isNaN(h)||this.viewportPlugin.setViewportScrollMetrics({scrollLeft:u,scrollTop:h}),this.dispatch({type:xr,payload:{zoomLevel:"number"==typeof e?c:e,currentZoomLevel:c}}),this.dispatchCoreAction({type:fn,payload:c}),this.markReady(),this.viewport.scrollTo({x:u,y:h,behavior:"instant"});const p={oldZoom:a,newZoom:c,level:e,center:d,desiredScrollLeft:u,desiredScrollTop:h,viewport:r};this.zoom$.emit(p)}computeZoomForMode(e,t){const n=kn(this.coreState.core);if(!n.length)return!1;const o=this.scroll.getPageGap(),i=this.viewport.getViewportGap();if(0===t.clientWidth||0===t.clientHeight)return!1;const r=t.clientWidth-2*i,a=t.clientHeight-2*i;if(r<=0||a<=0)return!1;let l=0,s=0;switch(n.forEach(e=>{const t=e.reduce((e,t,n)=>e+t.rotatedSize.width+(n?o:0),0),n=Math.max(...e.map(e=>e.rotatedSize.height));l=Math.max(l,t),s=Math.max(s,n)}),e){case vr.FitWidth:return r/l;case vr.FitPage:return Math.min(r/l,a/s);case vr.Automatic:return Math.min(r/l,1);default:return 1}}computeScrollForZoomChange(e,t,n,o,i="keep"){const r=this.scroll.getLayout(),a=this.viewport.getViewportGap(),l=r.totalContentSize.width,s=r.totalContentSize.height,c=e.clientWidth-2*a,d=e.clientHeight-2*a,u=(e,t,n)=>t*n<e?(e-t*n)/2:0,h=u(c,l,t),p=u(d,s,t),g=u(c,l,n),m=u(d,s,n),f=(e.scrollLeft+o.vx-a-h)/t*n+a+g,v=(e.scrollTop+o.vy-a-p)/t*n+a+m,y="center"===i?f-e.clientWidth/2:f-o.vx,b="center"===i?v-e.clientHeight/2:v-o.vy;return{desiredScrollLeft:Math.max(0,y),desiredScrollTop:Math.max(0,b)}}handleZoomToArea(e,t){const n=this.coreState.core.rotation,o=this.viewport.getMetrics(),i=this.viewport.getViewportGap(),r=this.state.currentZoomLevel,a=o.clientWidth-2*i,l=o.clientHeight-2*i,s=this.scroll.getLayout(),c=s.virtualItems.find(t=>t.pageLayouts.some(t=>t.pageIndex===e));if(!c)return;const d=c.pageLayouts.find(t=>t.pageIndex===e),u=Ke({width:d.width,height:d.height},t,n),h=this.toZoom(Math.min(a/u.size.width,l/u.size.height)),p=c.x+d.x,g=c.y+d.y,m=p+u.origin.x+u.size.width/2,f=g+u.origin.y+u.size.height/2,v=(e,t,n)=>t*n<e?(e-t*n)/2:0,y=v(a,s.totalContentSize.width,r),b=v(l,s.totalContentSize.height,r),w=i+y+m*r-o.scrollLeft,x=i+b+f*r-o.scrollTop;this.handleRequest({level:h,center:{vx:w,vy:x},align:"center"})}recalcAuto(e){const t=this.state;t.zoomLevel!==vr.Automatic&&t.zoomLevel!==vr.FitPage&&t.zoomLevel!==vr.FitWidth||this.handleRequest({level:t.zoomLevel,focus:e})}onStoreUpdated(e,t){this.state$.emit(t)}};Sr.id="zoom";let Mr=Sr;const Ir={manifest:wr,create:(e,t,n)=>new Mr(br,e,n),reducer:(e=Cr,t)=>{switch(t.type){case xr:return{...e,zoomLevel:t.payload.zoomLevel,currentZoomLevel:t.payload.currentZoomLevel};case kr:return{...e,zoomLevel:t.payload.zoomLevel};default:return e}},initialState:Cr},Pr="INTERACTION/ACTIVATE_MODE",Ar="INTERACTION/PAUSE",_r="INTERACTION/RESUME",Tr="INTERACTION/SET_CURSOR",Er="INTERACTION/SET_DEFAULT_MODE",Nr="pointerMode",zr=class extends In{constructor(e,t){super(e,t),this.modes=new Map,this.cursorClaims=new Map,this.buckets=new Map,this.alwaysGlobal=new Set,this.alwaysPage=new Map,this.onModeChange$=zn(),this.onHandlerChange$=zn(),this.onCursorChange$=zn(),this.onStateChange$=Rn(),this.registerMode({id:Nr,scope:"page",exclusive:!1,cursor:"auto"}),this.setDefaultMode(Nr),this.activate(Nr)}async initialize(e){}buildCapability(){return{activate:e=>this.activate(e),onModeChange:this.onModeChange$.on,onCursorChange:this.onCursorChange$.on,onHandlerChange:this.onHandlerChange$.on,onStateChange:this.onStateChange$.on,getActiveMode:()=>this.state.activeMode,getActiveInteractionMode:()=>this.getActiveInteractionMode(),activateDefaultMode:()=>this.activate(this.state.defaultMode),registerMode:e=>this.registerMode(e),registerHandlers:e=>this.registerHandlers(e),registerAlways:e=>this.registerAlways(e),setCursor:(e,t,n=0)=>this.setCursor(e,t,n),removeCursor:e=>this.removeCursor(e),getCurrentCursor:()=>this.state.cursor,getHandlersForScope:e=>this.getHandlersForScope(e),activeModeIsExclusive:()=>this.activeModeIsExclusive(),pause:()=>this.dispatch({type:Ar}),resume:()=>this.dispatch({type:_r}),isPaused:()=>this.state.paused,setDefaultMode:e=>this.setDefaultMode(e),getDefaultMode:()=>this.state.defaultMode}}activate(e){if(!this.modes.has(e))throw new Error(`[interaction] unknown mode '${e}'`);if(e===this.state.activeMode)return;const t=this.state.activeMode;this.cursorClaims.clear(),this.notifyHandlersInactive(t),this.dispatch((e=>({type:Pr,payload:{mode:e}}))(e)),this.emitCursor(),this.notifyHandlersActive(e),this.onModeChange$.emit({...this.state,activeMode:e})}setDefaultMode(e){if(!this.modes.has(e))throw new Error(`[interaction] cannot set unknown mode '${e}' as default`);this.dispatch({type:Er,payload:{mode:e}})}notifyHandlersActive(e){this.alwaysGlobal.forEach(t=>{var n;null==(n=t.onHandlerActiveStart)||n.call(t,e)}),this.alwaysPage.forEach(t=>{t.forEach(t=>{var n;null==(n=t.onHandlerActiveStart)||n.call(t,e)})});const t=this.modes.get(e);if(!t)return;const n=this.buckets.get(e);n&&("global"===t.scope&&n.global.forEach(t=>{var n;null==(n=t.onHandlerActiveStart)||n.call(t,e)}),"page"===t.scope&&n.page.forEach((t,n)=>{t.forEach(t=>{var n;null==(n=t.onHandlerActiveStart)||n.call(t,e)})}))}notifyHandlersInactive(e){this.alwaysGlobal.forEach(t=>{var n;null==(n=t.onHandlerActiveEnd)||n.call(t,e)}),this.alwaysPage.forEach(t=>{t.forEach(t=>{var n;null==(n=t.onHandlerActiveEnd)||n.call(t,e)})});const t=this.modes.get(e);if(!t)return;const n=this.buckets.get(e);n&&("global"===t.scope&&n.global.forEach(t=>{var n;null==(n=t.onHandlerActiveEnd)||n.call(t,e)}),"page"===t.scope&&n.page.forEach((t,n)=>{t.forEach(t=>{var n;null==(n=t.onHandlerActiveEnd)||n.call(t,e)})}))}registerMode(e){this.modes.set(e.id,e),this.buckets.has(e.id)||this.buckets.set(e.id,{global:new Set,page:new Map})}registerHandlers({modeId:e,handlers:t,pageIndex:n}){const o=Array.isArray(e)?e:[e],i=[];for(const e of o){const o=this.buckets.get(e);if(!o)throw new Error(`unknown mode '${e}'`);if(null==n)o.global.add(t);else{const e=o.page.get(n)??new Set;e.add(t),o.page.set(n,e)}i.push(()=>{if(null==n)o.global.delete(t);else{const e=o.page.get(n);e&&(e.delete(t),0===e.size&&o.page.delete(n))}})}return this.onHandlerChange$.emit({...this.state}),()=>{i.forEach(e=>e()),this.onHandlerChange$.emit({...this.state})}}registerAlways({scope:e,handlers:t}){if("global"===e.type)return this.alwaysGlobal.add(t),this.onHandlerChange$.emit({...this.state}),()=>this.alwaysGlobal.delete(t);const n=this.alwaysPage.get(e.pageIndex)??new Set;return n.add(t),this.alwaysPage.set(e.pageIndex,n),this.onHandlerChange$.emit({...this.state}),()=>{n.delete(t),this.onHandlerChange$.emit({...this.state})}}getHandlersForScope(e){if(!this.state)return null;const t=this.modes.get(this.state.activeMode);if(!t)return null;const n=this.buckets.get(t.id);if(!n)return null;const o=(e,t)=>e.size||t.size?function(e){const t=["onPointerDown","onPointerUp","onPointerMove","onPointerEnter","onPointerLeave","onPointerCancel","onMouseDown","onMouseUp","onMouseMove","onMouseEnter","onMouseLeave","onMouseCancel","onClick","onDoubleClick"],n={};for(const o of t)n[o]=(t,n,i)=>{var r;for(const a of e)null==(r=a[o])||r.call(a,t,n,i)};return n}([...e,...t]):null;if("global"===e.type){const e="global"===t.scope?n.global:new Set;return o(this.alwaysGlobal,e)}return o(this.alwaysPage.get(e.pageIndex)??new Set,"page"===t.scope?n.page.get(e.pageIndex)??new Set:new Set)}setCursor(e,t,n=0){this.cursorClaims.set(e,{cursor:t,priority:n}),this.emitCursor()}removeCursor(e){this.cursorClaims.delete(e),this.emitCursor()}emitCursor(){var e;const t=[...this.cursorClaims.values()].sort((e,t)=>t.priority-e.priority)[0]??{cursor:(null==(e=this.modes.get(this.state.activeMode))?void 0:e.cursor)??"auto"};var n;t.cursor!==this.state.cursor&&(this.dispatch((n=t.cursor,{type:Tr,payload:{cursor:n}})),this.onCursorChange$.emit(t.cursor))}onStoreUpdated(e,t){this.onStateChange$.emit(t)}activeModeIsExclusive(){const e=this.modes.get(this.state.activeMode);return!!(null==e?void 0:e.exclusive)}getActiveInteractionMode(){return this.modes.get(this.state.activeMode)??null}async destroy(){this.onModeChange$.clear(),this.onCursorChange$.clear(),await super.destroy()}};zr.id="interaction-manager";let Rr=zr;const Lr="interaction-manager",Dr={activeMode:"pointerMode",defaultMode:"pointerMode",cursor:"auto",paused:!1},Or={manifest:{id:Lr,name:"Interaction Manager Plugin",version:"1.0.0",provides:["interaction-manager"],requires:[],optional:[],defaultConfig:{enabled:!0}},create:e=>new Rr(Lr,e),reducer:(e,t)=>{switch(t.type){case Pr:return{...e,activeMode:t.payload.mode};case Tr:return{...e,cursor:t.payload.cursor};case Ar:return{...e,paused:!0};case _r:return{...e,paused:!1};case Er:return{...e,defaultMode:t.payload.mode};default:return e}},initialState:Dr},Hr=()=>jn(Rr.id);function jr(){const{provides:e}=Hr();return{setCursor:(t,n,o=0)=>{null==e||e.setCursor(t,n,o)},removeCursor:t=>{null==e||e.removeCursor(t)}}}function Br({modeId:e,pageIndex:t}){const{provides:n}=Hr();return{register:(o,i)=>{const r=(null==i?void 0:i.modeId)??e,a=(null==i?void 0:i.pageIndex)??t;return r?null==n?void 0:n.registerHandlers({modeId:r,handlers:o,pageIndex:a}):null==n?void 0:n.registerAlways({scope:void 0!==a?{type:"page",pageIndex:a}:{type:"global"},handlers:o})}}}const $r={pointerdown:"onPointerDown",pointerup:"onPointerUp",pointermove:"onPointerMove",pointerenter:"onPointerEnter",pointerleave:"onPointerLeave",pointercancel:"onPointerCancel",mousedown:"onMouseDown",mouseup:"onMouseUp",mousemove:"onMouseMove",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousecancel:"onMouseCancel",click:"onClick",dblclick:"onDoubleClick",touchstart:"onPointerDown",touchend:"onPointerUp",touchmove:"onPointerMove",touchcancel:"onPointerCancel"},Fr=["pointerdown","pointerup","pointermove","pointerenter","pointerleave","pointercancel","mousedown","mouseup","mousemove","mouseenter","mouseleave","mousecancel","click","dblclick","touchstart","touchend","touchmove","touchcancel"];function Ur(e,t,n,o){let i=e.getHandlersForScope(t);const r=()=>{var t;return!1!==(null==(t=e.getActiveInteractionMode())?void 0:t.wantsRawTouch)},a={};let l=r();const s=e=>{Fr.forEach(t=>{const o=a[t]??(a[t]=f);var i;n.addEventListener(t,o,(i=e,t.startsWith("touch")?{passive:!i}:{passive:!1}))})},c=()=>{Fr.forEach(e=>{const t=a[e];t&&n.removeEventListener(e,t)})};s(l);const d=e.onModeChange(()=>{if("global"===t.type){const t=e.getActiveInteractionMode();n.style.cursor="global"===(null==t?void 0:t.scope)?t.cursor??"auto":"auto"}i=e.getHandlersForScope(t);const o=r();o!==l&&(c(),s(o),l=o)}),u=e.onHandlerChange(()=>{i=e.getHandlersForScope(t)}),h=e.getActiveInteractionMode(),p=e.getCurrentCursor();n.style.cursor="global"===t.type&&"global"!==(null==h?void 0:h.scope)?"auto":p;const g=e.onCursorChange(o=>{var i;"global"===t.type&&"global"!==(null==(i=e.getActiveInteractionMode())?void 0:i.scope)||(n.style.cursor=o)}),m=(e,t)=>{if(o)return o(e,t);const n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}};function f(t){var o;if(e.isPaused())return;const r=$r[t.type];if(!r||!(null==i?void 0:i[r]))return;let a,s;if(t instanceof TouchEvent&&l&&("touchmove"===t.type||"touchcancel"===t.type)&&t.preventDefault(),t instanceof TouchEvent){const e="touchend"===t.type||"touchcancel"===t.type?t.changedTouches[0]:t.touches[0];if(!e)return;a=m(e,n),s={clientX:e.clientX,clientY:e.clientY,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,metaKey:t.metaKey,target:t.target,currentTarget:t.currentTarget}}else{const e=t;a=m(e,n),s=e}null==(o=i[r])||o.call(i,a,s,e.getActiveMode())}return()=>{c(),d(),g(),u()}}const Wr=({children:e,style:t,...n})=>{const o=Ie(null),{provides:i}=Hr();return Se(()=>{if(i&&o.current)return Ur(i,{type:"global"},o.current)},[i]),He("div",{ref:o,style:{width:"100%",height:"100%",...t},...n,children:e})},Gr=({pageIndex:e,children:t,pageWidth:n,pageHeight:o,rotation:i,scale:r,convertEventToPoint:a,style:l,...s})=>{const c=Ie(null),{provides:d}=Hr(),u=function(){const{provides:e}=Hr(),[t,n]=Ce(()=>{const t=null==e?void 0:e.getActiveInteractionMode();return"page"===(null==t?void 0:t.scope)&&!!t.exclusive});return Se(()=>{if(e)return e.onModeChange(()=>{const t=e.getActiveInteractionMode();n("page"===(null==t?void 0:t.scope)&&!!(null==t?void 0:t.exclusive))})},[e]),t}(),h=Ae((e,t)=>{const a=t.getBoundingClientRect(),l={x:e.clientX-a.left,y:e.clientY-a.top};return function(e,t,n,o){return Ze(qe(e,t,(4-n)%4),1/o)}({width:n,height:o},l,i,r)},[n,o,i,r]);return Se(()=>{if(d&&c.current)return Ur(d,{type:"page",pageIndex:e},c.current,a||h)},[d,e,a,h]),He("div",{ref:c,style:{...l},...s,children:[t,u&&He("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:10}})]})},Vr=()=>jn(Mr.id);function qr({children:e,style:t,...n}){const{elementRef:o}=function(){const{provides:e}=jn("viewport"),{provides:t}=Vr(),n=Ie(null);return Se(()=>{const o=n.current;if(!o||!e||!t)return;if("undefined"==typeof window)return;let i,r=0,a={x:0,y:0};const l=()=>{o.style.transform="none",o.style.transformOrigin="0 0"},s=n=>{var i;r=t.getState().currentZoomLevel;const l=e.getBoundingRect();a={x:n.center.x-l.origin.x,y:n.center.y-l.origin.y};const s=o.getBoundingClientRect();o.style.transformOrigin=`${n.center.x-s.left}px ${n.center.y-s.top}px`,(null==(i=n.srcEvent)?void 0:i.cancelable)&&(n.srcEvent.preventDefault(),n.srcEvent.stopPropagation())},c=e=>{var t,n;n=e.scale,o.style.transform=`scale(${n})`,(null==(t=e.srcEvent)?void 0:t.cancelable)&&(e.srcEvent.preventDefault(),e.srcEvent.stopPropagation())},d=e=>{const n=(e.scale-1)*r;t.requestZoomBy(n,{vx:a.x,vy:a.y}),l(),r=0};return(async()=>{try{const e=(await import("./hammer-e1aXHboh-6cda5c0f.js").then(e=>e.h)).default,t=(()=>{const t="ontouchstart"in window||navigator.maxTouchPoints>0;return t&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent)?e.TouchInput:t?e.TouchMouseInput:e.MouseInput})();i=new e(o,{touchAction:"pan-x pan-y",inputClass:t}),i.get("pinch").set({enable:!0,pointers:2,threshold:.1}),i.on("pinchstart",s),i.on("pinchmove",c),i.on("pinchend",d)}catch(e){console.warn("Failed to load HammerJS:",e)}})(),()=>{null==i||i.destroy(),l()}},[e,t]),{elementRef:n}}();return He("div",{ref:o,...n,style:{...t,display:"block",width:"fit-content",overflow:"visible",boxSizing:"border-box",margin:"0px auto"},children:e})}const Zr=({pageIndex:e,scale:t,pageWidth:n,pageHeight:o,className:i,stroke:r="rgba(33,150,243,0.8)",fill:a="rgba(33,150,243,0.15)"})=>{const{provides:l}=Vr(),{register:s}=Br({modeId:"marqueeZoom",pageIndex:e}),c=(e,t,n)=>Math.max(t,Math.min(n,e)),d=Ie(null),[u,h]=Ce(null),p=n/t,g=o/t,m=Pe(()=>({onPointerDown:(e,t)=>{var n,o;d.current=e,h({origin:{x:e.x,y:e.y},size:{width:0,height:0}}),null==(o=null==(n=t.target)?void 0:n.setPointerCapture)||o.call(n,t.pointerId)},onPointerMove:e=>{if(!d.current)return;const t=c(e.x,0,p),n=c(e.y,0,g),{x:o,y:i}=d.current,r=Math.min(o,t),a=Math.min(i,n),l=Math.abs(t-o),s=Math.abs(n-i);h({origin:{x:r,y:a},size:{width:l,height:s}})},onPointerUp:(n,o)=>{var i,r;u&&l&&(Math.max(u.size.width,u.size.height)*t>5?l.zoomToArea(e,u):l.zoomIn()),d.current=null,h(null),null==(r=null==(i=o.target)?void 0:i.releasePointerCapture)||r.call(i,o.pointerId)},onPointerCancel:(e,t)=>{var n,o;d.current=null,h(null),null==(o=null==(n=t.target)?void 0:n.releasePointerCapture)||o.call(n,t.pointerId)}}),[p,p,l,t,u,e]);return Se(()=>{if(s)return s(m)},[s,m]),u?He("div",{style:{position:"absolute",pointerEvents:"none",left:u.origin.x*t,top:u.origin.y*t,width:u.size.width*t,height:u.size.height*t,border:`1px solid ${r}`,background:a,boxSizing:"border-box"},className:i}):null};var Yr={download:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}),B("path",{d:"M7 11l5 5l5 -5"}),B("path",{d:"M12 4l0 12"}))},menu:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M4 8l16 0"}),B("path",{d:"M4 16l16 0"}))},fullscreen:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M4 8v-2a2 2 0 0 1 2 -2h2"}),B("path",{d:"M4 16v2a2 2 0 0 0 2 2h2"}),B("path",{d:"M16 4h2a2 2 0 0 1 2 2v2"}),B("path",{d:"M16 20h2a2 2 0 0 0 2 -2v-2"}))},fullscreenExit:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M4 8v-2c0 -.551 .223 -1.05 .584 -1.412"}),B("path",{d:"M4 16v2a2 2 0 0 0 2 2h2"}),B("path",{d:"M16 4h2a2 2 0 0 1 2 2v2"}),B("path",{d:"M16 20h2c.545 0 1.04 -.218 1.4 -.572"}),B("path",{d:"M3 3l18 18"}))},save:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2"}),B("path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),B("path",{d:"M14 4l0 4l-6 0l0 -4"}))},print:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M17 17h2a2 2 0 0 0 2 -2v-4a2 2 0 0 0 -2 -2h-14a2 2 0 0 0 -2 2v4a2 2 0 0 0 2 2h2"}),B("path",{d:"M17 9v-4a2 2 0 0 0 -2 -2h-6a2 2 0 0 0 -2 2v4"}),B("path",{d:"M7 13m0 2a2 2 0 0 1 2 -2h6a2 2 0 0 1 2 2v4a2 2 0 0 1 -2 2h-6a2 2 0 0 1 -2 -2z"}))},settings:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"}),B("path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"}))},viewSettings:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),B("path",{d:"M12 10.5v1.5"}),B("path",{d:"M12 16v1.5"}),B("path",{d:"M15.031 12.25l-1.299 .75"}),B("path",{d:"M10.268 15l-1.3 .75"}),B("path",{d:"M15 15.803l-1.285 -.773"}),B("path",{d:"M10.285 12.97l-1.285 -.773"}),B("path",{d:"M14 3v4a1 1 0 0 0 1 1h4"}),B("path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z"}))},rotateClockwise:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M4.05 11a8 8 0 1 1 .5 4m-.5 5v-5h5"}))},rotateCounterClockwise:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M19.95 11a8 8 0 1 0 -.5 4m.5 5v-5h-5"}))},singlePage:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M5 3m0 1a1 1 0 0 1 1 -1h12a1 1 0 0 1 1 1v16a1 1 0 0 1 -1 1h-12a1 1 0 0 1 -1 -1z"}))},doublePage:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M3 3m0 1a1 1 0 0 1 1 -1h16a1 1 0 0 1 1 1v16a1 1 0 0 1 -1 1h-16a1 1 0 0 1 -1 -1zm9 -1v18"}))},zoomIn:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"}),B("path",{d:"M9 12h6"}),B("path",{d:"M12 9v6"}))},zoomOut:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}),B("path",{d:"M9 12l6 0"}))},fitToWidth:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M4 12v-6a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v6"}),B("path",{d:"M10 18h-7"}),B("path",{d:"M21 18h-7"}),B("path",{d:"M6 15l-3 3l3 3"}),B("path",{d:"M18 15l3 3l-3 3"}))},fitToPage:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M12 20h-6a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h6"}),B("path",{d:"M18 14v7"}),B("path",{d:"M18 3v7"}),B("path",{d:"M15 18l3 3l3 -3"}),B("path",{d:"M15 6l3 -3l3 3"}))},chevronRight:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M9 6l6 6l-6 6"}))},chevronLeft:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M15 6l-6 6l6 6"}))},chevronDown:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M6 9l6 6l6 -6"}))},search:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"}),B("path",{d:"M21 21l-6 -6"}))},comment:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M12 11v.01"}),B("path",{d:"M8 11v.01"}),B("path",{d:"M16 11v.01"}),B("path",{d:"M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3z"}))},sidebar:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M4 18v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z"}),B("path",{d:"M14 18v-12a2 2 0 0 0 -2 -2h-6a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h6a2 2 0 0 0 2 -2z"}))},dots:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),B("path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),B("path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}))},vertical:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M8 7l4 -4l4 4"}),B("path",{d:"M8 17l4 4l4 -4"}),B("path",{d:"M12 3l0 18"}))},horizontal:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M7 8l-4 4l4 4"}),B("path",{d:"M17 8l4 4l-4 4"}),B("path",{d:"M3 12l18 0"}))},book:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),B("path",{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),B("path",{d:"M3 6l0 13"}),B("path",{d:"M12 6l0 13"}),B("path",{d:"M21 6l0 13"}))},book2:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M19 4v16h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12z"}),B("path",{d:"M19 16h-12a2 2 0 0 0 -2 2"}),B("path",{d:"M9 8h6"}))},squares:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M8 10a2 2 0 0 1 2 -2h9a2 2 0 0 1 2 2v9a2 2 0 0 1 -2 2h-9a2 2 0 0 1 -2 -2z"}),B("path",{d:"M16 8v-3a2 2 0 0 0 -2 -2h-9a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h3"}))},listTree:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M9 6h11"}),B("path",{d:"M12 12h8"}),B("path",{d:"M15 18h5"}),B("path",{d:"M5 6v.01"}),B("path",{d:"M8 12v.01"}),B("path",{d:"M11 18v.01"}))},paperclip:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M15 7l-6.5 6.5a1.5 1.5 0 0 0 3 3l6.5 -6.5a3 3 0 0 0 -6 -6l-6.5 6.5a4.5 4.5 0 0 0 9 9l6.5 -6.5"}))},copy:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z"}),B("path",{d:"M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1"}))},underline:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor,a=void 0===r?"currentColor":r;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none","stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M4 20h16",stroke:a}),B("path",{d:"M8 16v-8a4 4 0 1 1 8 0v8",stroke:"#000000"}),B("path",{d:"M8 10h8",stroke:"#000000"}))},squiggly:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor,a=void 0===r?"currentColor":r;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none","stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M8 16v-8a4 4 0 1 1 8 0v8",stroke:"#000000"}),B("path",{d:"M8 10h8",stroke:"#000000"}),B("path",{d:"M4 20c1.5 -1.5 3.5 -1.5 5 0s3.5 1.5 5 0 3.5 -1.5 5 0",stroke:a}))},strikethrough:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor,a=void 0===r?"currentColor":r;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none","stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M8 16v-8a4 4 0 1 1 8 0v8",stroke:"#000000"}),B("path",{d:"M4 10h16",stroke:a}))},highlight:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor,a=void 0===r?"currentColor":r;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none","stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("rect",{x:"2",y:"6",width:"20",height:"16",rx:"2",fill:a,stroke:"none"}),B("path",{d:"M8 16v-8a4 4 0 1 1 8 0v8",stroke:"#000000"}),B("path",{d:"M8 10h8",stroke:"#000000"}))},palette:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M12 21a9 9 0 0 1 0 -18c4.97 0 9 3.582 9 8c0 1.06 -.474 2.078 -1.318 2.828c-.844 .75 -1.989 1.172 -3.182 1.172h-2.5a2 2 0 0 0 -1 3.75a1.3 1.3 0 0 1 -1 2.25"}),B("path",{d:"M8.5 10.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),B("path",{d:"M12.5 7.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),B("path",{d:"M16.5 10.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}))},x:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M18 6l-12 12"}),B("path",{d:"M6 6l12 12"}))},fileImport:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M14 3v4a1 1 0 0 0 1 1h4"}),B("path",{d:"M5 13v-8a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2h-5.5m-9.5 -2h7m-3 -3l3 3l-3 3"}))},hand:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M8 13v-7.5a1.5 1.5 0 0 1 3 0v6.5"}),B("path",{d:"M11 5.5v-2a1.5 1.5 0 1 1 3 0v8.5"}),B("path",{d:"M14 5.5a1.5 1.5 0 0 1 3 0v6.5"}),B("path",{d:"M17 7.5a1.5 1.5 0 0 1 3 0v8.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7a69.74 69.74 0 0 1 -.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47"}))},zoomInArea:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M15 13v4"}),B("path",{d:"M13 15h4"}),B("path",{d:"M15 15m-5 0a5 5 0 1 0 10 0a5 5 0 1 0 -10 0"}),B("path",{d:"M22 22l-3 -3"}),B("path",{d:"M6 18h-1a2 2 0 0 1 -2 -2v-1"}),B("path",{d:"M3 11v-1"}),B("path",{d:"M3 6v-1a2 2 0 0 1 2 -2h1"}),B("path",{d:"M10 3h1"}),B("path",{d:"M15 3h1a2 2 0 0 1 2 2v1"}))},screenshot:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M7 19a2 2 0 0 1 -2 -2"}),B("path",{d:"M5 13v-2"}),B("path",{d:"M5 7a2 2 0 0 1 2 -2"}),B("path",{d:"M11 5h2"}),B("path",{d:"M17 5a2 2 0 0 1 2 2"}),B("path",{d:"M19 11v2"}),B("path",{d:"M19 17v4"}),B("path",{d:"M21 19h-4"}),B("path",{d:"M13 19h-2"}))},arrowBackUp:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M9 14l-4 -4l4 -4"}),B("path",{d:"M5 10h11a4 4 0 1 1 0 8h-1"}))},arrowForwardUp:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M15 14l4 -4l-4 -4"}),B("path",{d:"M19 10h-11a4 4 0 1 0 0 8h1"}))},trash:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M4 7l16 0"}),B("path",{d:"M10 11l0 6"}),B("path",{d:"M14 11l0 6"}),B("path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}),B("path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"}))},deviceFloppy:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2"}),B("path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),B("path",{d:"M14 4l0 4l-6 0l0 -4"}))},pencilMarker:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor,a=void 0===r?"currentColor":r;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":i,class:e.className,role:"img","aria-label":e.title},B("g",{transform:"rotate(47.565 12.1875 10.75)"},B("path",{stroke:"#000000",d:"m14.18752,16.75l0,-12c0,-1.1 -0.9,-2 -2,-2s-2,0.9 -2,2l0,12l2,2l2,-2z"}),B("path",{stroke:"#000000",d:"m10.18752,6.75l4,0"})),B("path",{stroke:a,d:"m19.37499,20.125c0.56874,0.0625 -4.04999,-0.5625 -6.41249,-0.4375c-2.3625,0.125 -4.75833,1.22916 -6.85624,1.625c-1.76458,0.6875 -3.40416,-0.9375 -1.98125,-2.49999"}))},circle:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor,a=void 0===r?"currentColor":r,l=e.secondaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:void 0===l?"none":l,stroke:a,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}))},square:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor,a=void 0===r?"currentColor":r,l=e.secondaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:void 0===l?"none":l,stroke:a,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"}))},line:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2.2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M20 4l-16 16"}))},lineArrow:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2.2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M20 4l-16 16"}),B("path",{d:"M16 3h5v5"}))},polygon:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor,a=void 0===r?"currentColor":r,l=e.secondaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:void 0===l?"none":l,stroke:a,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M13.163 2.168l8.021 5.828c.694 .504 .984 1.397 .719 2.212l-3.064 9.43a1.978 1.978 0 0 1 -1.881 1.367h-9.916a1.978 1.978 0 0 1 -1.881 -1.367l-3.064 -9.43a1.978 1.978 0 0 1 .719 -2.212l8.021 -5.828a1.978 1.978 0 0 1 2.326 0z"}))},zigzag:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{d:"M12 2.4L21.36 11.76L2.64 12.24L12 21.6"}))},text:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M6.5 15.5m-3.5 0a3.5 3.5 0 1 0 7 0a3.5 3.5 0 1 0 -7 0"}),B("path",{d:"M14 19v-10.5a3.5 3.5 0 0 1 7 0v10.5"}),B("path",{d:"M14 13h7"}),B("path",{d:"M10 12v7"}))},italic:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M11 5l6 0"}),B("path",{d:"M7 19l6 0"}),B("path",{d:"M14 5l-4 14"}))},bold:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M7 5h6a3.5 3.5 0 0 1 0 7h-6z"}),B("path",{d:"M13 12h1a3.5 3.5 0 0 1 0 7h-7v-7"}))},alignLeft:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M4 6l16 0"}),B("path",{d:"M4 12l10 0"}),B("path",{d:"M4 18l14 0"}))},alignCenter:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M4 6l16 0"}),B("path",{d:"M8 12l8 0"}),B("path",{d:"M6 18l12 0"}))},alignRight:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M4 6l16 0"}),B("path",{d:"M10 12l10 0"}),B("path",{d:"M6 18l14 0"}))},alignTop:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M3 19v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"}),B("path",{d:"M11 13h2"}),B("path",{d:"M9 10h6"}),B("path",{d:"M10 7h4"}))},alignMiddle:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M3 19v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"}),B("path",{d:"M11 15h2"}),B("path",{d:"M9 12h6"}),B("path",{d:"M10 9h4"}))},alignBottom:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M3 19v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"}),B("path",{d:"M11 17h2"}),B("path",{d:"M9 14h6"}),B("path",{d:"M10 11h4"}))},photo:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M15 8h.01"}),B("path",{d:"M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12z"}),B("path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5"}),B("path",{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l3 3"}))},pointer:function(e){var t=e.size,n=void 0===t?24:t,o=e.strokeWidth,i=void 0===o?2:o,r=e.primaryColor;return B("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,"stroke-width":i,"stroke-linecap":"round","stroke-linejoin":"round",class:e.className,role:"img","aria-label":e.title},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M7.904 17.563a1.2 1.2 0 0 0 2.228 .308l2.09 -3.093l4.907 4.907a1.067 1.067 0 0 0 1.509 0l1.047 -1.047a1.067 1.067 0 0 0 0 -1.509l-4.907 -4.907l3.113 -2.09a1.2 1.2 0 0 0 -.309 -2.228l-13.582 -3.904l3.904 13.563z"}))}},Xr=["icon","title","size","strokeWidth","primaryColor","secondaryColor","className"];function Kr(e){var t=e.icon,n=e.title,o=e.size,i=void 0===o?24:o,r=e.strokeWidth,a=void 0===r?2:r,l=e.primaryColor,s=void 0===l?"currentColor":l,c=e.secondaryColor,d=e.className,u=g(e,Xr),h=Yr[t];return h?B(h,p({size:i,strokeWidth:a,primaryColor:s,secondaryColor:c,className:d,title:n},u)):(console.warn("Icon not found: ".concat(t)),null)}const Qr="START_SEARCH_SESSION",Jr="STOP_SEARCH_SESSION",ea="SET_SEARCH_FLAGS",ta="SET_SHOW_ALL_RESULTS",na="START_SEARCH",oa="SET_SEARCH_RESULTS",ia="APPEND_SEARCH_RESULTS",ra="SET_ACTIVE_RESULT_INDEX";function aa(e){return{type:ea,payload:e}}function la(e){return{type:ta,payload:e}}function sa(e,t,n){return{type:oa,payload:{results:e,total:t,activeResultIndex:n}}}function ca(e){return{type:ra,payload:e}}const da=class extends In{constructor(e,t,n){super(e,t),this.searchStop$=Rn(),this.searchStart$=Rn(),this.searchResult$=Rn(),this.searchActiveResultChange$=Rn(),this.searchResultState$=Rn(),this.searchState$=Rn(),this.engine=n,this.loader=this.registry.getPlugin("loader").provides(),this.loader.onDocumentLoaded(this.handleDocumentLoaded.bind(this)),this.loader.onLoaderEvent(this.handleLoaderEvent.bind(this))}handleDocumentLoaded(e){this.currentDocument=e,this.state.active&&this.startSearchSession()}handleLoaderEvent(e){("error"===e.type||"start"===e.type&&this.currentDocument)&&(this.state.active&&this.stopSearchSession(),this.currentDocument=void 0)}async initialize(e){this.dispatch(aa(e.flags||[])),this.dispatch(la(void 0===e.showAllResults||e.showAllResults))}onStoreUpdated(e,t){this.searchResultState$.emit({results:t.results,activeResultIndex:t.activeResultIndex,showAllResults:t.showAllResults,active:t.active}),this.searchState$.emit(t)}buildCapability(){return{startSearch:this.startSearchSession.bind(this),stopSearch:this.stopSearchSession.bind(this),searchAllPages:this.searchAllPages.bind(this),nextResult:this.nextResult.bind(this),previousResult:this.previousResult.bind(this),goToResult:this.goToResult.bind(this),setShowAllResults:e=>this.dispatch(la(e)),getShowAllResults:()=>this.state.showAllResults,onSearchResult:this.searchResult$.on,onSearchStart:this.searchStart$.on,onSearchStop:this.searchStop$.on,onActiveResultChange:this.searchActiveResultChange$.on,onSearchResultStateChange:this.searchResultState$.on,onStateChange:this.searchState$.on,getFlags:()=>this.state.flags,setFlags:e=>this.setFlags(e),getState:()=>this.state}}setFlags(e){this.dispatch(aa(e)),this.state.active&&this.searchAllPages(this.state.query,!0)}notifySearchStart(){this.searchStart$.emit()}notifySearchStop(){this.searchStop$.emit()}notifyActiveResultChange(e){this.searchActiveResultChange$.emit(e)}startSearchSession(){this.currentDocument&&(this.dispatch({type:Qr}),this.notifySearchStart())}stopSearchSession(){var e,t;if(this.currentDocument&&this.state.active){try{null==(t=null==(e=this.currentTask)?void 0:e.abort)||t.call(e,{type:"abort",code:"cancelled",message:"search stopped"})}catch{}this.currentTask=void 0,this.dispatch({type:Jr}),this.notifySearchStop()}}searchAllPages(e,t=!1){var n,o;const i=e.trim();if(this.state.query===i&&!t)return Tt.resolve({results:this.state.results,total:this.state.total});if(this.currentTask){try{null==(o=(n=this.currentTask).abort)||o.call(n,{type:"abort",code:"superseded",message:"new search"})}catch{}this.currentTask=void 0}if(this.dispatch({type:na,payload:i}),!i||!this.currentDocument)return this.dispatch(sa([],0,-1)),Tt.resolve({results:[],total:0});this.state.active||this.startSearchSession();const r=this.currentTask=this.engine.searchAllPages(this.currentDocument,i,this.state.flags);return r.onProgress(e=>{var t,n;(null==(t=null==e?void 0:e.results)?void 0:t.length)&&(this.dispatch((n=e.results,{type:ia,payload:{results:n}})),-1===this.state.activeResultIndex&&(this.dispatch(ca(0)),this.notifyActiveResultChange(0)))}),r.wait(e=>{this.currentTask=void 0;const t=e.total>0?0:-1;this.dispatch(sa(e.results,e.total,t)),this.searchResult$.emit(e),e.total>0&&this.notifyActiveResultChange(0)},e=>{this.currentTask=void 0,console.error("Error during search:",e),this.dispatch(sa([],0,-1))}),r}nextResult(){if(0===this.state.results.length)return-1;const e=this.state.activeResultIndex>=this.state.results.length-1?0:this.state.activeResultIndex+1;return this.goToResult(e)}previousResult(){if(0===this.state.results.length)return-1;const e=this.state.activeResultIndex<=0?this.state.results.length-1:this.state.activeResultIndex-1;return this.goToResult(e)}goToResult(e){return 0===this.state.results.length||e<0||e>=this.state.results.length?-1:(this.dispatch(ca(e)),this.notifyActiveResultChange(e),e)}async destroy(){this.state.active&&this.currentDocument&&this.stopSearchSession(),this.searchResult$.clear(),this.searchStart$.clear(),this.searchStop$.clear(),this.searchActiveResultChange$.clear(),this.searchResultState$.clear(),this.searchState$.clear()}};da.id="search";let ua=da;const ha="search",pa={flags:[],results:[],total:0,activeResultIndex:-1,showAllResults:!0,query:"",loading:!1,active:!1},ga={manifest:{id:ha,name:"Search Plugin",version:"1.0.0",provides:["search"],requires:["loader"],optional:[],defaultConfig:{enabled:!0,flags:[]}},create:(e,t)=>new ua(ha,e,t),reducer:(e=pa,t)=>{switch(t.type){case Qr:return{...e,active:!0};case Jr:return{...e,results:[],total:0,activeResultIndex:-1,query:"",loading:!1,active:!1};case ea:return{...e,flags:t.payload};case ta:return{...e,showAllResults:t.payload};case na:return{...e,loading:!0,query:t.payload,results:[],total:0,activeResultIndex:-1};case ia:{const n=[...e.results,...t.payload.results],o=-1===e.activeResultIndex&&n.length>0?0:e.activeResultIndex;return{...e,results:n,total:n.length,activeResultIndex:o,loading:!0}}case oa:return{...e,results:t.payload.results,total:t.payload.total,activeResultIndex:t.payload.activeResultIndex,loading:!1};case ra:return{...e,activeResultIndex:t.payload};default:return e}},initialState:pa},ma=()=>jn(ua.id);function fa({pageIndex:e,scale:t,style:n,highlightColor:o="#FFFF00",activeHighlightColor:i="#FFBF00",...r}){const{provides:a}=ma(),[l,s]=Ce(null);return Se(()=>null==a?void 0:a.onSearchResultStateChange(e=>{s(e)}),[a]),l?He("div",{style:{...n},...r,children:l.results.map((e,t)=>({result:e,originalIndex:t})).filter(({result:t})=>t.pageIndex===e).map(({result:e,originalIndex:n})=>e.rects.map(e=>He("div",{style:{position:"absolute",top:e.origin.y*t,left:e.origin.x*t,width:e.size.width*t,height:e.size.height*t,backgroundColor:n===l.activeResultIndex?i:o,mixBlendMode:"multiply",transform:"scale(1.02)",transformOrigin:"center",transition:"opacity .3s ease-in-out",opacity:1}})))}):null}const va="thumbnail",ya={id:va,name:"Thumbnail Plugin",version:"1.0.0",provides:["thumbnail"],requires:["render"],optional:[],defaultConfig:{enabled:!0,width:150,gap:10,buffer:3,labelHeight:16}},ba=class extends In{constructor(e,t,n){super(e,t),this.cfg=n,this.thumbs=[],this.window=null,this.emitWindow=Rn(),this.taskCache=new Map,this.renderCapability=this.registry.getPlugin("render").provides(),this.coreStore.onAction(gn,(e,t)=>{this.taskCache.clear(),this.setWindowState(t)})}async initialize(){}setWindowState(e){const t=e.core;if(!t.document)return;const n=this.cfg.width??120,o=this.cfg.labelHeight??16,i=this.cfg.gap??8;let r=0;this.thumbs=t.document.pages.map(e=>{const t=e.size.height/e.size.width,a=Math.round(n*t),l=a+o,s={pageIndex:e.index,width:n,height:a,wrapperHeight:l,top:r,labelHeight:o};return r+=l+i,s}),this.window={start:-1,end:-1,items:[],totalHeight:r-i},this.emitWindow.emit(this.window)}buildCapability(){return{onWindow:this.emitWindow.on,setViewport:(e,t)=>this.updateWindow(e,t),renderThumb:(e,t)=>this.renderThumb(e,t)}}updateWindow(e,t){const n=this.cfg.buffer??3;let o=0,i=this.thumbs.length-1,r=0;for(;o<=i;){const t=o+i>>1,n=this.thumbs[t];n.top+n.wrapperHeight<e?o=t+1:(r=t,i=t-1)}let a=r;const l=e+t;for(;a+1<this.thumbs.length&&this.thumbs[a].top<l;)a++;a=Math.min(this.thumbs.length-1,a+n);const s=Math.max(0,r-n);this.window&&s===this.window.start&&a===this.window.end||(this.window={start:s,end:a,items:this.thumbs.slice(s,a+1),totalHeight:this.window.totalHeight},this.emitWindow.emit(this.window))}renderThumb(e,t){if(this.taskCache.has(e))return this.taskCache.get(e);const n=this.coreState.core.document.pages[e],o=(this.cfg.width??120)/n.size.width,i=this.renderCapability.renderPageRect({pageIndex:e,rect:{origin:{x:0,y:0},size:n.size},scaleFactor:o,dpr:t});return this.taskCache.set(e,i),i.wait(an,()=>{this.taskCache.delete(e)}),i}};ba.id="thumbnail";let wa=ba;const xa={manifest:ya,create:(e,t,n)=>new wa(va,e,n),reducer:()=>{},initialState:{}},ka=()=>jn(wa.id);function Ca({style:e,selectedPage:t,scrollOptions:n={behavior:"smooth",block:"nearest",inline:"nearest"},...o}){const{provides:i}=ka(),r=Ie(null),[a,l]=Ce(null);return Se(()=>null==i?void 0:i.onWindow(l),[i]),Se(()=>{const e=r.current;if(!e)return;const t=()=>null==i?void 0:i.setViewport(e.scrollTop,e.clientHeight);return e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)},[i]),Se(()=>{const e=r.current;e&&i&&0===(null==a?void 0:a.items.length)&&i.setViewport(e.scrollTop,e.clientHeight)},[a,i]),Se(()=>{if(!t||!a)return;const e=a.items.find(e=>e.pageIndex+1===t);if(!e)return;const o=r.current;o&&(e.top<o.scrollTop+8?o.scrollTo({top:e.top,...n}):e.top+e.wrapperHeight+e.labelHeight>o.scrollTop+o.clientHeight-8&&o.scrollTo({top:e.top+e.wrapperHeight+e.labelHeight-o.clientHeight,...n}))},[t,a,n]),He("div",{ref:r,style:{overflowY:"auto",position:"relative",...e},...o,children:He("div",{style:{height:(null==a?void 0:a.totalHeight)??0,position:"relative"},children:null==a?void 0:a.items.map(e=>o.children(e))})})}function Sa({meta:e,style:t,...n}){const{provides:o}=ka(),[i,r]=Ce(),a=Ie(null);return Se(()=>{const t=null==o?void 0:o.renderThumb(e.pageIndex,window.devicePixelRatio);return null==t||t.wait(e=>{const t=URL.createObjectURL(e);a.current=t,r(t)},an),()=>{a.current?(URL.revokeObjectURL(a.current),a.current=null):null==t||t.abort({code:_t.Cancelled,message:"canceled render task"})}},[e.pageIndex]),i?He("img",{src:i,onLoad:()=>{a.current&&(URL.revokeObjectURL(a.current),a.current=null)},style:t,...n}):null}function Ma(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,n=v(Ce(e),2),o=n[0],i=n[1];return Se(function(){var n=window.setTimeout(function(){return i(e)},t);return function(){return clearTimeout(n)}},[e,t]),o}var Ia=function(e){var t=e.label,n=e.checked,o=e.onChange;return B("label",{className:"inline-flex cursor-pointer select-none items-center gap-2 text-xs font-medium text-gray-700"},B("input",{type:"checkbox",checked:n,onChange:function(e){return o(e.target.checked)},className:"peer h-4 w-4 shrink-0 appearance-none rounded-[3px] border border-gray-300 bg-white transition-all checked:border-blue-600 checked:bg-blue-600"}),B("svg",{viewBox:"0 0 24 24",className:"/* fine-tune centering */ pointer-events-none absolute h-3.5 w-3.5 translate-x-[1px] translate-y-[1px] text-white opacity-0 peer-checked:opacity-100",fill:"none",stroke:"currentColor",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round"},B("polyline",{points:"20 6 9 17 4 12"})),t)};const Pa="selection",Aa={id:Pa,name:"Selection Plugin",version:"1.0.0",provides:["selection"],requires:["interaction-manager"],optional:[],defaultConfig:{enabled:!0}},_a="CACHE_PAGE_GEOMETRY",Ta="SET_SELECTION",Ea="START_SELECTION",Na="END_SELECTION",za="CLEAR_SELECTION",Ra="SET_RECTS",La="SET_SLICES",Da="RESET";function Oa(e,t){return e.rects[t]??[]}function Ha(e,t){return tt(Oa(e,t))}function ja(e,t){for(const n of e.runs){if(!(t.y>=n.rect.y&&t.y<=n.rect.y+n.rect.height&&t.x>=n.rect.x&&t.x<=n.rect.x+n.rect.width))continue;const e=n.glyphs.findIndex(e=>t.x>=e.x&&t.x<=e.x+e.width&&t.y>=e.y&&t.y<=e.y+e.height);if(-1!==e)return n.charStart+e}return-1}function Ba(e,t,n){if(!e||!t)return null;if(n<e.start.page||n>e.end.page)return null;const o=n===e.start.page?e.start.index:0,i=t.runs[t.runs.length-1],r=i.charStart+i.glyphs.length-1;return{from:o,to:n===e.end.page?e.end.index:r}}function $a(e,t,n,o=!0){const i=[];for(const o of e.runs){const e=o.charStart,r=e+o.glyphs.length-1;if(r<t||e>n)continue;const a=Math.max(t,e)-e,l=Math.min(n,r)-e;let s=1/0,c=-1/0,d=1/0,u=-1/0,h=0;for(let e=a;e<=l;e++){const t=o.glyphs[e];2!==t.flags&&(s=Math.min(s,t.x),c=Math.max(c,t.x+t.width),d=Math.min(d,t.y),u=Math.max(u,t.y+t.height),h++)}s!==1/0&&h>0&&i.push({rect:{origin:{x:s,y:d},size:{width:c-s,height:u-d}},charCount:h})}return o?function(e){const t=[];let n=null,o=null;for(const i of e)n&&o?Wa(n,i)?o=Fa(o,i.rect):(t.push(o),o=i.rect):o=i.rect,n=i;return o&&!Ua(o)&&t.push(o),t}(i):i.map(e=>e.rect)}function Fa(e,t){const n=Math.min(e.origin.x,t.origin.x),o=Math.min(e.origin.y,t.origin.y);return{origin:{x:n,y:o},size:{width:Math.max(e.origin.x+e.size.width,t.origin.x+t.size.width)-n,height:Math.max(e.origin.y+e.size.height,t.origin.y+t.size.height)-o}}}function Ua(e){return e.size.width<=0||e.size.height<=0}function Wa(e,t){const n=e.rect,o=t.rect;if(function(e,t){if(Ua(e)||Ua(t))return 0;const n=Fa(e,t);if(n.size.height===e.size.height||n.size.height===t.size.height)return 1;const o=function(e,t){const n=Math.max(e.origin.x,t.origin.x),o=Math.max(e.origin.y,t.origin.y),i=Math.min(e.origin.x+e.size.width,t.origin.x+t.size.width),r=Math.min(e.origin.y+e.size.height,t.origin.y+t.size.height);return{origin:{x:n,y:o},size:{width:Math.max(0,i-n),height:Math.max(0,r-o)}}}(e,t);return o.size.height/n.size.height}(n,o)<.8)return!1;const i=1*n.size.width/e.charCount,r=1*o.size.width/t.charCount,a=n.origin.x-i,l=n.origin.x+n.size.width+i,s=o.origin.x-r;return a<o.origin.x+o.size.width+r&&l>s}const Ga=class extends In{constructor(e,t,n){super(e,t),this.engine=n,this.enabledModes=new Set(["pointerMode"]),this.selecting=!1,this.selChange$=Rn(),this.textRetrieved$=Rn(),this.copyToClipboard$=zn(),this.beginSelection$=zn(),this.endSelection$=zn(),this.coreStore.onAction(gn,e=>{this.dispatch({type:Da})})}async initialize(){}async destroy(){this.selChange$.clear()}buildCapability(){return{getGeometry:e=>this.getOrLoadGeometry(e),getFormattedSelection:()=>function(e){const t=[],n=Object.keys(e.rects).map(Number);for(const o of n){const n=e.rects[o]||[];if(0===n.length)continue;const i=Ha(e,o);i&&t.push({pageIndex:o,rect:i,segmentRects:n})}return t}(this.state),getFormattedSelectionForPage:e=>function(e,t){const n=e.rects[t]||[];if(0===n.length)return null;const o=Ha(e,t);return o?{pageIndex:t,rect:o,segmentRects:n}:null}(this.state,e),getHighlightRectsForPage:e=>Oa(this.state,e),getHighlightRects:()=>this.state.rects,getBoundingRectForPage:e=>Ha(this.state,e),getBoundingRects:()=>function(e){const t=[],n=e.rects;for(const e in n){const o=Number(e),i=tt(n[o]);i&&t.push({page:o,rect:i})}return t}(this.state),begin:(e,t)=>this.beginSelection(e,t),update:(e,t)=>this.updateSelection(e,t),end:()=>this.endSelection(),clear:()=>this.clearSelection(),onCopyToClipboard:this.copyToClipboard$.on,onSelectionChange:this.selChange$.on,onTextRetrieved:this.textRetrieved$.on,onBeginSelection:this.beginSelection$.on,onEndSelection:this.endSelection$.on,getSelectedText:()=>this.getSelectedText(),copyToClipboard:()=>this.copyToClipboard(),enableForMode:e=>this.enabledModes.add(e),isEnabledForMode:e=>this.enabledModes.has(e),getState:()=>this.state}}getOrLoadGeometry(e){const t=this.state.geometry[e];if(t)return Tt.resolve(t);if(!this.coreState.core.document)return Tt.reject({code:_t.NotFound,message:"Doc Not Found"});const n=this.coreState.core.document.pages.find(t=>t.index===e),o=this.engine.getPageGeometry(this.coreState.core.document,n);return o.wait(t=>{this.dispatch(((e,t)=>({type:_a,payload:{page:e,geo:t}}))(e,t))},an),o}beginSelection(e,t){this.selecting=!0,this.anchor={page:e,index:t},this.dispatch({type:Ea}),this.beginSelection$.emit({page:e,index:t})}endSelection(){this.selecting=!1,this.anchor=void 0,this.dispatch({type:Na}),this.endSelection$.emit()}clearSelection(){this.selecting=!1,this.anchor=void 0,this.dispatch({type:za}),this.selChange$.emit(null)}updateSelection(e,t){if(!this.selecting||!this.anchor)return;const n=this.anchor,o=e>n.page||e===n.page&&t>=n.index,i={start:o?n:{page:e,index:t},end:o?{page:e,index:t}:n};this.dispatch({type:Ta,payload:i}),this.updateRectsAndSlices(i),this.selChange$.emit(i)}updateRectsAndSlices(e){const t={},n={};for(let o=e.start.page;o<=e.end.page;o++){const i=this.state.geometry[o],r=Ba(e,i,o);r&&(t[o]=$a(i,r.from,r.to),n[o]={start:r.from,count:r.to-r.from+1})}this.dispatch((e=>({type:Ra,payload:e}))(t)),this.dispatch({type:La,payload:n})}getSelectedText(){if(!this.coreState.core.document||!this.state.selection)return Tt.reject({code:_t.NotFound,message:"Doc Not Found or No Selection"});const e=this.state.selection,t=[];for(let n=e.start.page;n<=e.end.page;n++){const e=this.state.slices[n];e&&t.push({pageIndex:n,charIndex:e.start,charCount:e.count})}if(0===t.length)return Tt.resolve([]);const n=this.engine.getTextSlices(this.coreState.core.document,t);return n.wait(e=>{this.textRetrieved$.emit(e)},an),n}copyToClipboard(){this.getSelectedText().wait(e=>{this.copyToClipboard$.emit(e.join("\n"))},an)}};Ga.id="selection";let Va=Ga;const qa={geometry:{},rects:{},slices:{},selection:null,active:!1,selecting:!1},Za={manifest:Aa,create:(e,t)=>new Va(Pa,e,t),reducer:(e=qa,t)=>{switch(t.type){case _a:{const{page:n,geo:o}=t.payload;return{...e,geometry:{...e.geometry,[n]:o}}}case Ta:return{...e,selection:t.payload,active:!0};case Ea:return{...e,selecting:!0,selection:null,rects:{}};case Na:return{...e,selecting:!1};case za:return{...e,selecting:!1,selection:null,rects:{},active:!1};case Ra:return{...e,rects:t.payload};case La:return{...e,slices:t.payload};case Da:return qa;default:return e}},initialState:qa},Ya=()=>jn(Va.id);function Xa({pageIndex:e,scale:t,background:n="rgba(33,150,243)"}){const{provides:o}=Ya(),{provides:i}=Hr(),{register:r}=Br({pageIndex:e}),[a,l]=Ce([]),[s,c]=Ce(null),{setCursor:d,removeCursor:u}=jr(),h=Ie(null);Se(()=>{if(o)return o.onSelectionChange(()=>{"pointerMode"===(null==i?void 0:i.getActiveMode())?(l(o.getHighlightRectsForPage(e)),c(o.getBoundingRectForPage(e))):(l([]),c(null))})},[o,e]);const p=Ae(e=>{const t=h.current;return t?ja(t,e):-1},[]);Se(()=>{if(!o)return;const t=o.getGeometry(e);return t.wait(e=>h.current=e,an),()=>{t.abort({code:_t.Cancelled,message:"Cancelled"}),h.current=null}},[o,e]);const g=Pe(()=>({onPointerDown:(t,n,i)=>{o&&o.isEnabledForMode(i)&&(o.clear(),o.getGeometry(e).wait(n=>{const i=ja(n,t);-1!==i&&o.begin(e,i)},an))},onPointerMove:(t,n,i)=>{if(!o)return;if(!o.isEnabledForMode(i))return;const r=p(t);-1!==r?d("selection-text","text",10):u("selection-text"),-1!==r&&o.update(e,r)},onPointerUp:(e,t,n)=>{o&&o.isEnabledForMode(n)&&o.end()},onHandlerActiveEnd(e){o&&o.isEnabledForMode(e)&&o.clear()}}),[o,e,p]);return Se(()=>{if(r)return r(g)},[r,g]),s?He("div",{style:{position:"absolute",left:s.origin.x*t,top:s.origin.y*t,width:s.size.width*t,height:s.size.height*t,mixBlendMode:"multiply",isolation:"isolate"},children:a.map((e,o)=>He("div",{style:{position:"absolute",left:(e.origin.x-s.origin.x)*t,top:(e.origin.y-s.origin.y)*t,width:e.size.width*t,height:e.size.height*t,background:n,pointerEvents:"none"}},o))}):null}function Ka(){const{provides:e}=Ya();return Se(()=>{if(e)return e.onCopyToClipboard(e=>{navigator.clipboard.writeText(e)})},[e]),null}function Qa(e,t,n,o,i,r){return r?e.origin.y+i>=n+o:e.origin.y+i+e.size.height+n+o<=t.scrollTop+t.clientHeight}var Ja=function(e){if(!e)return"(no date)";try{return(e instanceof Date?e:new Date(e)).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})}catch(t){return"string"==typeof e?e:"(no date)"}};function el(e){var t=e.open,n=e.title,o=e.children,i=e.onClose,r=e.className,a=e.showCloseButton,l=void 0===a||a;e.maxWidth;var s=Ie(null);return Se(function(){if(t){var e=function(e){"Escape"===e.key&&(null==i||i())};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}},[t,i]),Se(function(){return document.body.style.overflow=t?"hidden":"",function(){document.body.style.overflow=""}},[t]),t?He("div",{ref:s,className:"fixed inset-0 z-50 bg-black/50 md:flex md:items-center md:justify-center",onClick:function(e){e.target===s.current&&(null==i||i())},children:He("div",{className:"relative flex h-full w-full flex-col bg-white md:h-auto md:w-[28rem] md:max-w-[90vw] md:rounded-lg md:border md:border-gray-200 md:shadow-lg ".concat(r),onClick:function(e){return e.stopPropagation()},children:[(n||l)&&He("div",{className:"flex flex-shrink-0 items-center justify-between border-b border-gray-200 px-6 py-4",children:[n&&He("h2",{className:"text-lg font-semibold text-gray-900",children:n}),l&&He(ti,{onClick:i,className:"p-1 hover:bg-gray-100",children:He(Kr,{icon:"x",className:"h-5 w-5"})})]}),He("div",{className:"flex-1 overflow-y-auto px-6 py-4 md:max-h-[80vh] md:flex-none",children:o})]})}):null}const tl=class extends In{constructor(e,t,n){super(e,t),this.engine=n}async initialize(e){}buildCapability(){return{renderPage:this.renderPage.bind(this),renderPageRect:this.renderPageRect.bind(this)}}renderPage({pageIndex:e,scaleFactor:t=1,dpr:n=1,rotation:o=je.Degree0,options:i={withAnnotations:!1},imageType:r="image/webp"}){const a=this.coreState.core;if(!a.document)throw new Error("document does not open");const l=a.document.pages.find(t=>t.index===e);if(!l)throw new Error("page does not exist");return this.engine.renderPage(a.document,l,t,o,n,i,r)}renderPageRect({pageIndex:e,scaleFactor:t=1,dpr:n=1,rect:o,rotation:i=je.Degree0,options:r={withAnnotations:!1},imageType:a="image/webp"}){const l=this.coreState.core;if(!l.document)throw new Error("document does not open");const s=l.document.pages.find(t=>t.index===e);if(!s)throw new Error("page does not exist");return this.engine.renderPageRect(l.document,s,t,i,n,o,r,a)}};tl.id="render";let nl=tl;const ol="render",il={manifest:{id:ol,name:"Render Plugin",version:"1.0.0",provides:["render"],requires:[],optional:[],defaultConfig:{enabled:!0}},create:(e,t)=>new nl(ol,e,t),reducer:()=>{},initialState:{}},rl="print",al={id:rl,name:"Print Plugin",version:"1.0.0",provides:["print"],requires:["render"],optional:[],defaultConfig:{enabled:!0}};var ll=(e=>(e.Normal="normal",e.High="high",e))(ll||{}),sl=(e=>(e.Current="current",e.All="all",e.Custom="custom",e))(sl||{});const cl=class extends In{constructor(e,t,n){var o;super(e,t),this.config=n,this.renderCapability=null==(o=this.registry.getPlugin(nl.id))?void 0:o.provides()}async initialize(e){}buildCapability(){return{preparePrint:this.preparePrint.bind(this),parsePageRange:this.parsePageRange.bind(this)}}async preparePrint(e,t,n){var o;const i=this.coreState.core;if(!i.document)throw new Error("No document loaded");const r=this.getPagesToPrint(e,i.document.pages.length),a=r.length,l=(null==(o=this.config)?void 0:o.batchSize)||3;null==t||t({current:0,total:a,status:"preparing",message:`Preparing to render ${a} page${1!==a?"s":""}...`});const s=this.getScaleFactor(e.quality);for(let o=0;o<r.length;o+=l){const i=Math.min(o+l,r.length),c=r.slice(o,i).map(async(i,r)=>{null==t||t({current:o+r,total:a,status:"rendering",message:`Rendering page ${i+1}...`});const l=await this.renderPage(i,s,1,e.includeAnnotations);null==n||n({pageIndex:i,blob:l})});await Promise.all(c)}null==t||t({current:a,total:a,status:"complete",message:"All pages rendered successfully"})}async renderPage(e,t,n,o){return new Promise((i,r)=>{this.renderCapability.renderPage({pageIndex:e,scaleFactor:t,dpr:n,rotation:je.Degree0,options:{withAnnotations:o}}).wait(e=>i(e),t=>r(new Error(`Failed to render page ${e+1}: ${t.reason.message||"Unknown error"}`)))})}getScaleFactor(e){switch(e){case ll.High:return 1.5;case ll.Normal:default:return 1}}getPagesToPrint(e,t){const{pageRange:n}=e;switch(n.type){case sl.Current:return void 0!==n.currentPage?[n.currentPage]:[0];case sl.All:return Array.from({length:t},(e,t)=>t);case sl.Custom:return n.pages?n.pages.filter(e=>e>=0&&e<t).sort((e,t)=>e-t):[0];default:return[0]}}parsePageRange(e){var t;try{const n=(null==(t=this.coreState.core.document)?void 0:t.pages.length)||0,o=[],i=e.split(",").map(e=>e.trim());for(const e of i)if(e.includes("-")){const[t,i]=e.split("-").map(e=>parseInt(e.trim()));if(isNaN(t)||isNaN(i))return{pages:[],isValid:!1,error:`Invalid range: ${e}`};if(t>i)return{pages:[],isValid:!1,error:`Invalid range: ${e} (start > end)`};for(let e=t;e<=i;e++)e>=1&&e<=n&&o.push(e-1)}else{const t=parseInt(e);if(isNaN(t))return{pages:[],isValid:!1,error:`Invalid page number: ${e}`};t>=1&&t<=n&&o.push(t-1)}const r=[...new Set(o)].sort((e,t)=>e-t);return{pages:r,isValid:!0}}catch(e){return{pages:[],isValid:!1,error:`Parsing error: ${e instanceof Error?e.message:"Unknown error"}`}}}};cl.id="print";let dl=cl;const ul={manifest:al,create:(e,t,n)=>new dl(rl,e,n),reducer:()=>{},initialState:{}},hl=se(null),pl=({pageResult:e})=>{const[t,n]=Ce("");return Se(()=>{const t=URL.createObjectURL(e.blob);return n(t),()=>{URL.revokeObjectURL(t)}},[e.blob]),He("div",{style:{pageBreakAfter:"always",width:"210mm",minHeight:"297mm",margin:"0 auto",background:"white",position:"relative"},children:He("img",{src:t,onLoad:()=>{t&&URL.revokeObjectURL(t)},alt:`Page ${e.pageIndex+1}`,style:{width:"100%",height:"auto",display:"block",objectFit:"contain"}})})},gl=({pages:e})=>He("div",{style:{fontFamily:"Arial, sans-serif",fontSize:"12px",lineHeight:"1.4",color:"#000",backgroundColor:"#fff"},children:[He("style",{children:"\n        @media print {\n          body { margin: 0; padding: 0; }\n        }\n      "}),e.map(e=>He("div",{children:He(pl,{pageResult:e})},e.pageIndex))]});function ml({children:e}){const{provides:t}=jn(dl.id),n=Ie(null),[o,i]=Ce(null),[r,a]=Ce(!1),[l,s]=Ce(!1),[c,d]=Ce([]);Se(()=>{var e,t;const o=n.current,i=null==(t=null==(e=null==o?void 0:o.contentWindow)?void 0:e.document)?void 0:t.body;if(i&&c.length>0)return le(He(gl,{pages:c}),i),a(!0),()=>{i&&le(null,i)}},[c]);const u={parsePageRange:(null==t?void 0:t.parsePageRange)||(()=>({pages:[],isValid:!1})),executePrint:async e=>{var r;if(!t)throw new Error("Print capability not available");if(!(null==(r=n.current)?void 0:r.contentWindow))throw new Error("Print iframe not ready");s(!0),i(null),d([]),a(!1);try{const r=[];await t.preparePrint(e,e=>{i(e)},e=>{r.push(e),d([...r])}),await new Promise(e=>setTimeout(e,500));const a=n.current.contentWindow;a.focus(),a.print(),i({current:(null==o?void 0:o.total)||0,total:(null==o?void 0:o.total)||0,status:"complete",message:"Print dialog opened"})}catch(e){throw i({current:0,total:0,status:"error",message:`Print failed: ${e instanceof Error?e.message:"Unknown error"}`}),e}finally{s(!1)}},progress:o,isReady:r,isPrinting:l};return He(hl.Provider,{value:u,children:[e,He("iframe",{ref:n,style:{display:"none",width:"210mm",height:"297mm"},title:"Print Preview"})]})}const fl="bookmark",vl={id:fl,name:"Bookmark Plugin",version:"1.0.0",provides:["bookmark"],requires:[],optional:[],defaultConfig:{enabled:!0}},yl=class extends In{constructor(e,t,n){super(e,t),this.engine=n}async initialize(e){}buildCapability(){return{getBookmarks:this.getBookmarks.bind(this)}}getBookmarks(){const e=this.coreState.core.document;if(!e)throw new Error("Document not open");return this.engine.getBookmarks(e)}};yl.id="bookmark";let bl=yl;const wl={manifest:vl,create:(e,t)=>new bl(fl,e,t),reducer:()=>{},initialState:{}};var xl=["commandId","onClick","active","iconProps","disabled"],kl=["commandId","onClick","active"],Cl=function(e,t,n){var o=e.commandId,i=e.onClick,r=e.active,a=e.iconProps,l=e.disabled,s=void 0!==l&&l,c=g(e,xl),d=pr().provides,u=o?null==d?void 0:d.getMenuOrAction(o):null,h=Ae(function(e){if(e.preventDefault(),e.stopPropagation(),i)i();else if(o&&d&&u){var t=e.currentTarget;d.executeCommand(o,{source:"click",triggerElement:t,position:"horizontal"===(null==n?void 0:n.direction)?"bottom":"right"})}},[u,o,d,i]);return B(hr,{position:"horizontal"===(null==n?void 0:n.direction)?"bottom":"right",content:c.label||(null==u?void 0:u.label)||"",trigger:r?"none":"hover",delay:500},B(ti,{active:r,onClick:h,disabled:s,className:" ".concat("flyout"===(null==n?void 0:n.variant)?"w-full rounded-none px-2":""," ")},!(null!=u&&u.icon)&&c.img&&B("img",{src:c.img,alt:c.label,className:"h-5 w-5"}),(null==u?void 0:u.icon)&&B(Kr,p({icon:u.icon,className:"h-5 w-5"},a))))},Sl=function(e,t){var n=e.commandId,o=e.onClick,i=e.active,r=g(e,kl),a=pr().provides,l=n?null==a?void 0:a.getMenuOrAction(n):null,s=Ae(function(e){e.preventDefault(),e.stopPropagation(),o?o():n&&a&&l&&a.executeCommand(n,{source:"click"})},[l,n,a,o]);return B(ti,{key:r.id,className:"rounded-none px-2 py-1 text-sm hover:bg-transparent ".concat(i?"border-b-2 border-b-blue-500 text-blue-500":"border-b-2 border-b-transparent hover:border-b-gray-500"," hover:ring-transparent"),onClick:s},r.label)},Ml=function(e,t,n){return B("div",{className:"horizontal"===(null==n?void 0:n.direction)?"h-6 w-[1px] bg-gray-300 self-center":"h-[1px] w-6 bg-gray-300 self-center"})},Il=function(e,t,n){return B("div",{style:{display:"flex",flexDirection:"horizontal"===(null==n?void 0:n.direction)?"row":"column",justifyContent:e.justifyContent||"start",gap:"".concat(e.gap||0,"px")}},t())},Pl=function(e,t){var n=p(p(p({},"top"===e.placement?{borderBottom:"1px solid #cfd4da"}:"bottom"===e.placement?{borderTop:"1px solid #cfd4da"}:"left"===e.placement?{borderRight:"1px solid #cfd4da"}:{borderLeft:"1px solid #cfd4da"}),{},{width:"top"===e.placement||"bottom"===e.placement?"100%":"auto",height:"left"===e.placement||"right"===e.placement?"100%":"auto",zIndex:10,justifyContent:"space-between",display:"flex",flexDirection:"top"===e.placement||"bottom"===e.placement?"row":"column"},"top"===e.placement||"bottom"===e.placement?{paddingTop:"8px",paddingBottom:"8px",paddingLeft:"16px",paddingRight:"16px"}:{paddingLeft:"8px",paddingRight:"8px",paddingTop:"16px",paddingBottom:"16px"}),e.style);return void 0===e.visible||e.visible?B("div",{style:n,className:"header"},t(p({},e.visibleChild&&{filter:function(t){return t===e.visibleChild}}))):null},Al=function(e,t){var n=pr().provides,o=e.tabsCommandId?null==n?void 0:n.getMenuOrAction(e.tabsCommandId):null,i=o&&"menu"===o.type?null==n?void 0:n.getItemsByIds(o.children):null;return B(F,null,o&&i&&B("div",{role:"tablist",className:"mx-4 my-4 flex flex-shrink-0 overflow-hidden bg-white"},i.filter(function(e){return"action"===e.type}).map(function(e,t,o){var i=!!e.active,r=0===t,a=t===o.length-1;return B(hr,{key:e.id,content:e.label,trigger:"hover",position:"bottom"},B("button",{role:"tab","aria-selected":i,tabIndex:i?0:-1,onClick:function(t){return null==n?void 0:n.executeCommand(e.id,{source:"click",triggerElement:t.currentTarget,position:"bottom"})},className:"relative flex h-7 flex-1 cursor-pointer items-center justify-center border outline-none transition-colors ".concat(r?"rounded-l-md":""," ").concat(a?"rounded-r-md":""," ").concat(a?"":"border-r-0"," ").concat(i?"border-blue-600 bg-blue-600 text-white":"border-gray-300 text-gray-600 hover:bg-gray-50"," ")},e.icon&&B(Kr,{icon:e.icon,className:"pointer-events-none block h-5 w-5"})))})),t(p({},e.visibleChild&&{filter:function(t){return t===e.visibleChild}})))},_l=function(e,t){var n=function(e){var t=v(Ce(!1),2),n=t[0],o=t[1],i=Ie(0),r=Ie(0),a=Ie(null),l=Ie(!1);return Se(function(){e||(o(!1),l.current=!1)},[e]),Se(function(){if(e){var t=a.current;if(t){var s=function(e){l.current=!0,i.current="touches"in e?e.touches[0].clientY:e.clientY,r.current=i.current},c=function(e){if(l.current){r.current="touches"in e?e.touches[0].clientY:e.clientY;var t=r.current-i.current;t<-2&&!n?(o(!0),l.current=!1):t>2&&n&&(o(!1),l.current=!1)}},d=function(){l.current=!1};return t.addEventListener("touchstart",s),t.addEventListener("touchmove",c),t.addEventListener("touchend",d),t.addEventListener("touchcancel",d),t.addEventListener("mousedown",s),t.addEventListener("mousemove",c),t.addEventListener("mouseup",d),t.addEventListener("mouseleave",d),function(){t.removeEventListener("touchstart",s),t.removeEventListener("touchmove",c),t.removeEventListener("touchend",d),t.removeEventListener("touchcancel",d),t.removeEventListener("mousedown",s),t.removeEventListener("mousemove",c),t.removeEventListener("mouseup",d),t.removeEventListener("mouseleave",d)}}}},[e,n]),{elementRef:a,isFullscreen:n}}(e.open),o=n.elementRef,i=n.isFullscreen,r=pr().provides;if(!e.open)return null;var a="left"===e.location?"md:border-r":"md:border-l";return B("div",{className:"flex w-full flex-none shrink-0 flex-col border-t bg-white md:w-[275px] md:min-w-[275px] md:border-t-0 ".concat(a," absolute bottom-0 left-0 right-0 z-10 touch-pan-y border-[#cfd4da] transition-all duration-300 ease-in-out md:static md:h-full ").concat(i?"h-full":"h-1/2")},B("div",{className:"flex h-6 w-full cursor-grab items-center justify-center active:cursor-grabbing md:hidden",ref:o},B("div",{className:"h-1 w-12 rounded-full bg-gray-300"})),B("div",{className:"flex flex-row justify-end md:hidden"},B("button",{onClick:function(){null==r||r.togglePanel({id:e.id,visibleChild:e.visibleChild||"leftPanelMain",open:!e.open})},className:"mr-5 cursor-pointer"},B(Kr,{icon:"x",className:"h-5 w-5"}))),B("div",{className:"flex min-h-0 flex-1 flex-col"},t(p({},e.visibleChild&&{filter:function(t){return t===e.visibleChild}}))))};function Tl(e){var t=e.hit,n=e.onClick,o=e.active,i=t.context,r=i.before,a=i.match,l=i.after,s=i.truncatedLeft,c=i.truncatedRight,d=Ie(null);return Se(function(){o&&d.current&&d.current.scrollIntoView({behavior:"smooth",block:"nearest"})},[o]),B("button",{ref:d,onClick:function(){return n(t)},className:"shadow-xs w-full cursor-pointer overflow-hidden rounded border border-[#cfd4da] p-3 text-left text-xs leading-tight text-gray-600 ".concat(o?"border-blue-500 bg-blue-50":"hover:border-[#1a466b] hover:bg-gray-100")},s&&"… ",r,B("span",{className:"font-bold text-blue-500"},a),l,c&&" …")}var El=function(e){var t=Ie(null),n=v(Ce(e.query||""),2),o=n[0],i=n[1],r=ma().provides,a=ho().provides,l=Ma(o,400);Se(function(){t.current&&t.current.focus()},[r]),Se(function(){""===l?null==r||r.stopSearch():null==r||r.searchAllPages(l)},[l,r]),Se(function(){void 0!==e.activeResultIndex&&c(e.activeResultIndex)},[e.activeResultIndex,e.query,e.flags]);var s=function(t,n){n?null==r||r.setFlags([].concat(y(e.flags),[t])):null==r||r.setFlags(e.flags.filter(function(e){return e!==t}))},c=function(t){var n=e.results[t];if(n){var o=n.rects.reduce(function(e,t){return{x:Math.min(e.x,t.origin.x),y:Math.min(e.y,t.origin.y)}},{x:1/0,y:1/0});null==a||a.scrollToPage({pageNumber:n.pageIndex+1,pageCoordinates:o,center:!0})}},d=e.results.reduce(function(e,t,n){var o,i;return(null!==(i=e[o=t.pageIndex])&&void 0!==i?i:e[o]=[]).push({hit:t,index:n}),e},{});return B("div",{className:"flex h-full flex-col bg-white"},B("div",{className:"p-4"},B("div",{className:"relative"},B("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-2"},B("svg",{className:"h-4 w-4 text-gray-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},B("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"}))),B("input",{ref:t,type:"text",placeholder:"Search",autoFocus:!0,value:o,onInput:function(e){var t=e.target;i(t.value)},className:"w-full rounded-md border border-gray-300 py-1 pl-8 pr-9 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"}),o&&B("div",{className:"absolute inset-y-0 right-0 flex cursor-pointer items-center pr-3",onClick:function(){i(""),t.current&&t.current.focus()}},B("svg",{className:"h-4 w-4 text-gray-500 hover:text-gray-700",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},B("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})))),B("div",{className:"mt-3 flex flex-row gap-4"},B(Ia,{label:"Case sensitive",checked:e.flags.includes(At.MatchCase),onChange:function(e){return s(At.MatchCase,e)}}),B(Ia,{label:"Whole word",checked:e.flags.includes(At.MatchWholeWord),onChange:function(e){return s(At.MatchWholeWord,e)}})),B("hr",{className:"mb-2 mt-5 border-gray-200"}),e.active&&B("div",{className:"flex h-[32px] flex-row items-center justify-between"},B("div",{className:"text-xs text-gray-500"},e.total," results found"),e.total>1&&B("div",{className:"flex flex-row"},B(ti,{onClick:function(){null==r||r.previousResult()}},B(Kr,{icon:"chevronLeft",className:"h-4 w-4"})),B(ti,{onClick:function(){null==r||r.nextResult()}},B(Kr,{icon:"chevronRight",className:"h-4 w-4"}))))),B("div",{className:"flex min-h-0 flex-1 flex-col gap-2 overflow-y-auto px-4"},Object.entries(d).map(function(t){var n=v(t,2),o=n[0],i=n[1];return B("div",{key:o,className:"mt-2 first:mt-0"},B("div",{className:"bg-white/80 py-2 text-xs text-gray-500 backdrop-blur"},"Page ",Number(o)+1),B("div",{className:"flex flex-col gap-2"},i.map(function(t){var n=t.hit,o=t.index;return B(Tl,{key:o,hit:n,active:o===e.activeResultIndex,onClick:function(){null==r||r.goToResult(o)}})})))}),B("div",null)))},Nl=function(e,t,n){var o=Vr().provides,i=pr().provides;if(!i)return null;var r=e.commandZoomMenu?i.getMenuOrAction(e.commandZoomMenu):null,a=e.commandZoomIn?i.getMenuOrAction(e.commandZoomIn):null,l=e.commandZoomOut?i.getMenuOrAction(e.commandZoomOut):null,s=v(Ce(!1),2);s[0],s[1];var c=Ie(null),d=Math.round(100*e.zoomLevel),u=function(e,t){t&&i.executeCommand(t.id,{source:"click",triggerElement:e.currentTarget,position:"horizontal"===(null==n?void 0:n.direction)?"bottom":"right",flatten:!0})};return Se(function(){c.current&&console.log(c.current)},[c.current]),B("div",{className:"flex flex-row items-center rounded-md bg-[#f1f3f5]"},B("form",{onSubmit:function(e){e.preventDefault();var t=e.target,n=new FormData(t).get("zoom");null==o||o.requestZoom(parseFloat(n)/100)},className:"block"},B("input",{name:"zoom",type:"text",inputMode:"numeric",pattern:"\\d*",className:"h-6 w-8 border-0 bg-transparent p-0 text-right text-sm","aria-label":"Set zoom",autoFocus:!1,value:d,onInput:function(e){var t=e.target;t.value=t.value.replace(/[^0-9]/g,"")}}),B("span",{className:"text-sm"},"%")),B(hr,{position:"horizontal"===(null==n?void 0:n.direction)?"bottom":"right",content:"Zoom Options",trigger:e.zoomMenuActive?"none":"hover"},B(ti,{className:"p-1",onClick:function(e){return u(e,r)},active:e.zoomMenuActive},B("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",class:"icon icon-tabler icons-tabler-outline icon-tabler-chevron-down"},B("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),B("path",{d:"M6 9l6 6l6 -6"})))),B(hr,{position:"horizontal"===(null==n?void 0:n.direction)?"bottom":"right",content:"Zoom Out",trigger:"hover"},B(ti,{className:"p-1",onClick:function(e){return u(e,l)}},(null==l?void 0:l.icon)&&B(Kr,{icon:l.icon,className:"h-5 w-5"}))),B(hr,{position:"horizontal"===(null==n?void 0:n.direction)?"bottom":"right",content:"Zoom In",trigger:"hover"},B(ti,{className:"p-1",onClick:function(e){return u(e,a)}},(null==a?void 0:a.icon)&&B(Kr,{icon:a.icon,className:"h-5 w-5"}))))},zl=function(e,t){var n=Ya().provides,o=ho().provides,i=Kn().provides;if(!(e.open&&n&&o&&i))return null;var r=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:40;if(!e.length)return null;var r=n.getMetrics(),a=n.getViewportGap(),l=1===e.length?{first:e[0],last:e[0]}:{first:e[0],last:e[e.length-1]},s=t.getRectPositionForPage(l.first.page,l.first.rect),c=t.getRectPositionForPage(l.last.page,l.last.rect);if(!s||!c)return null;var d=Qa(c,r,i,o,a,!1),u=Qa(s,r,i,o,a,!0);return d?{left:c.origin.x+c.size.width/2,top:c.origin.y+c.size.height+o}:u?{left:s.origin.x+s.size.width/2,top:s.origin.y-o-i}:null}(n.getBoundingRects(),o,i,10,42);return r?B("div",{style:{left:"".concat(r.left,"px"),top:"".concat(r.top,"px"),transform:"translate(-50%, 0%)",zIndex:2e3},className:"absolute rounded-md border border-[#cfd4da] bg-[#f8f9fa] p-1"},t()):null},Rl=function(e,t){var n=Kn().provides,o=v(Ce(!1),2),i=o[0],r=o[1],a=v(Ce(!1),2),l=a[0],s=a[1],c=Ie(),d=Ae(function(){c.current&&clearTimeout(c.current),c.current=setTimeout(function(){l||r(!1)},4e3)},[l]);return Se(function(){if(n)return n.onScrollChange(function(e){(e.scrollTop>0||e.scrollLeft>0)&&(r(!0),d())})},[n,d]),Se(function(){return function(){c.current&&clearTimeout(c.current)}},[]),B("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2",onMouseEnter:function(){s(!0),r(!0)},onMouseLeave:function(){s(!1),d()}},B("div",{className:"rounded-md border border-[#cfd4da] bg-[#f8f9fa] p-1 transition-opacity duration-200 ".concat(i?"opacity-100":"opacity-0")},t()))},Ll=function(e){var t=ho().provides,n=pr().provides,o=1===e.currentPage,i=e.currentPage===e.pageCount,r=e.nextPageCommandId?null==n?void 0:n.getMenuOrAction(e.nextPageCommandId):null,a=e.previousPageCommandId?null==n?void 0:n.getMenuOrAction(e.previousPageCommandId):null,l=function(e,t){t&&n&&n.executeCommand(t.id,{source:"click",triggerElement:e.currentTarget})};return B("div",{className:"flex flex-row items-center justify-between gap-3 rounded-md"},B(hr,{position:"top",content:"Previous Page",trigger:o?"none":"hover"},B(ti,{className:"p-1 ".concat(o?"cursor-not-allowed opacity-50 hover:ring-0":""),onClick:function(e){return l(e,a)},disabled:o},(null==a?void 0:a.icon)&&B(Kr,{icon:a.icon,className:"h-5 w-5"}))),B("form",{className:"flex flex-row items-center gap-3",onSubmit:function(e){e.preventDefault();var n=e.target,o=new FormData(n).get("page"),i=parseInt(o);!isNaN(i)&&i>=1&&(null==t||t.scrollToPage({pageNumber:i}))}},B("input",{name:"page",type:"text",inputMode:"numeric",pattern:"\\d*",className:"border-1 h-8 w-8 rounded-md border-gray-600 bg-white p-0 text-center text-sm","aria-label":"Set page",value:e.currentPage,onInput:function(e){var t=e.target;t.value=t.value.replace(/[^0-9]/g,"")}}),B("span",{className:"text-sm"},e.pageCount)),B(hr,{position:"top",content:"Next Page",trigger:i?"none":"hover"},B(ti,{className:"p-1 ".concat(i?"cursor-not-allowed opacity-50 hover:ring-0":""),onClick:function(e){return l(e,r)},disabled:i},(null==r?void 0:r.icon)&&B(Kr,{icon:r.icon,className:"h-5 w-5"}))))},Dl=function(e){var t=e.activeCommand,n=e.open,o=e.position,i=e.triggerElement,r=e.flatten,a=pr().provides,l=v(Ce([]),2),s=l[0],c=l[1],d=Ie(null);if(Se(function(){n||c([])},[n]),Se(function(){t&&(d.current!==t?c([]):d.current=null)},[t]),!a)return null;var u=t?null==a?void 0:a.getChildItems(t,{flatten:r}):null,h=s.length>0&&t?a.getMenuOrAction(t):void 0,g=function(e){t&&c(function(e){return[].concat(y(e),[t])}),d.current=e,a.executeCommand(e,{triggerElement:i,position:o})},m=function(e,t){if("group"===e.type){var n=e,o=a.getItemsByIds(n.children);return B(F,{key:e.id},B("div",{className:"px-4 py-3 text-xs font-medium uppercase text-gray-600"},n.label),o.map(function(e,t){return B(F,{key:e.id},m(e,t))}),B("hr",{className:"my-2 border-gray-200"}))}var i=e.dividerBefore&&0!==t?B("hr",{className:"my-2 border-gray-200"}):null;return B(F,{key:e.id},i,B("button",{disabled:!!e.disabled,onClick:function(){return function(e){"action"===e.type?(a.hideCommandMenu(),a.executeCommand(e.id)):"menu"===e.type&&g(e.id)}(e)},className:"flex cursor-pointer flex-row items-center justify-between gap-2 px-4 py-1 ".concat("menu"===e.type?"menu-item":""," ").concat(e.active&&!e.disabled?"bg-blue-500 text-white":"text-gray-500 hover:bg-blue-900 hover:text-white"," ").concat(e.disabled?"pointer-events-none cursor-not-allowed opacity-50":""," ")},B("div",{className:"flex flex-row items-center gap-2"},B("div",{className:"flex h-6 w-6 items-center justify-center"},e.icon&&B(Kr,p({icon:e.icon,className:"h-6 w-6"},e.iconProps))),B("div",{className:"text-sm"},e.label)),B("div",{className:"flex items-center"},e.shortcutLabel&&B("div",{className:"mr-2 text-sm"},"(",e.shortcutLabel,")"),"menu"===e.type&&B(Kr,{icon:"chevronRight",className:"h-6 w-6"}))))},f=B(F,null,s.length>0&&B("div",{onClick:function(){if(0!==s.length){var e=s[s.length-1];c(function(e){return e.slice(0,-1)}),d.current=e,a.executeCommand(e,{triggerElement:i,position:o})}},className:"flex cursor-pointer flex-row items-center gap-2 px-4 py-1 pb-2 text-sm font-medium text-gray-500 hover:bg-gray-100"},B(Kr,{icon:"chevronLeft",className:"h-6 w-6 text-gray-500"})," ",null==h?void 0:h.label),null==u?void 0:u.map(function(e,t){return m(e,t)}));return n?B(fr,{trigger:i,open:n,placement:o||"bottom",className:"@max-[600px]:!bottom-0 @max-[600px]:!top-auto @max-[600px]:!left-0 @max-[600px]:!right-0",onShow:function(){},onHide:function(){a.hideCommandMenu()}},f):null},Ol=function(e,t){var n=ho().provides;return B(Ca,{className:"flex-1",selectedPage:e.currentPage},function(t){return B("div",{key:t.pageIndex,className:"absolute flex w-full cursor-pointer flex-col items-center",style:{height:t.wrapperHeight,top:t.top},onClick:function(){null==n||n.scrollToPage({pageNumber:t.pageIndex+1})}},B("div",{style:{width:t.width,height:t.height},className:"outline outline-2 -outline-offset-2 ".concat(e.currentPage===t.pageIndex+1?"outline-blue-500":"outline-gray-300")},B(Sa,{meta:t,className:"h-full w-full object-contain"})),B("div",{className:"flex items-center justify-center text-xs text-gray-500",style:{height:t.labelHeight}},t.pageIndex+1))})},Hl=function(e,t){var n=jn(bl.id).provides,o=ho().provides,i=v(Ce([]),2),r=i[0],a=i[1],l=v(Ce(new Set),2),s=l[0],c=l[1];Se(function(){if(n){var e=n.getBookmarks();return e.wait(function(e){var t=e.bookmarks;a(t);var n=t.map(function(e,t){return"bookmark-".concat(t)});c(new Set(n))},an),function(){e.abort({code:_t.Cancelled,message:"Bookmark task cancelled"})}}},[n,e.document]);var d=function(t,n){var i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a="bookmark-".concat(n),l=t.children&&t.children.length>0,u=s.has(a);return B("div",{key:a,className:"outline-item"},B("div",{className:"flex cursor-pointer items-center py-1 pr-4 text-sm text-gray-700 hover:bg-gray-100",style:{paddingLeft:"".concat(16*r+8,"px")},onClick:function(){return function(t){if(o&&t.target&&"action"===t.target.type){var n=t.target.action;if(1===n.type&&n.destination){var i=n.destination;if(i.zoom.mode===dt.XYZ){var r,a=null===(r=e.document)||void 0===r?void 0:r.pages.find(function(e){return e.index===i.pageIndex});if(!a)return;o.scrollToPage({pageNumber:i.pageIndex+1,pageCoordinates:i.zoom.params?{x:i.zoom.params.x,y:a.size.height-i.zoom.params.y}:void 0,behavior:"smooth"})}else i.zoom.mode===dt.FitPage&&o.scrollToPage({pageNumber:i.pageIndex+1,behavior:"smooth"})}}}(t)}},l&&B("button",{className:"mr-1 flex h-4 w-4 items-center justify-center rounded hover:bg-gray-200",onClick:function(e){e.stopPropagation(),function(e){c(function(t){var n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})}(a)}},B(Kr,{icon:u?"chevronDown":"chevronRight",className:"h-3 w-3 text-gray-500"})),!l&&B("div",{className:"mr-1 w-4"}),B("span",{className:"flex-1 truncate",title:t.title},t.title)),l&&u&&B("div",{className:"outline-children"},null===(i=t.children)||void 0===i?void 0:i.map(function(e,t){return d(e,"".concat(n,"-").concat(t),r+1)})))};return 0===r.length?B("div",{className:"flex h-full items-center justify-center p-6"},B("div",{className:"text-center text-gray-500"},B("div",{className:"text-sm"},"No outline available"),B("div",{className:"mt-1 text-xs"},"This document doesn't contain bookmarks"))):B("div",{className:"flex h-full flex-col bg-white"},B("div",{className:"flex-1 overflow-y-auto"},B("div",{className:"outline-tree"},r.map(function(e,t){return d(e,t)}))))},jl=function(e,t){return B("div",null,"Attachments")},Bl=function(e,t){var n=e.activeCommandId,o=e.menuCommandId,i=e.active,r=pr().provides;if(!r)return null;var a=r.getMenuOrAction(n),l=Ae(function(e){if(e.preventDefault(),e.stopPropagation(),r&&o){var t=e.currentTarget;r.executeCommand(o,{source:"click",triggerElement:t})}},[o,r]);return B("div",{style:{maxWidth:"100px",width:"100px"}},B(ti,{className:"col-start-1 row-start-1 !w-full appearance-none rounded-md bg-white py-1.5 pl-3 pr-2 text-[13px] text-gray-900 ".concat(i?"text-blue-500 outline outline-2 -outline-offset-2 outline-blue-500":"outline outline-1 -outline-offset-1 outline-gray-300"," flex flex-row items-center justify-between gap-2 hover:ring-transparent"),onClick:l},B("span",{className:"min-w-0 flex-1 truncate text-left"},null==a?void 0:a.label),B(Kr,{icon:"chevronDown",className:"h-4 w-4 text-gray-500"})))},$l=function(e,t){var o,i=pr().provides,r=ho().provides,a=(()=>{const{executePrint:e,progress:t,isReady:n,isPrinting:o,parsePageRange:i}=function(){const e=_e(hl);if(!e)throw new Error("usePrintContext must be used within a PrintProvider");return e}();return{executePrint:e,progress:t,isReady:n,isPrinting:o,parsePageRange:i}})(),l=a.executePrint,s=a.parsePageRange,c=a.progress,d=a.isPrinting,u=v(Ce(sl.All),2),h=u[0],p=u[1],g=v(Ce(""),2),f=g[0],y=g[1],b=v(Ce(!0),2),w=b[0],x=b[1],k=v(Ce(ll.Normal),2),C=k[0],S=k[1],M=v(Ce(""),2),I=M[0],P=M[1];if(!i)return null;if(!e.open)return null;var A=null==r?void 0:r.getMetrics(),_=(null==A?void 0:A.currentPage)||1,T=(null==A||null===(o=A.pageVisibilityMetrics)||void 0===o?void 0:o.length)||0,E=function(){i.updateComponentState({componentType:"floating",componentId:"printModal",patch:{open:!1}})},N=function(e){p(e),P("")},z=function(){var e=n(m().mark(function e(){var t,n,o;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=h,e.next=e.t0===sl.Current?3:e.t0===sl.All?5:e.t0===sl.Custom?7:16;break;case 3:return t={type:sl.Current,currentPage:_-1},e.abrupt("break",17);case 5:return t={type:sl.All},e.abrupt("break",17);case 7:if(f.trim()){e.next=10;break}return P("Please enter page numbers"),e.abrupt("return");case 10:if((n=s(f)).isValid){e.next=14;break}return P(n.error||"Invalid page range"),e.abrupt("return");case 14:return t={type:sl.Custom,pages:n.pages},e.abrupt("break",17);case 16:return e.abrupt("return");case 17:return o={pageRange:t,includeAnnotations:w,quality:C},e.prev=18,e.next=21,l(o);case 21:E(),e.next=27;break;case 24:e.prev=24,e.t1=e.catch(18),console.error("Print failed:",e.t1);case 27:case"end":return e.stop()}},e,null,[[18,24]])}));return function(){return e.apply(this,arguments)}}(),R=h!==sl.Custom||f.trim()&&!I;return B(el,{open:e.open,title:"Print Settings",onClose:E,maxWidth:"28rem"},B("div",{className:"space-y-6"},B("div",null,B("label",{className:"mb-3 block text-sm font-medium text-gray-700"},"Pages to print"),B("div",{className:"space-y-2"},B("label",{className:"flex items-center"},B("input",{type:"radio",name:"pageRange",value:"all",checked:h===sl.All,onChange:function(){return N(sl.All)},className:"mr-2"}),B("span",{className:"text-sm"},"All pages")),B("label",{className:"flex items-center"},B("input",{type:"radio",name:"pageRange",value:"current",checked:h===sl.Current,onChange:function(){return N(sl.Current)},className:"mr-2"}),B("span",{className:"text-sm"},"Current page (",_,")")),B("label",{className:"flex items-start"},B("input",{type:"radio",name:"pageRange",value:"custom",checked:h===sl.Custom,onChange:function(){return N(sl.Custom)},className:"mr-2 mt-0.5"}),B("div",{className:"flex-1"},B("span",{className:"mb-1 block text-sm"},"Specify pages"),B("input",{type:"text",placeholder:"e.g., 1-3, 5, 8-10",value:f,onInput:function(e){var t=e.target.value;if(y(t),t.trim()){var n=s(t);n.isValid?P(""):P(n.error||"Invalid page range")}else P("")},disabled:h!==sl.Custom,className:"w-full rounded-md border px-3 py-1 text-sm ".concat(h!==sl.Custom?"bg-gray-100 text-gray-500":I?"border-red-500 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"," focus:outline-none focus:ring-1")}),I&&B("p",{className:"mt-1 text-xs text-red-500"},I),h===sl.Custom&&!I&&f.trim()&&B("p",{className:"mt-1 text-xs text-gray-500"},"Total pages: ",T))))),B("div",null,B("label",{className:"flex items-center"},B("input",{type:"checkbox",checked:w,onChange:function(e){return x(e.target.checked)},className:"mr-2"}),B("span",{className:"text-sm font-medium text-gray-700"},"Include annotations"))),B("div",null,B("label",{className:"mb-2 block text-sm font-medium text-gray-700"},"Print Quality"),B("div",{className:"relative"},B("select",{value:C,onChange:function(e){return S(e.target.value)},className:"w-full appearance-none rounded-md border border-gray-300 bg-white px-3 py-2 pr-8 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"},B("option",{value:ll.Normal},"Normal"),B("option",{value:ll.High},"High")),B("div",{className:"pointer-events-none absolute inset-y-0 right-3 flex items-center"},B("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},B("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"}))))),d&&c&&B("div",{className:"rounded-md border border-blue-200 bg-blue-50 p-3"},B("div",{className:"mb-2 flex items-center justify-between"},B("span",{className:"text-sm font-medium text-blue-900"},"preparing"===c.status&&"Preparing...","rendering"===c.status&&"Rendering pages...","complete"===c.status&&"Complete!","error"===c.status&&"Error"),B("span",{className:"text-sm text-blue-700"},c.current,"/",c.total)),B("div",{className:"h-2 w-full rounded-full bg-blue-200"},B("div",{className:"h-2 rounded-full bg-blue-600 transition-all duration-300",style:{width:"".concat(c.current/c.total*100,"%")}})),c.message&&B("p",{className:"mt-2 text-sm text-blue-700"},c.message)),B("div",{className:"flex justify-end space-x-3 border-t border-gray-200 pt-4"},B(ti,{onClick:E,className:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",disabled:d},"Cancel"),B(ti,{onClick:z,disabled:d||!R,className:"rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm text-white hover:!bg-blue-700 disabled:cursor-not-allowed disabled:opacity-50"},d?"Printing...":"Print"))))};const Fl="annotation",Ul={id:Fl,name:"Annotation Plugin",version:"1.0.0",provides:["annotation"],requires:["interaction-manager","selection"],optional:["history"],defaultConfig:{enabled:!0,autoCommit:!0,annotationAuthor:"Guest"}},Wl="ANNOTATION/SET_ANNOTATIONS",Gl="ANNOTATION/SELECT_ANNOTATION",Vl="ANNOTATION/DESELECT_ANNOTATION",ql="ANNOTATION/UPDATE_TOOL_DEFAULTS",Zl="ANNOTATION/ADD_COLOR_PRESET",Yl="ANNOTATION/CREATE_ANNOTATION",Xl="ANNOTATION/PATCH_ANNOTATION",Kl="ANNOTATION/DELETE_ANNOTATION",Ql="ANNOTATION/COMMIT",Jl="ANNOTATION/PURGE_ANNOTATION",es="ANNOTATION/SET_ACTIVE_VARIANT",ts=()=>({type:Vl}),ns=(e,t)=>({type:Yl,payload:{pageIndex:e,annotation:t}}),os=(e,t,n)=>({type:Xl,payload:{pageIndex:e,id:t,patch:n}}),is=(e,t)=>({type:Kl,payload:{pageIndex:e,id:t}}),rs=e=>({type:Jl,payload:{uid:e}}),as=(e,t)=>t?`${e}#${t}`:`${e}`;function ls(e){return e.object.type===ft.INK}function ss(e){return e.object.type===ft.CIRCLE}function cs(e){return e.object.type===ft.POLYGON}function ds(e){return e.object.type===ft.SQUARE}function us(e){return e.object.type===ft.LINE}function hs(e){return e.object.type===ft.POLYLINE}function ps(e){return e.object.type===ft.HIGHLIGHT}function gs(e){return e.object.type===ft.UNDERLINE}function ms(e){return e.object.type===ft.STRIKEOUT}function fs(e){return e.object.type===ft.SQUIGGLY}function vs(e){return e.object.type===ft.FREETEXT}function ys(e){return e.object.type===ft.STAMP}function bs(e){return e.object.type===ft.TEXT}function ws(e){return function(e){return ps(e)||gs(e)||ms(e)||fs(e)}(e)||ls(e)||ds(e)||ss(e)||cs(e)||us(e)||hs(e)||vs(e)||ys(e)}const xs=e=>e.selectedUid?e.byUid[e.selectedUid]:null;function ks(e,t,n){const o=as(t,n??void 0),i=as(t),r=e.toolDefaults[o]??e.toolDefaults[i];if(!r)throw new Error(`No tool defaults found for subtype ${t}${n?` and intent ${n}`:""}`);return r}const Cs=e=>{const t={};for(const n of Object.values(e.pages))for(const o of n){const n=e.byUid[o];if(bs(n)){const e=n.object.inReplyToId;e&&(t[e]||(t[e]=[])).push(n)}}const n={};for(const[o,i]of Object.entries(e.pages)){const r=Number(o),a=[];for(const n of i){const o=e.byUid[n];ws(o)&&a.push({page:r,annotation:o,replies:t[o.object.id]??[]})}a.length>0&&(n[r]=a)}return n};function Ss(e){const t=e=>{const t=9*e,n=Math.PI/6;return{x:-t*Math.cos(n),y:t*Math.sin(n)}};return{getSvgPath:n=>{const{x:o,y:i}=t(n);return e?`M 0 0 L ${o} ${i} L ${o} ${-i} Z`:`M ${o} ${i} L 0 0 L ${o} ${-i}`},getLocalPoints:e=>{const{x:n,y:o}=t(e);return[{x:0,y:0},{x:n,y:o},{x:n,y:-o}]},getRotation:e=>e,filled:e}}function Ms(e,t){const n=t=>t*e/2;return{getSvgPath:e=>{const t=n(e);return`M ${-t} 0 L ${t} 0`},getLocalPoints:e=>{const t=n(e);return[{x:-t,y:0},{x:t,y:0}]},getRotation:t,filled:!1}}const Is=Ss(!1),Ps=Ss(!0),As={[bt.OpenArrow]:Is,[bt.ClosedArrow]:Ps,[bt.ROpenArrow]:{...Is,getRotation:e=>e+Math.PI},[bt.RClosedArrow]:{...Ps,getRotation:e=>e+Math.PI},[bt.Circle]:{getSvgPath:e=>{const t=5*e/2;return`M ${t} 0 A ${t} ${t} 0 1 1 ${-t} 0 A ${t} ${t} 0 1 1 ${t} 0`},getLocalPoints:e=>{const t=5*e/2;return[{x:-t,y:-t},{x:t,y:t}]},getRotation:()=>0,filled:!0},[bt.Square]:{getSvgPath:e=>{const t=6*e/2;return`M ${-t} ${-t} L ${t} ${-t} L ${t} ${t} L ${-t} ${t} Z`},getLocalPoints:e=>{const t=6*e/2;return[{x:-t,y:-t},{x:t,y:-t},{x:t,y:t},{x:-t,y:t}]},getRotation:e=>e,filled:!0},[bt.Diamond]:{getSvgPath:e=>{const t=6*e/2;return`M 0 ${-t} L ${t} 0 L 0 ${t} L ${-t} 0 Z`},getLocalPoints:e=>{const t=6*e/2;return[{x:0,y:-t},{x:t,y:0},{x:0,y:t},{x:-t,y:0}]},getRotation:e=>e,filled:!0},[bt.Butt]:Ms(6,e=>e+Math.PI/2),[bt.Slash]:Ms(18,e=>e+Math.PI/1.5)};function _s(e,t,n){if(!e||0===e.length)return{origin:{x:0,y:0},size:{width:0,height:0}};const o=[...e],i=(e,t)=>Math.atan2(t.y-e.y,t.x-e.x),r=(e,n,i)=>{if(!e)return;const r=As[e];if(!r)return;const a=r.getLocalPoints(t),l=r.getRotation(i),s=a.map(e=>function(e,t,n){const o=Math.cos(t),i=Math.sin(t),r=e.x*o-e.y*i,a=e.x*i+e.y*o;return{x:r+n.x,y:a+n.y}}(e,l,n));o.push(...s)};if(e.length>=2){const t=i(e[1],e[0]);r(null==n?void 0:n.start,e[0],t);const o=e.length-1,a=i(e[o-1],e[o]);r(null==n?void 0:n.end,e[o],a)}if(o.length<=1){const n=e[0]||{x:0,y:0},o=t;return{origin:{x:n.x-o,y:n.y-o},size:{width:2*o,height:2*o}}}return Xe(Ye(o),t/2+1.2*t)}const Ts=(e,t)=>Xe(Ye(e),t/2);function Es(e){switch(e.type){case ft.HIGHLIGHT:case ft.UNDERLINE:case ft.STRIKEOUT:case ft.SQUIGGLY:case ft.SQUARE:case ft.CIRCLE:return e.rect;case ft.INK:{const t=e.inkList.flatMap(e=>e.points);return Ts(t,e.strokeWidth)}case ft.LINE:return _s([e.linePoints.start,e.linePoints.end],e.strokeWidth,e.lineEndings);case ft.POLYLINE:return _s(e.vertices,e.strokeWidth,e.lineEndings);case ft.POLYGON:return Ts(e.vertices,e.strokeWidth);default:return e.rect}}const Ns=Object.freeze(Object.defineProperty({__proto__:null,LINE_ENDING_HANDLERS:As,createEnding:function(e,t,n,o,i){if(!e)return null;const r=As[e];if(!r)return null;const a=r.getRotation(n);return{d:r.getSvgPath(t),transform:`translate(${o} ${i}) rotate(${(e=>180*e/Math.PI)(a)})`,filled:r.filled}},deriveRect:Es,lineRectWithEndings:_s},Symbol.toStringTag,{value:"Module"})),zs=class extends In{constructor(e,t,n,o){super(e,t),this.ANNOTATION_HISTORY_TOPIC="annotations",this.state$=Rn(),this.modeByVariant=new Map,this.variantByMode=new Map,this.pendingContexts=new Map,this.activeVariantChange$=Rn(),this.activeTool$=Rn({variantKey:null,defaults:null}),this.engine=n,this.config=o;const i=t.getPlugin("selection");this.selection=(null==i?void 0:i.provides())??null;const r=t.getPlugin("history");this.history=(null==r?void 0:r.provides())??null;const a=t.getPlugin("interaction-manager");this.interactionManager=(null==a?void 0:a.provides())??null,this.coreStore.onAction(gn,(e,t)=>{const n=t.core.document;n&&this.getAllAnnotations(n)})}async initialize(){var e,t,n;for(const[e,t]of Object.entries(this.state.toolDefaults))this.registerTool(e,t);null==(e=this.history)||e.onHistoryChange(e=>{e===this.ANNOTATION_HISTORY_TOPIC&&!1!==this.config.autoCommit&&this.commit()}),null==(t=this.interactionManager)||t.onModeChange(e=>{const t=this.variantByMode.get(e.activeMode)??null;t!==this.state.activeVariant&&(this.dispatch((e=>({type:es,payload:e}))(t)),this.activeVariantChange$.emit(t))}),null==(n=this.selection)||n.onEndSelection(()=>{var e,t,n;if(!this.state.activeVariant)return;const o=this.state.toolDefaults[this.state.activeVariant];if(!o||!function(e){return function(e){return e.subtype===ft.HIGHLIGHT}(e)||function(e){return e.subtype===ft.UNDERLINE}(e)||function(e){return e.subtype===ft.STRIKEOUT}(e)||function(e){return e.subtype===ft.SQUIGGLY}(e)}(o))return;const i=null==(e=this.selection)?void 0:e.getFormattedSelection(),r=null==(t=this.selection)?void 0:t.getSelectedText();if(i&&r){for(const e of i){const t=e.rect,n=e.segmentRects,i=o.subtype,a=o.color,l=o.opacity,s=o.blendMode??gt.Normal;r.wait(o=>{this.createAnnotation(e.pageIndex,{type:i,rect:t,segmentRects:n,color:a,opacity:l,blendMode:s,pageIndex:e.pageIndex,id:rn(),author:this.config.annotationAuthor,custom:{text:o.join("\n")}})},an)}null==(n=this.selection)||n.clear()}})}registerTool(e,t){var n,o;const i=t.interaction.mode,r={id:i,scope:"page",exclusive:t.interaction.exclusive,cursor:t.interaction.cursor};null==(n=this.interactionManager)||n.registerMode(r),t.textSelection&&(null==(o=this.selection)||o.enableForMode(i)),this.modeByVariant.set(e,i),this.variantByMode.set(i,e)}buildCapability(){return{getPageAnnotations:e=>this.getPageAnnotations(e),getSelectedAnnotation:()=>xs(this.state),selectAnnotation:(e,t)=>{this.selectAnnotation(e,t)},deselectAnnotation:()=>{this.dispatch(ts())},getActiveVariant:()=>this.state.activeVariant,setActiveVariant:e=>{var t,n;if(e!==this.state.activeVariant)if(e){const n=this.modeByVariant.get(e);if(!n)throw new Error(`Mode missing for variant ${e}`);null==(t=this.interactionManager)||t.activate(n)}else null==(n=this.interactionManager)||n.activateDefaultMode()},getSubtypeAndIntentByVariant:e=>(e=>{const[t,n]=e.split("#");return{subtype:Number(t),intent:n}})(e),getToolDefaults:e=>{const t=this.state.toolDefaults[e];if(!t)throw new Error(`No defaults found for variant: ${e}`);return t},getToolDefaultsBySubtypeAndIntent:(e,t)=>ks(this.state,e,t),getToolDefaultsBySubtype:e=>ks(this.state,e),setToolDefaults:(e,t)=>{this.dispatch(((e,t)=>({type:ql,payload:{variantKey:e,patch:t}}))(e,t))},getColorPresets:()=>[...this.state.colorPresets],addColorPreset:e=>this.dispatch((e=>({type:Zl,payload:e}))(e)),createAnnotation:(e,t,n)=>this.createAnnotation(e,t,n),updateAnnotation:(e,t,n)=>this.updateAnnotation(e,t,n),deleteAnnotation:(e,t)=>this.deleteAnnotation(e,t),renderAnnotation:e=>this.renderAnnotation(e),onStateChange:this.state$.on,onActiveVariantChange:this.activeVariantChange$.on,onActiveToolChange:this.activeTool$.on,commit:()=>this.commit()}}createActiveTool(e,t){return null===e?{variantKey:null,defaults:null}:{variantKey:e,defaults:t[e]}}emitActiveTool(e){const t=this.createActiveTool(e.activeVariant,e.toolDefaults);this.activeTool$.emit(t)}onStoreUpdated(e,t){this.state$.emit(t),e.activeVariant===t.activeVariant&&e.toolDefaults[e.activeVariant??ft.HIGHLIGHT]===t.toolDefaults[t.activeVariant??ft.HIGHLIGHT]||this.emitActiveTool(t)}getAllAnnotations(e){this.engine.getAllAnnotations(e).wait(e=>this.dispatch((e=>({type:Wl,payload:e}))(e)),an)}getPageAnnotations(e){const{pageIndex:t}=e,n=this.coreState.core.document;if(!n)return Tt.reject({code:_t.NotFound,message:"Document not found"});const o=n.pages.find(e=>e.index===t);return o?this.engine.getPageAnnotations(n,o):Tt.reject({code:_t.NotFound,message:"Page not found"})}renderAnnotation({pageIndex:e,annotation:t,scaleFactor:n=1,rotation:o=je.Degree0,dpr:i=1,mode:r=vt.Normal,imageType:a="image/webp"}){const l=this.coreState.core;if(!l.document)throw new Error("document does not open");const s=l.document.pages.find(t=>t.index===e);if(!s)throw new Error("page does not exist");return this.engine.renderAnnotation(l.document,s,t,n,o,i,r,a)}selectAnnotation(e,t){this.dispatch(((e,t)=>({type:Gl,payload:{pageIndex:e,id:t}}))(e,t))}createAnnotation(e,t,n){const o=t.id,i=()=>{this.dispatch(ns(e,{...t,author:t.author??this.config.annotationAuthor})),n&&this.pendingContexts.set(o,n)};if(!this.history)return i(),void(this.config.autoCommit&&this.commit());const r={execute:i,undo:()=>{this.pendingContexts.delete(o),this.dispatch(ts()),this.dispatch(is(e,o))}};this.history.register(r,this.ANNOTATION_HISTORY_TOPIC)}buildPatch(e,t){if("rect"in t)return t;const n={...e,...t};return{...t,rect:Es(n)}}updateAnnotation(e,t,n){const o=this.state.byUid[t].object,i=this.buildPatch(o,{...n,author:n.author??this.config.annotationAuthor});if(!this.history)return this.dispatch(os(e,t,i)),void(!1!==this.config.autoCommit&&this.commit());const r=Object.fromEntries(Object.keys(n).map(e=>[e,o[e]])),a={execute:()=>this.dispatch(os(e,t,i)),undo:()=>this.dispatch(os(e,t,r))};this.history.register(a,this.ANNOTATION_HISTORY_TOPIC)}deleteAnnotation(e,t){if(!this.history)return this.dispatch(ts()),this.dispatch(is(e,t)),void(!1!==this.config.autoCommit&&this.commit());const n=this.state.byUid[t].object,o={execute:()=>{this.dispatch(ts()),this.dispatch(is(e,t))},undo:()=>this.dispatch(ns(e,n))};this.history.register(o,this.ANNOTATION_HISTORY_TOPIC)}commit(){const e=new at;if(!this.state.hasPendingChanges)return Tt.resolve(!0);const t=this.coreState.core.document;if(!t)return Tt.reject({code:_t.NotFound,message:"Document not found"});const n=[],o=[],i=[];for(const[e,r]of Object.entries(this.state.byUid)){if("synced"===r.commitState)continue;const a=t.pages.find(e=>e.index===r.object.pageIndex);if(a)switch(r.commitState){case"new":const l=this.pendingContexts.get(r.object.id),s=this.engine.createPageAnnotation(t,a,r.object,l);s.wait(()=>{this.pendingContexts.delete(r.object.id)},an),n.push(s);break;case"dirty":o.push(this.engine.updatePageAnnotation(t,a,r.object));break;case"deleted":i.push({ta:r,uid:e})}}const r=[];for(const{ta:e,uid:n}of i){const o=t.pages.find(t=>t.index===e.object.pageIndex);if("deleted"===e.commitState&&e.object.id){const i=new at;this.engine.removePageAnnotation(t,o,e.object).wait(()=>{this.dispatch(rs(n)),i.resolve(!0)},i.fail),r.push(i)}else this.dispatch(rs(n))}const a=[...n,...o,...r];return at.allSettled(a).wait(()=>{this.dispatch({type:Ql}),e.resolve(!0)},e.fail),e}};zs.id="annotation";let Rs=zs;const Ls=["#E44234","#FF8D00","#FFCD45","#5CC96E","#25D2D1","#597CE2","#C544CE","#7D2E25","#000000","#FFFFFF"],Ds={manifest:Ul,create:(e,t,n)=>new Rs(Fl,e,t,n),reducer:(e,t)=>{switch(t.type){case Wl:{const n={...e.pages},o={...e.byUid};for(const[i,r]of Object.entries(t.payload)){const t=Number(i),a=e.pages[t]||[];for(const e of a)delete o[e];const l=r.map(e=>{const t=e.id;return o[t]={commitState:"synced",object:e},t});n[t]=l}return{...e,pages:n,byUid:o}}case es:return{...e,activeVariant:t.payload};case Gl:return{...e,selectedUid:t.payload.id};case Vl:return{...e,selectedUid:null};case Zl:return e.colorPresets.includes(t.payload)?e:{...e,colorPresets:[...e.colorPresets,t.payload]};case ql:{const{variantKey:n,patch:o}=t.payload,i=e.toolDefaults[n];return i?{...e,toolDefaults:{...e.toolDefaults,[n]:{...i,...o}}}:e}case Yl:{const{pageIndex:n,annotation:o}=t.payload,i=o.id;return{...e,pages:{...e.pages,[n]:[...e.pages[n]??[],i]},byUid:{...e.byUid,[i]:{commitState:"new",object:o}},hasPendingChanges:!0}}case Kl:{const{pageIndex:n,id:o}=t.payload;return e.byUid[o]?{...e,pages:{...e.pages,[n]:(e.pages[n]??[]).filter(e=>e!==o)},byUid:{...e.byUid,[o]:{...e.byUid[o],commitState:"deleted"}},hasPendingChanges:!0}:e}case Xl:return((e,t,n)=>{const o=e.byUid[t];return o?{...e,byUid:{...e.byUid,[t]:{...o,commitState:"synced"===o.commitState?"dirty":o.commitState,object:{...o.object,...n}}},hasPendingChanges:!0}:e})(e,t.payload.id,t.payload.patch);case Ql:{const t={};for(const[n,o]of Object.entries(e.byUid))t[n]={...o,commitState:"dirty"===o.commitState||"new"===o.commitState?"synced":o.commitState};return{...e,byUid:t,hasPendingChanges:!1}}case Jl:{const{uid:n}=t.payload,{[n]:o,...i}=e.byUid;return{...e,byUid:i}}default:return e}},initialState:(e,t)=>{return n=t,{pages:{},byUid:{},selectedUid:null,activeVariant:null,toolDefaults:{[as(ft.HIGHLIGHT)]:{name:"Highlight",subtype:ft.HIGHLIGHT,interaction:{mode:"highlight",exclusive:!1},textSelection:!0,color:"#FFCD45",opacity:1,blendMode:gt.Multiply},[as(ft.UNDERLINE)]:{name:"Underline",subtype:ft.UNDERLINE,interaction:{mode:"underline",exclusive:!1},textSelection:!0,color:"#E44234",opacity:1,blendMode:gt.Normal},[as(ft.STRIKEOUT)]:{name:"Strikeout",subtype:ft.STRIKEOUT,interaction:{mode:"strikeout",exclusive:!1},textSelection:!0,color:"#E44234",opacity:1,blendMode:gt.Normal},[as(ft.SQUIGGLY)]:{name:"Squiggly",subtype:ft.SQUIGGLY,interaction:{mode:"squiggly",exclusive:!1},textSelection:!0,color:"#E44234",opacity:1,blendMode:gt.Normal},[as(ft.INK)]:{name:"Ink",subtype:ft.INK,interaction:{mode:"ink",exclusive:!0,cursor:"crosshair"},color:"#E44234",opacity:1,strokeWidth:11,blendMode:gt.Normal},[as(ft.INK,"InkHighlight")]:{name:"Ink Highlight",subtype:ft.INK,intent:"InkHighlight",interaction:{mode:"inkHighlight",exclusive:!0,cursor:"crosshair"},color:"#E44234",opacity:1,strokeWidth:11,blendMode:gt.Multiply},[as(ft.CIRCLE)]:{name:"Circle",subtype:ft.CIRCLE,interaction:{mode:"circle",exclusive:!0,cursor:"crosshair"},color:"transparent",opacity:1,strokeWidth:4,strokeColor:"#E44234",strokeStyle:kt.SOLID},[as(ft.SQUARE)]:{name:"Square",subtype:ft.SQUARE,interaction:{mode:"square",exclusive:!0,cursor:"crosshair"},color:"transparent",opacity:1,strokeWidth:4,strokeColor:"#E44234",strokeStyle:kt.SOLID},[as(ft.LINE)]:{name:"Line",subtype:ft.LINE,interaction:{mode:"line",exclusive:!0,cursor:"crosshair"},color:"transparent",opacity:1,strokeWidth:4,strokeColor:"#E44234",strokeStyle:kt.SOLID},[as(ft.LINE,"LineArrow")]:{name:"Line Arrow",subtype:ft.LINE,interaction:{mode:"lineArrow",exclusive:!0,cursor:"crosshair"},color:"transparent",intent:"LineArrow",opacity:1,strokeWidth:4,strokeColor:"#E44234",strokeStyle:kt.SOLID,lineEndings:{start:bt.None,end:bt.OpenArrow}},[as(ft.POLYLINE)]:{name:"Polyline",subtype:ft.POLYLINE,interaction:{mode:"polyline",exclusive:!0,cursor:"crosshair"},color:"transparent",opacity:1,strokeWidth:4,strokeColor:"#E44234",strokeStyle:kt.SOLID},[as(ft.POLYGON)]:{name:"Polygon",subtype:ft.POLYGON,interaction:{mode:"polygon",exclusive:!0,cursor:"crosshair"},color:"transparent",opacity:1,strokeWidth:4,strokeColor:"#E44234",strokeStyle:kt.SOLID},[as(ft.FREETEXT)]:{name:"Free Text",subtype:ft.FREETEXT,interaction:{mode:"freeText",exclusive:!0,cursor:"crosshair"},backgroundColor:"transparent",opacity:1,fontSize:14,fontColor:"#E44234",content:"Insert text here",fontFamily:ut.Helvetica,textAlign:ht.Left,verticalAlign:pt.Top},[as(ft.STAMP)]:{name:"Photo",subtype:ft.STAMP,interaction:{mode:"stamp",exclusive:!0,cursor:"crosshair"}},...n.toolDefaults},colorPresets:n.colorPresets??Ls,hasPendingChanges:!1};var n}},Os=()=>jn(Rs.id);function Hs({children:e,...t}){const{rect:n,rotation:o}=t,{matrix:i,width:r,height:a}=function(e,t){const{width:n,height:o}=e.size;switch(t%4){case 1:return{matrix:`matrix(0, -1, 1, 0, 0, ${o})`,width:o,height:n};case 2:return{matrix:`matrix(-1, 0, 0, -1, ${n}, ${o})`,width:n,height:o};case 3:return{matrix:`matrix(0, 1, -1, 0, ${n}, 0)`,width:o,height:n};default:return{matrix:"matrix(1, 0, 0, 1, 0, 0)",width:n,height:o}}}(n,o),l={style:{position:"absolute",left:n.origin.x,top:n.origin.y,transform:i,transformOrigin:"0 0",width:r,height:a,pointerEvents:"none",zIndex:3},onPointerDown:e=>e.stopPropagation(),onTouchStart:e=>e.stopPropagation()};return He(F,{children:e({menuWrapperProps:l,matrix:i,rect:{origin:{x:n.origin.x,y:n.origin.y},size:{width:r,height:a}}})})}function js({rect:e,rotation:t,scale:n,vertices:o,onEdit:i,onCommit:r,handleSize:a=12}){const[l,s]=Ce(null),c=Ie(null),d=Ie([]),u=e=>{const o=et(e,t,n),i=[...d.current];return null!==l&&(i[l]={x:i[l].x+o.x,y:i[l].y+o.y}),i},h=e=>{if(null===l||!c.current)return;const t={x:e.clientX-c.current.x,y:e.clientY-c.current.y};i(u(t))},p=e=>{if(null===l||!c.current)return;e.target.releasePointerCapture(e.pointerId);const t={x:e.clientX-c.current.x,y:e.clientY-c.current.y};r(u(t)),s(null)};return He(F,{children:o.map((t,i)=>{return He("div",{style:{position:"absolute",left:(t.x-e.origin.x)*n-a/2,top:(t.y-e.origin.y)*n-a/2,width:a,height:a,borderRadius:"50%",background:"#2196f3",cursor:"pointer",pointerEvents:"auto",zIndex:4},onPointerDown:(r=i,e=>{e.stopPropagation(),e.preventDefault(),s(r),c.current={x:e.clientX,y:e.clientY},d.current=o,e.target.setPointerCapture(e.pointerId)}),onPointerMove:h,onPointerUp:p},i);var r})})}function Bs({rotation:e,outlineOffset:t=1,startResize:n}){const o=t;return He(F,{children:[He("div",{style:{position:"absolute",width:13,height:13,background:"blue",borderRadius:"50%",top:-7-o,left:-7-o,cursor:e%2?"nesw-resize":"nwse-resize"},onPointerDown:n("top-left")}),He("div",{style:{position:"absolute",width:13,height:13,background:"blue",borderRadius:"50%",top:-7-o,right:-7-o,cursor:e%2?"nwse-resize":"nesw-resize"},onPointerDown:n("top-right")}),He("div",{style:{position:"absolute",width:13,height:13,background:"blue",borderRadius:"50%",bottom:-7-o,left:-7-o,cursor:e%2?"nwse-resize":"nesw-resize"},onPointerDown:n("bottom-left")}),He("div",{style:{position:"absolute",width:13,height:13,background:"blue",borderRadius:"50%",bottom:-7-o,right:-7-o,cursor:e%2?"nesw-resize":"nwse-resize"},onPointerDown:n("bottom-right")})]})}function $s({scale:e,pageIndex:t,rotation:n,pageWidth:o,pageHeight:i,trackedAnnotation:r,children:a,style:l,outlineOffset:s=1,isSelected:c=!1,isDraggable:d=!0,isResizable:u=!0,lockAspectRatio:h=!1,computeVertices:p,computePatch:g,selectionMenu:m,onDoubleClick:f,...v}){const{provides:y}=Os(),[b,w]=Ce(r.object.rect),[x,k]=Ce((null==p?void 0:p(r.object))??[]),[C,S]=Ce(null),{rootHandlers:M,startResize:I}=function({scale:e,pageWidth:t,pageHeight:n,rotation:o,tracked:i,isSelected:r,isDraggable:a,isResizable:l,computePatch:s,computeVertices:c,lockAspectRatio:d=!1,currentRect:u,setCurrentRect:h,setCurrentVertices:p,setPreviewObject:g,commit:m}){const f=Ie("idle"),v=Ie("none"),y=Ie(null),b=Ie(null),w=(e,t,n)=>Math.max(t,Math.min(n,e)),x=t/e,k=n/e,C=(e,t,n)=>{f.current=e,y.current={x:t,y:n},b.current=u},S=(t,n)=>{if("idle"===f.current||!y.current)return;const r={x:t-y.current.x,y:n-y.current.y},{x:a,y:l}=et(r,o,e),m=((e,t)=>{if(!b.current)return u;let{origin:n,size:o}=b.current,i=n.x,r=n.y,a=o.width,l=o.height;if("dragging"===f.current)i+=e,r+=t;else if("resizing"===f.current&&(v.current.includes("right")?a+=e:v.current.includes("left")&&(i+=e,a-=e),v.current.includes("bottom")?l+=t:v.current.includes("top")&&(r+=t,l-=t),d&&b.current)){const e=b.current.size.width/b.current.size.height,t=i+a,n=r+l;v.current.includes("left")||v.current.includes("right")?l=a/e:a=l*e,v.current.includes("left")&&(i=t-a),v.current.includes("top")&&(r=n-l)}return a<1||l<1?u:(a=w(a,1,x),l=w(l,1,k),i=w(i,0,x-a),r=w(r,0,k-l),{origin:{x:i,y:r},size:{width:a,height:l}})})(a,l);let C={rect:m};s&&(C=s(i.object,{rect:m,direction:"resizing"===f.current?v.current:"bottom-right"}),c&&p(c({...i.object,...C}))),h(C.rect??m),g(C)},M=()=>{if("idle"===f.current)return;const e=v.current||"bottom-right";f.current="idle";let t={rect:u};s&&(t=s(i.object,{rect:u,direction:e})),m(t),y.current=null,b.current=null,v.current="none",g(null)},I=e=>{if(M(),(null==e?void 0:e.currentTarget)&&void 0!==e.pointerId)try{e.currentTarget.releasePointerCapture(e.pointerId)}catch{}},P=()=>M();return Se(()=>{f.current="idle",v.current="none",y.current=null,b.current=null},[i]),{rootHandlers:{onPointerDown:e=>{r&&a&&(e.stopPropagation(),e.preventDefault(),C("dragging",e.clientX,e.clientY),e.currentTarget.setPointerCapture(e.pointerId))},onPointerMove:e=>S(e.clientX,e.clientY),onPointerUp:I,onPointerCancel:()=>I(),onLostPointerCapture:()=>I(),onTouchStart:e=>{if(!r||!a)return;e.stopPropagation(),e.preventDefault();const t=e.touches[0];t&&C("dragging",t.clientX,t.clientY)},onTouchMove:e=>{const t=e.touches[0];t&&S(t.clientX,t.clientY)},onTouchEnd:P,onTouchCancel:P},startResize:e=>t=>{r&&l&&(t.stopPropagation(),t.preventDefault(),v.current=e,C("resizing",t.clientX,t.clientY),t.currentTarget.setPointerCapture(t.pointerId))}}}({scale:e,pageWidth:o,pageHeight:i,rotation:n,tracked:r,isSelected:c,isDraggable:d,isResizable:u,lockAspectRatio:h,computePatch:g,computeVertices:p,currentRect:b,setCurrentRect:w,setCurrentVertices:k,setPreviewObject:S,commit:e=>null==y?void 0:y.updateAnnotation(t,r.object.id,e)});Me(()=>{(function(e,t){return e.origin.x===t.origin.x&&e.origin.y===t.origin.y&&e.size.width===t.size.width&&e.size.height===t.size.height})(r.object.rect,b)||(w(r.object.rect),S(e=>e?{...e,rect:r.object.rect}:null),k((null==p?void 0:p(r.object))??[]))},[r]);const P=C?{...r.object,...C}:r.object;return He(F,{children:[He("div",{...M,...(A=f,A?{onDblClick:A}:{}),style:{position:"absolute",outline:c?"1px solid #007ACC":"none",outlineOffset:c?`${s}px`:"0px",left:b.origin.x*e+"px",top:b.origin.y*e+"px",width:b.size.width*e+"px",height:b.size.height*e+"px",pointerEvents:c?"auto":"none",touchAction:c?"auto":"none",cursor:c&&d?"move":"default",...c&&{zIndex:3},...l},...v,children:["function"==typeof a?a(P):a,c&&x.length>0&&He(js,{rect:b,rotation:n,scale:e,vertices:x,onEdit:e=>{if(k(e),g){const t=g(r.object,{rect:b,vertices:e});S(t),w(t.rect||b)}},onCommit:e=>{if(y&&g){const n=g(r.object,{rect:b,vertices:e});y.updateAnnotation(t,r.object.id,n)}}}),c&&u&&He(Bs,{rotation:n,outlineOffset:s,startResize:I})]}),He(Hs,{rect:{origin:{x:b.origin.x*e,y:b.origin.y*e},size:{width:b.size.width*e,height:b.size.height*e}},rotation:n,children:({rect:e,menuWrapperProps:t})=>m&&m({annotation:r,selected:c,rect:e,menuWrapperProps:t})})]});var A}function Fs({color:e="#FFFF00",opacity:t=.5,rects:n,rect:o,scale:i,onClick:r,style:a,...l}){return He(F,{children:n.map((n,s)=>He("div",{onPointerDown:r,onTouchStart:r,style:{position:"absolute",left:(o?n.origin.x-o.origin.x:n.origin.x)*i,top:(o?n.origin.y-o.origin.y:n.origin.y)*i,width:n.size.width*i,height:n.size.height*i,background:e,opacity:t,pointerEvents:r?"auto":"none",cursor:r?"pointer":"default",zIndex:r?1:void 0,...a},...l},s))})}function Us({color:e="#FFFF00",opacity:t=.5,rects:n,rect:o,scale:i,onClick:r,style:a,...l}){const s=2*i;return He(F,{children:n.map((n,c)=>He("div",{onPointerDown:r,onTouchStart:r,style:{position:"absolute",left:(o?n.origin.x-o.origin.x:n.origin.x)*i,top:(o?n.origin.y-o.origin.y:n.origin.y)*i,width:n.size.width*i,height:n.size.height*i,background:"transparent",pointerEvents:r?"auto":"none",cursor:r?"pointer":"default",zIndex:r?1:0,...a},...l,children:He("div",{style:{position:"absolute",left:0,bottom:0,width:"100%",height:s,background:e,opacity:t,pointerEvents:"none"}})},c))})}function Ws({color:e="#FFFF00",opacity:t=.5,rects:n,rect:o,scale:i,onClick:r,style:a,...l}){const s=2*i;return He(F,{children:n.map((n,c)=>He("div",{onPointerDown:r,onTouchStart:r,style:{position:"absolute",left:(o?n.origin.x-o.origin.x:n.origin.x)*i,top:(o?n.origin.y-o.origin.y:n.origin.y)*i,width:n.size.width*i,height:n.size.height*i,background:"transparent",pointerEvents:r?"auto":"none",cursor:r?"pointer":"default",zIndex:r?1:0,...a},...l,children:He("div",{style:{position:"absolute",left:0,top:"50%",width:"100%",height:s,background:e,opacity:t,transform:"translateY(-50%)",pointerEvents:"none"}})},c))})}function Gs({color:e="#FFFF00",opacity:t=.5,rects:n,rect:o,scale:i,onClick:r,style:a,...l}){const s=2*i,c=6*i,d=`url("data:image/svg+xml;utf8,${encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" width="${c}" height="${2*s}" viewBox="0 0 ${c} ${2*s}">\n      <path d="M0 ${s} Q ${c/4} 0 ${c/2} ${s} T ${c} ${s}"\n            fill="none" stroke="${e}" stroke-width="${s}" stroke-linecap="round"/>\n    </svg>`)}")`;return He(F,{children:n.map((e,n)=>He("div",{onPointerDown:r,onTouchStart:r,style:{position:"absolute",left:(o?e.origin.x-o.origin.x:e.origin.x)*i,top:(o?e.origin.y-o.origin.y:e.origin.y)*i,width:e.size.width*i,height:e.size.height*i,background:"transparent",pointerEvents:r?"auto":"none",cursor:r?"pointer":"default",zIndex:r?1:0,...a},...l,children:He("div",{style:{position:"absolute",left:0,bottom:0,width:"100%",height:2*s,backgroundImage:d,backgroundRepeat:"repeat-x",backgroundSize:`${c}px ${2*s}px`,opacity:t,pointerEvents:"none"}})},n))})}function Vs({isSelected:e,color:t="#000000",opacity:n=1,strokeWidth:o,inkList:i,rect:r,scale:a,onClick:l}){const s=Pe(()=>i.map(({points:e})=>{let t="";return e.forEach(({x:e,y:n},o)=>{const i=e-r.origin.x,a=n-r.origin.y;t+=(0===o?"M":"L")+i+" "+a+" "}),t.trim()}),[i,r]),c=r.size.width*a,d=r.size.height*a;return He("svg",{style:{position:"absolute",width:c,height:d,pointerEvents:"none",zIndex:2,overflow:"visible"},width:c,height:d,viewBox:`0 0 ${r.size.width} ${r.size.height}`,children:s.map((i,r)=>He("path",{d:i,fill:"none",opacity:n,onPointerDown:l,onTouchStart:l,style:{cursor:e?"move":"pointer",pointerEvents:e?"none":"visibleStroke",stroke:t,strokeWidth:o,strokeLinecap:"round",strokeLinejoin:"round"}},r))})}function qs({isSelected:e,color:t="#000000",strokeColor:n,opacity:o=1,strokeWidth:i,strokeStyle:r=kt.SOLID,strokeDashArray:a,rect:l,scale:s,onClick:c}){const{width:d,height:u,x:h,y:p}=Pe(()=>{const e=l.size.width,t=l.size.height;return{width:Math.max(e-i,0),height:Math.max(t-i,0),x:i/2,y:i/2}},[l,i]),g=(d+i)*s,m=(u+i)*s;return He("svg",{style:{position:"absolute",width:g,height:m,pointerEvents:"none",zIndex:2},width:g,height:m,viewBox:`0 0 ${d+i} ${u+i}`,children:He("rect",{x:h,y:p,width:d,height:u,fill:t,opacity:o,onPointerDown:c,onTouchStart:c,style:{cursor:e?"move":"pointer",pointerEvents:e?"none":"transparent"===t?"visibleStroke":"visible",stroke:n??t,strokeWidth:i,...r===kt.DASHED&&{strokeDasharray:null==a?void 0:a.join(",")}}})})}function Zs({color:e="#000000",strokeColor:t,opacity:n=1,strokeWidth:o,strokeStyle:i=kt.SOLID,strokeDashArray:r,rect:a,scale:l,onClick:s,isSelected:c}){const{width:d,height:u,cx:h,cy:p,rx:g,ry:m}=Pe(()=>{const e=a.size.width,t=a.size.height,n=Math.max(e-o,0),i=Math.max(t-o,0);return{width:e,height:t,cx:o/2+n/2,cy:o/2+i/2,rx:n/2,ry:i/2}},[a,o]),f=d*l,v=u*l;return He("svg",{style:{position:"absolute",width:f,height:v,pointerEvents:"none",zIndex:2},width:f,height:v,viewBox:`0 0 ${d} ${u}`,children:He("ellipse",{cx:h,cy:p,rx:g,ry:m,fill:e,opacity:n,onPointerDown:s,onTouchStart:s,style:{cursor:c?"move":"pointer",pointerEvents:c?"none":"transparent"===e?"visibleStroke":"visible",stroke:t??e,strokeWidth:o,...i===kt.DASHED&&{strokeDasharray:null==r?void 0:r.join(",")}}})})}const Ys=(e,t)=>{if(e.type!==ft.INK)throw new Error("resizeInkAnnotation: original is not an ink annotation");const n=e.rect;let o=t.rect.size.width/n.size.width,i=t.rect.size.height/n.size.height;if((t.rect.size.width<10||t.rect.size.height<10)&&(o=Math.max(o,10/n.size.width),i=Math.max(i,10/n.size.height),t.rect={origin:t.rect.origin,size:{width:n.size.width*o,height:n.size.height*i}}),t.uniform){const e=Math.min(o,i);o=e,i=e,t.rect.size={width:n.size.width*e,height:n.size.height*e}}const r=e.inkList.map(e=>({points:e.points.map(e=>({x:t.rect.origin.x+(e.x-n.origin.x)*o,y:t.rect.origin.y+(e.y-n.origin.y)*i}))})),a=(o+i)/2,l=Math.round(e.strokeWidth*a);return{rect:t.rect,inkList:r,strokeWidth:l}};function Xs({color:e="transparent",opacity:t=1,strokeWidth:n,strokeColor:o="#000000",strokeStyle:i=kt.SOLID,strokeDashArray:r,rect:a,linePoints:l,lineEndings:s,scale:c,onClick:d,isSelected:u}){const{x1:h,y1:p,x2:g,y2:m}=Pe(()=>({x1:l.start.x-a.origin.x,y1:l.start.y-a.origin.y,x2:l.end.x-a.origin.x,y2:l.end.y-a.origin.y}),[l,a]),f=Pe(()=>{const e=Math.atan2(m-p,g-h);return{start:Ns.createEnding(null==s?void 0:s.start,n,e+Math.PI,h,p),end:Ns.createEnding(null==s?void 0:s.end,n,e,g,m)}},[s,n,h,p,g,m]),v=a.size.width*c,y=a.size.height*c;return He("svg",{style:{position:"absolute",width:v,height:y,pointerEvents:"none",zIndex:2,overflow:"visible"},width:v,height:y,viewBox:`0 0 ${a.size.width} ${a.size.height}`,children:[He("line",{x1:h,y1:p,x2:g,y2:m,opacity:t,onPointerDown:d,onTouchStart:d,style:{cursor:u?"move":"pointer",pointerEvents:u?"none":"visibleStroke",stroke:o,strokeWidth:n,strokeLinecap:"butt",...i===kt.DASHED&&{strokeDasharray:null==r?void 0:r.join(",")}}}),f.start&&He("path",{d:f.start.d,transform:f.start.transform,onPointerDown:d,onTouchStart:d,stroke:o,style:{cursor:u?"move":"pointer",strokeWidth:n,strokeLinecap:"butt",pointerEvents:u?"none":f.start.filled?"visible":"visibleStroke",...i===kt.DASHED&&{strokeDasharray:null==r?void 0:r.join(",")}},fill:f.start.filled?e:"none"}),f.end&&He("path",{d:f.end.d,transform:f.end.transform,stroke:o,onPointerDown:d,onTouchStart:d,style:{cursor:u?"move":"pointer",strokeWidth:n,strokeLinecap:"butt",pointerEvents:u?"none":f.end.filled?"visible":"visibleStroke",...i===kt.DASHED&&{strokeDasharray:null==r?void 0:r.join(",")}},fill:f.end.filled?e:"none"})]})}function Ks({rect:e,vertices:t,color:n="transparent",strokeColor:o="#000000",opacity:i=1,strokeWidth:r,scale:a,isSelected:l,onClick:s,lineEndings:c}){const d=Pe(()=>t.map(({x:t,y:n})=>({x:t-e.origin.x,y:n-e.origin.y})),[t,e]),u=Pe(()=>{if(!d.length)return"";const[e,...t]=d;return`M ${e.x} ${e.y} `+t.map(e=>`L ${e.x} ${e.y} `).join("").trim()},[d]),h=Pe(()=>{if(d.length<2)return{start:null,end:null};const e=(e,t)=>Math.atan2(t.y-e.y,t.x-e.x),t=e(d[1],d[0]),n=e(d[d.length-2],d[d.length-1]);return{start:Ns.createEnding(null==c?void 0:c.start,r,t+Math.PI,d[0].x,d[0].y),end:Ns.createEnding(null==c?void 0:c.end,r,n,d[d.length-1].x,d[d.length-1].y)}},[d,c,r]),p=e.size.width*a,g=e.size.height*a;return He("svg",{style:{position:"absolute",width:p,height:g,pointerEvents:"none",zIndex:2,overflow:"visible"},width:p,height:g,viewBox:`0 0 ${e.size.width} ${e.size.height}`,children:[He("path",{d:u,onPointerDown:s,onTouchStart:s,opacity:i,style:{fill:"none",stroke:o??n,strokeWidth:r,cursor:l?"move":"pointer",pointerEvents:l?"none":"visibleStroke",strokeLinecap:"butt",strokeLinejoin:"miter"}}),h.start&&He("path",{d:h.start.d,transform:h.start.transform,stroke:o,fill:h.start.filled?n:"none",onPointerDown:s,onTouchStart:s,style:{cursor:l?"move":"pointer",strokeWidth:r,pointerEvents:l?"none":h.start.filled?"visible":"visibleStroke",strokeLinecap:"butt"}}),h.end&&He("path",{d:h.end.d,transform:h.end.transform,stroke:o,fill:h.end.filled?n:"none",onPointerDown:s,onTouchStart:s,style:{cursor:l?"move":"pointer",strokeWidth:r,pointerEvents:l?"none":h.end.filled?"visible":"visibleStroke",strokeLinecap:"butt"}})]})}function Qs({rect:e,vertices:t,color:n="transparent",strokeColor:o="#000000",opacity:i=1,strokeWidth:r,strokeStyle:a=kt.SOLID,strokeDashArray:l,scale:s,isSelected:c,onClick:d}){const u=Pe(()=>t.map(({x:t,y:n})=>({x:t-e.origin.x,y:n-e.origin.y})),[t,e]),h=Pe(()=>{if(!u.length)return"";const[e,...t]=u;return(`M ${e.x} ${e.y} `+t.map(e=>`L ${e.x} ${e.y} `).join("")+"Z").trim()},[u]),p=e.size.width*s,g=e.size.height*s;return He("svg",{style:{position:"absolute",width:p,height:g,pointerEvents:"none",zIndex:2,overflow:"visible"},width:p,height:g,viewBox:`0 0 ${e.size.width} ${e.size.height}`,children:He("path",{d:h,onPointerDown:d,onTouchStart:d,opacity:i,style:{fill:n,stroke:o??n,strokeWidth:r,cursor:c?"move":"pointer",pointerEvents:c?"none":"transparent"===n?"visibleStroke":"visible",strokeLinecap:"butt",strokeLinejoin:"miter",...a===kt.DASHED&&{strokeDasharray:null==l?void 0:l.join(",")}}})})}const Js=(e,t)=>{if(t.vertices&&t.vertices.length>=2)return{rect:Ns.lineRectWithEndings(t.vertices,e.strokeWidth,e.lineEndings),linePoints:{start:t.vertices[0],end:t.vertices[1]}};const n=t.rect.origin.x-e.rect.origin.x,o=t.rect.origin.y-e.rect.origin.y;return{rect:t.rect,linePoints:{start:{x:e.linePoints.start.x+n,y:e.linePoints.start.y+o},end:{x:e.linePoints.end.x+n,y:e.linePoints.end.y+o}}}},ec=(e,t)=>{if(t.vertices&&t.vertices.length)return{rect:Ns.lineRectWithEndings(t.vertices,e.strokeWidth,e.lineEndings),vertices:t.vertices};const n=t.rect.origin.x-e.rect.origin.x,o=t.rect.origin.y-e.rect.origin.y,i=e.vertices.map(e=>({x:e.x+n,y:e.y+o}));return{rect:t.rect,vertices:i}},tc=(e,t)=>{if(t.vertices&&t.vertices.length){const n=e.strokeWidth/2;return{rect:Xe(Ye(t.vertices),n),vertices:t.vertices}}const n=t.rect.origin.x-e.rect.origin.x,o=t.rect.origin.y-e.rect.origin.y,i=e.vertices.map(e=>({x:e.x+n,y:e.y+o}));return{rect:t.rect,vertices:i}};function nc({isSelected:e,isEditing:t,annotation:n,pageIndex:o,scale:i,onClick:r}){const a=Ie(null),{provides:l}=Os();return Se(()=>{if(t&&a.current){const e=a.current;e.focus();const t=window.getSelection();if(t){const n=document.createRange();n.selectNodeContents(e),n.collapse(!1),t.removeAllRanges(),t.addRange(n)}}},[t]),He("div",{style:{position:"absolute",width:n.object.rect.size.width*i,height:n.object.rect.size.height*i,cursor:e&&!t?"move":"default",pointerEvents:e&&!t?"none":"auto",zIndex:2},onPointerDown:r,onTouchStart:r,children:He("span",{ref:a,onBlur:()=>{l&&a.current&&l.updateAnnotation(o,n.object.id,{contents:a.current.innerText})},style:{color:n.object.fontColor,fontSize:n.object.fontSize*i,fontFamily:(s=n.object.fontFamily,Vt(s).css),textAlign:jt(n.object.textAlign),flexDirection:"column",justifyContent:n.object.verticalAlign===pt.Top?"flex-start":n.object.verticalAlign===pt.Middle?"center":"flex-end",display:"flex",backgroundColor:n.object.backgroundColor,opacity:n.object.opacity,width:"100%",height:"100%",lineHeight:"1.18",overflow:"hidden",cursor:t?"text":"pointer"},contentEditable:t,suppressContentEditableWarning:!0,children:n.object.contents})});var s}function oc({pageIndex:e,annotation:t,scaleFactor:n=1,style:o,...i}){const{provides:r}=Os(),[a,l]=Ce(null),s=Ie(null),{width:c,height:d}=t.rect.size;return Se(()=>{if(r){const o=r.renderAnnotation({pageIndex:e,annotation:t,scaleFactor:n,dpr:window.devicePixelRatio});return o.wait(e=>{const t=URL.createObjectURL(e);l(t),s.current=t},an),()=>{s.current?(URL.revokeObjectURL(s.current),s.current=null):o.abort({code:_t.Cancelled,message:"canceled render task"})}}},[e,n,r,t.id,c,d]),He(F,{children:a&&He("img",{src:a,onLoad:()=>{s.current&&(URL.revokeObjectURL(s.current),s.current=null)},...i,style:{width:"100%",height:"100%",...o||{}}})})}function ic({isSelected:e,annotation:t,pageIndex:n,scale:o,onClick:i}){return He("div",{style:{position:"absolute",width:"100%",height:"100%",zIndex:2,pointerEvents:e?"none":"auto"},onPointerDown:i,onTouchStart:i,children:He(oc,{pageIndex:n,annotation:{...t.object,id:t.object.id},scaleFactor:o})})}function rc(e){const{pageIndex:t,scale:n,selectionMenu:o}=e,{provides:i}=Os(),{provides:r}=Ya(),[a,l]=Ce([]),{register:s}=Br({pageIndex:t}),[c,d]=Ce(null),[u,h]=Ce(null);Se(()=>{i&&i.onStateChange(e=>{l(((e,t)=>(e.pages[t]??[]).map(t=>e.byUid[t]))(e,t)),d(((e,t)=>e.selectedUid&&(e.pages[t]??[]).includes(e.selectedUid)?e.byUid[e.selectedUid]:null)(e,t))})},[i]);const p=Pe(()=>({onPointerDown:(e,t)=>{t.target===t.currentTarget&&i&&(i.deselectAnnotation(),h(null))}}),[i]),g=Ae((e,n)=>{e.stopPropagation(),i&&r&&(i.selectAnnotation(t,n.object.id),r.clear(),h(null))},[i,r,t]);return Se(()=>s(p),[s,p]),He(F,{children:a.map(i=>{const r=(null==c?void 0:c.object.id)===i.object.id,a=u===i.object.id;return ls(i)?He($s,{trackedAnnotation:i,isSelected:r,isDraggable:!0,isResizable:!0,selectionMenu:o,computePatch:Ys,style:{mixBlendMode:en(i.object.blendMode??gt.Normal)},...e,children:e=>He(Vs,{isSelected:r,color:e.color,opacity:e.opacity,strokeWidth:e.strokeWidth,inkList:e.inkList,rect:e.rect,scale:n,onClick:e=>g(e,i)})},i.object.id):ds(i)?He($s,{trackedAnnotation:i,isSelected:r,isDraggable:!0,isResizable:!0,selectionMenu:o,style:{mixBlendMode:en(i.object.blendMode??gt.Normal)},...e,children:e=>He(qs,{isSelected:r,rect:e.rect,color:e.color,opacity:e.opacity,strokeWidth:e.strokeWidth,strokeColor:e.strokeColor,strokeStyle:e.strokeStyle,strokeDashArray:e.strokeDashArray,scale:n,onClick:e=>g(e,i)})},i.object.id):ss(i)?He($s,{trackedAnnotation:i,isSelected:r,isDraggable:!0,isResizable:!0,selectionMenu:o,style:{mixBlendMode:en(i.object.blendMode??gt.Normal)},...e,children:e=>He(Zs,{isSelected:r,rect:e.rect,color:e.color,opacity:e.opacity,strokeWidth:e.strokeWidth,strokeColor:e.strokeColor,strokeStyle:e.strokeStyle,strokeDashArray:e.strokeDashArray,scale:n,onClick:e=>g(e,i)})},i.object.id):gs(i)?He($s,{trackedAnnotation:i,isSelected:r,isDraggable:!1,isResizable:!1,selectionMenu:o,style:{mixBlendMode:en(i.object.blendMode??gt.Normal)},...e,children:e=>He(Us,{rect:e.rect,color:e.color,opacity:e.opacity,rects:e.segmentRects,scale:n,onClick:e=>g(e,i)})},i.object.id):ms(i)?He($s,{trackedAnnotation:i,isSelected:r,isDraggable:!1,isResizable:!1,selectionMenu:o,style:{mixBlendMode:en(i.object.blendMode??gt.Normal)},...e,children:e=>He(Ws,{rect:e.rect,color:e.color,opacity:e.opacity,rects:e.segmentRects,scale:n,onClick:e=>g(e,i)})},i.object.id):fs(i)?He($s,{trackedAnnotation:i,isSelected:r,isDraggable:!1,isResizable:!1,selectionMenu:o,style:{mixBlendMode:en(i.object.blendMode??gt.Normal)},...e,children:e=>He(Gs,{color:e.color,opacity:e.opacity,rects:e.segmentRects,rect:e.rect,scale:n,onClick:e=>g(e,i)})},i.object.id):ps(i)?He($s,{trackedAnnotation:i,isSelected:r,isDraggable:!1,isResizable:!1,selectionMenu:o,style:{mixBlendMode:en(i.object.blendMode??gt.Multiply)},...e,children:e=>He(Fs,{color:e.color,opacity:e.opacity,rects:e.segmentRects,scale:n,rect:e.rect,onClick:e=>g(e,i)})},i.object.id):us(i)?He($s,{trackedAnnotation:i,isSelected:r,isDraggable:!0,isResizable:!1,selectionMenu:o,computePatch:Js,computeVertices:e=>[e.linePoints.start,e.linePoints.end],style:{mixBlendMode:en(i.object.blendMode??gt.Normal)},...e,children:e=>He(F,{children:He(Xs,{isSelected:r,rect:e.rect,color:e.color,opacity:e.opacity,linePoints:e.linePoints,lineEndings:e.lineEndings,strokeWidth:e.strokeWidth,strokeColor:e.strokeColor,strokeStyle:e.strokeStyle,strokeDashArray:e.strokeDashArray,scale:n,onClick:e=>g(e,i)})})},i.object.id):hs(i)?He($s,{trackedAnnotation:i,isSelected:r,isDraggable:!0,isResizable:!1,selectionMenu:o,computePatch:ec,computeVertices:e=>e.vertices,style:{mixBlendMode:en(i.object.blendMode??gt.Normal)},...e,children:e=>He(F,{children:He(Ks,{isSelected:r,rect:e.rect,color:e.color,opacity:e.opacity,vertices:e.vertices,lineEndings:e.lineEndings,strokeWidth:e.strokeWidth,strokeColor:e.strokeColor,scale:n,onClick:e=>g(e,i)})})},i.object.id):cs(i)?He($s,{trackedAnnotation:i,isSelected:r,isDraggable:!0,isResizable:!1,selectionMenu:o,computeVertices:e=>e.vertices,computePatch:tc,style:{mixBlendMode:en(i.object.blendMode??gt.Normal)},...e,children:e=>He(F,{children:He(Qs,{isSelected:r,rect:e.rect,color:e.color,opacity:e.opacity,vertices:e.vertices,strokeWidth:e.strokeWidth,strokeColor:e.strokeColor,strokeStyle:e.strokeStyle,strokeDashArray:e.strokeDashArray,scale:n,onClick:e=>g(e,i)})})},i.object.id):vs(i)?He($s,{trackedAnnotation:i,isSelected:r,isDraggable:!0,isResizable:!0,selectionMenu:o,outlineOffset:6,onDoubleClick:e=>{e.stopPropagation(),h(i.object.id)},style:{mixBlendMode:en(i.object.blendMode??gt.Normal)},...e,children:e=>He(nc,{isSelected:r,isEditing:a,annotation:{...i,object:e},pageIndex:t,scale:n,onClick:e=>g(e,i)})},i.object.id):ys(i)?He($s,{trackedAnnotation:i,isSelected:r,isDraggable:!0,isResizable:!0,selectionMenu:o,lockAspectRatio:!0,style:{mixBlendMode:en(i.object.blendMode??gt.Normal)},...e,children:e=>He(ic,{isSelected:r,annotation:i,pageIndex:t,scale:n,onClick:e=>g(e,i)})},i.object.id):null})})}function ac({pageIndex:e,scale:t}){var n,o,i,r,a,l,s,c,d,u,h,p;const{provides:g}=Ya(),{provides:m}=Os(),[f,v]=Ce([]),[y,b]=Ce(null),[w,x]=Ce({variantKey:null,defaults:null});if(Se(()=>{if(g)return g.onSelectionChange(()=>{v(g.getHighlightRectsForPage(e)),b(g.getBoundingRectForPage(e))})},[g,e]),Se(()=>{if(m)return m.onActiveToolChange(x)},[m]),!y)return null;if(!w.defaults)return null;switch(w.defaults.subtype){case ft.UNDERLINE:return He("div",{style:{mixBlendMode:en((null==(n=w.defaults)?void 0:n.blendMode)??gt.Normal),pointerEvents:"none",position:"absolute",inset:0},children:He(Us,{color:null==(o=w.defaults)?void 0:o.color,opacity:null==(i=w.defaults)?void 0:i.opacity,rects:f,scale:t})});case ft.HIGHLIGHT:return He("div",{style:{mixBlendMode:en((null==(r=w.defaults)?void 0:r.blendMode)??gt.Multiply),pointerEvents:"none",position:"absolute",inset:0},children:He(Fs,{color:null==(a=w.defaults)?void 0:a.color,opacity:null==(l=w.defaults)?void 0:l.opacity,rects:f,scale:t})});case ft.STRIKEOUT:return He("div",{style:{mixBlendMode:en((null==(s=w.defaults)?void 0:s.blendMode)??gt.Normal),pointerEvents:"none",position:"absolute",inset:0},children:He(Ws,{color:null==(c=w.defaults)?void 0:c.color,opacity:null==(d=w.defaults)?void 0:d.opacity,rects:f,scale:t})});case ft.SQUIGGLY:return He("div",{style:{mixBlendMode:en((null==(u=w.defaults)?void 0:u.blendMode)??gt.Normal),pointerEvents:"none",position:"absolute",inset:0},children:He(Gs,{color:null==(h=w.defaults)?void 0:h.color,opacity:null==(p=w.defaults)?void 0:p.opacity,rects:f,scale:t})});default:return null}}const lc=({pageIndex:e,scale:t,pageWidth:n,pageHeight:o})=>{var i,r,a,l,s;const{provides:c}=Os(),[d,u]=Ce({variantKey:null,defaults:null});if(Se(()=>{if(c)return c.onActiveToolChange(u)},[c]),!d.defaults)return null;if(d.defaults.subtype!==ft.INK)return null;const h=(null==(i=d.defaults)?void 0:i.color)??"#000000",p=(null==(r=d.defaults)?void 0:r.opacity)??1,g=(null==(a=d.defaults)?void 0:a.strokeWidth)??2,m=(null==(l=d.defaults)?void 0:l.blendMode)??gt.Normal,f=null==(s=d.defaults)?void 0:s.intent,{register:v}=Br({modeId:"ink",pageIndex:e}),y=(e,t,n)=>Math.max(t,Math.min(n,e)),[b,w]=Ce([]),[x,k]=Ce(!1),C=Ie(null),S=n/t,M=o/t,I=Pe(()=>({onPointerDown:(e,t)=>{var n,o;const i=y(e.x,0,S),r=y(e.y,0,M);k(!0),C.current?(clearTimeout(C.current),C.current=null,w(e=>[...e,{points:[{x:i,y:r}]}])):w([{points:[{x:i,y:r}]}]),null==(o=null==(n=t.target)?void 0:n.setPointerCapture)||o.call(n,t.pointerId)},onPointerMove:e=>{if(!x)return;const t=y(e.x,0,S),n=y(e.y,0,M);w(e=>{if(!e.length)return e;const o={points:[...e[e.length-1].points,{x:t,y:n}]};return[...e.slice(0,-1),o]})},onPointerUp:(t,n)=>{var o,i;k(!1),null==(i=null==(o=n.target)?void 0:o.releasePointerCapture)||i.call(o,n.pointerId),C.current&&clearTimeout(C.current),C.current=setTimeout(()=>{if(b.length&&c){const t=b.flatMap(e=>e.points);if(!t.length)return;const n=Xe(Ye(t),g/2);if(n.size.width<1||n.size.height<1)return;const o={type:ft.INK,intent:f,blendMode:m,rect:n,inkList:b,color:h,opacity:p,strokeWidth:g,created:new Date,pageIndex:e,id:rn()};c.createAnnotation(e,o),c.setActiveVariant(null),c.selectAnnotation(e,o.id)}w([]),C.current=null},3e3)},onPointerCancel:(e,t)=>{var n,o;k(!1),null==(o=null==(n=t.target)?void 0:n.releasePointerCapture)||o.call(n,t.pointerId),w([]),C.current&&(clearTimeout(C.current),C.current=null)}}),[S,M,b,c,e,h,p,g,x]);if(Se(()=>{if(v)return v(I)},[v,I]),Se(()=>()=>{C.current&&clearTimeout(C.current)},[]),!b.length)return null;const P=b.flatMap(e=>e.points);if(!P.length)return null;const A=Xe(Ye(P),g/2),_=b.map(({points:e})=>{let t="";return e.forEach(({x:e,y:n},o)=>{const i=e-A.origin.x,r=n-A.origin.y;t+=(0===o?"M":"L")+i+" "+r+" "}),t.trim()});return He("svg",{style:{position:"absolute",left:A.origin.x*t,top:A.origin.y*t,width:A.size.width*t,height:A.size.height*t,pointerEvents:"none",zIndex:2},width:A.size.width*t,height:A.size.height*t,viewBox:`0 0 ${A.size.width} ${A.size.height}`,children:_.map((e,t)=>He("path",{d:e,fill:"none",opacity:p,style:{stroke:h,strokeWidth:g,strokeLinecap:"round",strokeLinejoin:"round"}},t))})},sc=({pageIndex:e,scale:t,pageWidth:n,pageHeight:o,cursor:i})=>{const{provides:r}=Os(),[a,l]=Ce({variantKey:null,defaults:null});if(Se(()=>{if(r)return r.onActiveToolChange(l)},[r]),!a.defaults)return null;if(a.defaults.subtype!==ft.CIRCLE)return null;const s=a.defaults.color??"#000000",c=a.defaults.opacity??1,d=a.defaults.strokeWidth??2,u=a.defaults.strokeColor??"#000000",h=a.defaults.strokeStyle??kt.SOLID,p=a.defaults.strokeDashArray??[],{register:g}=Br({modeId:"circle",pageIndex:e}),m=(e,t,n)=>Math.max(t,Math.min(n,e)),f=n/t,v=o/t,[y,b]=Ce(null),[w,x]=Ce(null),k=Pe(()=>({onPointerDown:(e,t)=>{var n,o;const i=m(e.x,0,f),r=m(e.y,0,v);b({x:i,y:r}),x({x:i,y:r}),null==(o=null==(n=t.target)?void 0:n.setPointerCapture)||o.call(n,t.pointerId)},onPointerMove:e=>{if(!y)return;const t=m(e.x,0,f),n=m(e.y,0,v);x({x:t,y:n})},onPointerUp:(t,n)=>{var o,i;if(y&&w&&r){const t=Math.min(y.x,w.x),n=Math.min(y.y,w.y),o=Math.max(y.x,w.x),i=Math.max(y.y,w.y);if(o-t>=1&&i-n>=1){const a=d/2,l={origin:{x:t-a,y:n-a},size:{width:o-t+d,height:i-n+d}},g={type:ft.CIRCLE,rect:l,flags:["print"],color:s,opacity:c,strokeWidth:d,strokeColor:u,strokeStyle:h,strokeDashArray:p,created:new Date,pageIndex:e,id:rn()};r.createAnnotation(e,g),r.setActiveVariant(null),r.selectAnnotation(e,g.id)}}null==(i=null==(o=n.target)?void 0:o.releasePointerCapture)||i.call(o,n.pointerId),b(null),x(null)},onPointerCancel:(e,t)=>{var n,o;null==(o=null==(n=t.target)?void 0:n.releasePointerCapture)||o.call(n,t.pointerId),b(null),x(null)}}),[y,w,r,e,f,v,s,c,d]);if(Se(()=>g?g(k):void 0,[g,k]),!y||!w)return null;const C=Math.min(y.x,w.x),S=Math.min(y.y,w.y),M=Math.max(y.x,w.x),I=Math.max(y.y,w.y),P=d/2,A=M-C,_=I-S,T=A+d,E=_+d;return He("svg",{style:{position:"absolute",left:(C-P)*t,top:(S-P)*t,width:T*t,height:E*t,pointerEvents:"none",zIndex:2},width:T*t,height:E*t,viewBox:`0 0 ${T} ${E}`,children:He("ellipse",{cx:P+A/2,cy:P+_/2,rx:A/2,ry:_/2,fill:s,opacity:c,style:{cursor:i,stroke:u,strokeWidth:d,...h===kt.DASHED&&{strokeDasharray:p.join(",")}}})})},cc=({pageIndex:e,scale:t,pageWidth:n,pageHeight:o,cursor:i})=>{const{provides:r}=Os(),[a,l]=Ce({variantKey:null,defaults:null});if(Se(()=>{if(r)return r.onActiveToolChange(l)},[r]),!a.defaults)return null;if(a.defaults.subtype!==ft.SQUARE)return null;const s=a.defaults.color??"#000000",c=a.defaults.opacity??1,d=a.defaults.strokeWidth??2,u=a.defaults.strokeColor??"#000000",h=a.defaults.strokeStyle??kt.SOLID,p=a.defaults.strokeDashArray??[],{register:g}=Br({modeId:"square",pageIndex:e}),m=(e,t,n)=>Math.max(t,Math.min(n,e)),f=n/t,v=o/t,[y,b]=Ce(null),[w,x]=Ce(null),k=Pe(()=>({onPointerDown:(e,t)=>{var n,o;const i=m(e.x,0,f),r=m(e.y,0,v);b({x:i,y:r}),x({x:i,y:r}),null==(o=null==(n=t.target)?void 0:n.setPointerCapture)||o.call(n,t.pointerId)},onPointerMove:e=>{if(!y)return;const t=m(e.x,0,f),n=m(e.y,0,v);x({x:t,y:n})},onPointerUp:(t,n)=>{var o,i;if(y&&w&&r){const t=Math.min(y.x,w.x),n=Math.min(y.y,w.y),o=Math.max(y.x,w.x),i=Math.max(y.y,w.y);if(o-t>=1&&i-n>=1){const a=d/2,l={origin:{x:t-a,y:n-a},size:{width:o-t+d,height:i-n+d}},g={type:ft.SQUARE,rect:l,flags:["print"],color:s,opacity:c,strokeWidth:d,strokeColor:u,strokeStyle:h,strokeDashArray:p,pageIndex:e,id:rn(),created:new Date};r.createAnnotation(e,g),r.setActiveVariant(null),r.selectAnnotation(e,g.id)}}null==(i=null==(o=n.target)?void 0:o.releasePointerCapture)||i.call(o,n.pointerId),b(null),x(null)},onPointerCancel:(e,t)=>{var n,o;null==(o=null==(n=t.target)?void 0:n.releasePointerCapture)||o.call(n,t.pointerId),b(null),x(null)}}),[y,w,r,e,f,v,s,c,d]);if(Se(()=>g?g(k):void 0,[g,k]),!y||!w)return null;const C=Math.min(y.x,w.x),S=Math.min(y.y,w.y),M=Math.max(y.x,w.x),I=Math.max(y.y,w.y),P=d/2,A=M-C,_=I-S,T=A+d,E=_+d;return He("svg",{style:{position:"absolute",left:(C-P)*t,top:(S-P)*t,width:T*t,height:E*t,pointerEvents:"none",zIndex:2},width:T*t,height:E*t,viewBox:`0 0 ${T} ${E}`,children:He("rect",{x:P,y:P,width:A,height:_,fill:s,opacity:c,style:{cursor:i,stroke:u,strokeWidth:d,...h===kt.DASHED&&{strokeDasharray:p.join(",")}}})})},dc=({pageIndex:e,scale:t,pageWidth:n,pageHeight:o,cursor:i})=>{const{provides:r}=Os(),[a,l]=Ce({variantKey:null,defaults:null});if(Se(()=>{if(r)return r.onActiveToolChange(l)},[r]),!a.defaults)return null;if(a.defaults.subtype!==ft.POLYLINE)return null;const s=a.defaults.color??"#000000",c=a.defaults.opacity??1,d=a.defaults.strokeWidth??2,u=a.defaults.strokeColor??"#000000",h=a.defaults.lineEndings,p=a.defaults.strokeStyle??kt.SOLID,g=a.defaults.strokeDashArray,{register:m}=Br({modeId:"polyline",pageIndex:e}),f=(e,t,n)=>Math.max(t,Math.min(n,e)),v=n/t,y=o/t,[b,w]=Ce([]),[x,k]=Ce(null),C=Pe(()=>({onClick:e=>{const t=f(e.x,0,v),n=f(e.y,0,y);w(e=>[...e,{x:t,y:n}]),k({x:t,y:n})},onDoubleClick:()=>{b.length>=1&&r&&(t=>{if(t.length<2)return;const n=Ns.lineRectWithEndings(t,d,h),o={type:ft.POLYLINE,rect:n,vertices:t,color:s,opacity:c,strokeWidth:d,strokeColor:u,strokeStyle:p,strokeDashArray:g,lineEndings:h,pageIndex:e,id:rn(),created:new Date};r.createAnnotation(e,o),r.setActiveVariant(null),r.selectAnnotation(e,o.id)})(b),w([]),k(null)},onPointerMove:e=>{if(!b.length)return;const t=f(e.x,0,v),n=f(e.y,0,y);k({x:t,y:n})},onPointerCancel:()=>{w([]),k(null)}}),[b,r,v,y]);if(Se(()=>m?m(C):void 0,[m,C]),!b.length||!x)return null;const S=[...b,x],M=Ns.lineRectWithEndings(S,d,h);return He("div",{style:{position:"absolute",left:M.origin.x*t,top:M.origin.y*t,width:M.size.width*t,height:M.size.height*t,pointerEvents:"none",zIndex:2,overflow:"visible",cursor:i},children:He(Ks,{rect:M,vertices:S,strokeWidth:d,scale:t,isSelected:!1,color:s,strokeColor:u,opacity:c,lineEndings:h})})},uc=({pageIndex:e,scale:t,pageWidth:n,pageHeight:o,cursor:i})=>{const{provides:r}=Os(),[a,l]=Ce({variantKey:null,defaults:null});if(Se(()=>{if(r)return r.onActiveToolChange(l)},[r]),!a.defaults)return null;if(a.defaults.subtype!==ft.LINE)return null;const s=a.defaults.color??"#000000",c=a.defaults.opacity??1,d=a.defaults.strokeWidth??2,u=a.defaults.strokeColor??"#000000",h=a.defaults.strokeStyle??kt.SOLID,p=a.defaults.strokeDashArray,g=a.defaults.lineEndings,m=a.defaults.intent,{register:f}=Br({modeId:["line","lineArrow"],pageIndex:e}),v=(e,t,n)=>Math.max(t,Math.min(n,e)),y=n/t,b=o/t,[w,x]=Ce(null),[k,C]=Ce(null),S=Pe(()=>({onPointerDown:(e,t)=>{var n,o;const i=v(e.x,0,y),r=v(e.y,0,b);x({x:i,y:r}),C({x:i,y:r}),null==(o=null==(n=t.target)?void 0:n.setPointerCapture)||o.call(n,t.pointerId)},onPointerMove:e=>{if(!w)return;const t=v(e.x,0,y),n=v(e.y,0,b);C({x:t,y:n})},onPointerUp:(t,n)=>{var o,i;w&&k&&r&&((t,n)=>{if(Math.abs(n.x-t.x)<1&&Math.abs(n.y-t.y)<1)return;const o=Ns.lineRectWithEndings([t,n],d,g),i={type:ft.LINE,rect:o,linePoints:{start:t,end:n},color:s,opacity:c,strokeWidth:d,strokeColor:u,strokeStyle:h,strokeDashArray:p,lineEndings:g,intent:m,pageIndex:e,id:rn(),created:new Date};r.createAnnotation(e,i),r.setActiveVariant(null),r.selectAnnotation(e,i.id)})(w,k),null==(i=null==(o=n.target)?void 0:o.releasePointerCapture)||i.call(o,n.pointerId),x(null),C(null)},onPointerCancel:(e,t)=>{var n,o;null==(o=null==(n=t.target)?void 0:n.releasePointerCapture)||o.call(n,t.pointerId),x(null),C(null)}}),[w,k,r,y,b]);if(Se(()=>f?f(S):void 0,[f,S]),!w||!k)return null;const M=Ns.lineRectWithEndings([w,k],d,g);return He("div",{style:{position:"absolute",left:M.origin.x*t,top:M.origin.y*t,width:M.size.width*t,height:M.size.height*t,pointerEvents:"none",zIndex:2,overflow:"visible",cursor:i},children:He(Xs,{rect:M,linePoints:{start:w,end:k},strokeWidth:d,scale:t,isSelected:!1,color:s,strokeColor:u,opacity:c,lineEndings:g,strokeStyle:h,strokeDashArray:p})})},hc=({pageIndex:e,scale:t,pageWidth:n,pageHeight:o,cursor:i})=>{const{provides:r}=Os(),[a,l]=Ce({variantKey:null,defaults:null});if(Se(()=>null==r?void 0:r.onActiveToolChange(l),[r]),!a.defaults||a.defaults.subtype!==ft.POLYGON)return null;const s=a.defaults.color??"#000000",c=a.defaults.opacity??1,d=a.defaults.strokeWidth??2,u=a.defaults.strokeColor??"#000000",h=a.defaults.strokeStyle??kt.SOLID,p=a.defaults.strokeDashArray,{register:g}=Br({modeId:"polygon",pageIndex:e}),m=(e,t,n)=>Math.max(t,Math.min(n,e)),f=n/t,v=o/t,[y,b]=Ce([]),[w,x]=Ce(null),k=t=>{const n=t.map(e=>e.x),o=t.map(e=>e.y),i=Math.min(...n),a=Math.min(...o),l=Math.max(...n),g=Math.max(...o);if(l-i<1||g-a<1)return;const m=d/2,f={origin:{x:i-m,y:a-m},size:{width:l-i+d,height:g-a+d}},v={type:ft.POLYGON,rect:f,vertices:t,color:s,opacity:c,strokeWidth:d,strokeColor:u,strokeStyle:h,strokeDashArray:p,pageIndex:e,id:rn(),created:new Date};r.createAnnotation(e,v),r.setActiveVariant(null),r.selectAnnotation(e,v.id)},C=Pe(()=>({onClick:e=>{const n=m(e.x,0,f),o=m(e.y,0,v);if(((e,n)=>{if(y.length<2)return!1;const o=14/t/2,i=y[0];return e>=i.x-o&&e<=i.x+o&&n>=i.y-o&&n<=i.y+o})(n,o)&&y.length>=3&&r)return k(y),b([]),void x(null);b(e=>[...e,{x:n,y:o}]),x({x:n,y:o})},onDoubleClick:()=>{y.length>=3&&r?(k(y),b([]),x(null)):(b([]),x(null))},onPointerMove:e=>{if(!y.length)return;const t=m(e.x,0,f),n=m(e.y,0,v);x({x:t,y:n})},onPointerCancel:()=>{b([]),x(null)}}),[y,w,r,f,v]);if(Se(()=>g?g(C):void 0,[g,C]),!y.length||!w)return null;const S=[...y,w],M=S.map(e=>e.x),I=S.map(e=>e.y),P=Math.min(...M),A=Math.min(...I),_=Math.max(...M),T=Math.max(...I),E=d/2,N=P-E,z=A-E,R=_+E-N,L=T+E-z,D=Pe(()=>{let e="";return S.forEach(({x:t,y:n},o)=>{e+=(0===o?"M":"L")+(t-N)+" "+(n-z)+" "}),e.trim()},[S,N,z]),O=y.length>=2?`M ${w.x-N} ${w.y-z} L ${y[0].x-N} ${y[0].y-z}`:null,H=14/t,j=H/2,B=y[0].x-j-N,$=y[0].y-j-z;return He("svg",{style:{position:"absolute",left:N*t,top:z*t,width:R*t,height:L*t,pointerEvents:"none",zIndex:2,overflow:"visible"},width:R*t,height:L*t,viewBox:`0 0 ${R} ${L}`,children:[He("path",{d:D,fill:s,opacity:c,style:{cursor:i,stroke:u,strokeWidth:d,...h===kt.DASHED&&{strokeDasharray:null==p?void 0:p.join(",")}}}),O&&He("path",{d:O,fill:"none",style:{stroke:u,strokeWidth:d,strokeDasharray:"4,4"}}),y.length>=3&&He("rect",{x:B,y:$,width:H,height:H,fill:u,opacity:.4,stroke:u,strokeWidth:d/2,style:{pointerEvents:"none"}})]})},pc=({pageIndex:e,scale:t,pageWidth:n,pageHeight:o,cursor:i="text"})=>{const{provides:r}=Os(),[a,l]=Ce({variantKey:null,defaults:null});if(Se(()=>null==r?void 0:r.onActiveToolChange(l),[r]),!a.defaults||a.defaults.subtype!==ft.FREETEXT)return null;const s=a.defaults.fontColor??"#000000",c=a.defaults.opacity??1,d=a.defaults.fontSize??12,u=a.defaults.fontFamily,h=a.defaults.backgroundColor??"transparent",p=a.defaults.textAlign,g=a.defaults.verticalAlign,m=a.defaults.content??"Insert text here",{register:f}=Br({modeId:"freeText",pageIndex:e}),v=(e,t,n)=>Math.max(t,Math.min(n,e)),y=n/t,b=o/t,[w,x]=Ce(null),[k,C]=Ce(null),S=Pe(()=>({onPointerDown:(e,t)=>{var n,o;const i=v(e.x,0,y),r=v(e.y,0,b);x({x:i,y:r}),C({x:i,y:r}),null==(o=null==(n=t.target)?void 0:n.setPointerCapture)||o.call(n,t.pointerId)},onPointerMove:e=>{if(!w)return;const t=v(e.x,0,y),n=v(e.y,0,b);C({x:t,y:n})},onPointerUp:(t,n)=>{var o,i;w&&k&&r&&((t,n)=>{const o=Math.min(t.x,n.x),i=Math.min(t.y,n.y),a=Math.max(t.x,n.x)-o,l=Math.max(t.y,n.y)-i;if(a<1||l<1)return;const f={origin:{x:o,y:i},size:{width:a,height:l}},v={type:ft.FREETEXT,rect:f,contents:m,fontColor:s,fontSize:d,fontFamily:u,opacity:c,backgroundColor:h,textAlign:p,verticalAlign:g,pageIndex:e,id:rn(),created:new Date};r.createAnnotation(e,v),r.setActiveVariant(null),r.selectAnnotation(e,v.id)})(w,k),null==(i=null==(o=n.target)?void 0:o.releasePointerCapture)||i.call(o,n.pointerId),x(null),C(null)},onPointerCancel:(e,t)=>{var n,o;null==(o=null==(n=t.target)?void 0:n.releasePointerCapture)||o.call(n,t.pointerId),x(null),C(null)}}),[w,k,r,y,b]);if(Se(()=>f?f(S):void 0,[f,S]),!w||!k)return null;const M=Math.min(w.x,k.x),I=Math.min(w.y,k.y),P=Math.max(w.x,k.x)-M,A=Math.max(w.y,k.y)-I;return He("svg",{style:{position:"absolute",left:M*t,top:I*t,width:P*t,height:A*t,pointerEvents:"none",zIndex:2},width:P*t,height:A*t,viewBox:`0 0 ${P} ${A}`,children:He("rect",{x:0,y:0,width:P,height:A,fill:"transparent",style:{stroke:s,strokeWidth:1,strokeDasharray:"4,4",cursor:i}})})},gc=({pageIndex:e,scale:t,pageWidth:n,pageHeight:o})=>{const{provides:i}=Os(),r=Ie(null),a=Ie(null),[l,s]=Ce({variantKey:null,defaults:null});if(Se(()=>{if(i)return i.onActiveToolChange(s)},[i]),!l.defaults)return null;if(l.defaults.subtype!==ft.STAMP)return null;const{register:c}=Br({modeId:"stamp",pageIndex:e}),d=n/t,u=o/t,h=(e,t,n)=>Math.max(t,Math.min(n,e)),[p,g]=Ce(null),m=Pe(()=>({onPointerDown:(e,t)=>{var n;const o=h(e.x,0,d),i=h(e.y,0,u);g({x:o,y:i}),null==(n=r.current)||n.click()}}),[d,u]);return Se(()=>c?c(m):void 0,[c,m]),He(F,{children:[He("canvas",{style:{display:"none"},ref:a}),He("input",{ref:r,type:"file",accept:"image/png,image/jpeg",style:{display:"none"},onChange:async t=>{var n;if(!i||!p)return;const o=null==(n=t.currentTarget.files)?void 0:n[0];if(!o)return;const r=await new Promise((e,t)=>{const n=new Image;n.onload=()=>e(n),n.onerror=t,n.src=URL.createObjectURL(o)}),l=r.naturalWidth,s=r.naturalHeight,c=d,m=u,f=Math.min(1,c/l,m/s),v=l*f,y=s*f,b={origin:{x:h(p.x,0,c-v),y:h(p.y,0,m-y)},size:{width:v,height:y}},w=a.current;if(!w)return;w.width=v,w.height=y;const x=w.getContext("2d");x.drawImage(r,0,0,v,y);const k=x.getImageData(0,0,v,y),C={type:ft.STAMP,flags:["print"],pageIndex:e,id:rn(),created:new Date,rect:b};i.createAnnotation(e,C,{imageData:k}),i.setActiveVariant(null),i.selectAnnotation(e,C.id),g(null)}})]})};function mc({pageIndex:e,scale:t,pageWidth:n,pageHeight:o,rotation:i,selectionMenu:r,style:a,...l}){return He("div",{style:{...a},...l,children:[He(rc,{selectionMenu:r,pageIndex:e,scale:t,rotation:i,pageWidth:n,pageHeight:o}),He(ac,{pageIndex:e,scale:t}),He(lc,{pageIndex:e,scale:t,pageWidth:n,pageHeight:o}),He(sc,{pageIndex:e,scale:t,pageWidth:n,pageHeight:o}),He(cc,{pageIndex:e,scale:t,pageWidth:n,pageHeight:o}),He(hc,{pageIndex:e,scale:t,pageWidth:n,pageHeight:o}),He(dc,{pageIndex:e,scale:t,pageWidth:n,pageHeight:o}),He(uc,{pageIndex:e,scale:t,pageWidth:n,pageHeight:o}),He(pc,{pageIndex:e,scale:t,pageWidth:n,pageHeight:o}),He(gc,{pageIndex:e,scale:t,pageWidth:n,pageHeight:o})]})}var fc,vc=["position"],yc=function(){var e=v(Ce(!1),2),t=e[0],n=e[1],o=Ie(null),i=Ie(null);return Se(function(){if(t){var e=function(e){o.current&&!o.current.contains(e.target)&&n(!1)};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}}},[t]),Se(function(){t&&i.current&&i.current.scrollIntoView({block:"center",inline:"start"})},[t]),{open:t,setOpen:n,rootRef:o,selectedItemRef:i}},bc=function(e){var t=e.value,n=e.onChange,o=e.options,i=e.getOptionKey,r=e.renderValue,a=e.renderOption,l=e.triggerClass,s=void 0===l?"px-3 py-2":l,c=yc(),d=c.open,u=c.setOpen,h=c.rootRef,p=c.selectedItemRef;return B("div",{ref:h,class:"relative inline-block w-full"},B("button",{type:"button",class:"flex w-full items-center justify-between gap-2 rounded border border-gray-300 bg-white dark:border-gray-600 dark:bg-gray-800 ".concat(s),onClick:function(){return u(function(e){return!e})}},r(t),B("svg",{class:"h-4 w-4 text-gray-600 dark:text-gray-300",viewBox:"0 0 20 20",fill:"currentColor"},B("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z",clipRule:"evenodd"}))),d&&B("div",{class:"absolute z-10 mt-1 max-h-60 w-full overflow-y-auto rounded border bg-white p-1 shadow-lg dark:border-gray-600 dark:bg-gray-800"},o.map(function(e){var o=i(e)===i(t);return B("button",{ref:o?p:null,key:i(e),class:"block w-full rounded text-left hover:bg-gray-100 dark:hover:bg-gray-700 ".concat(o?"bg-gray-100 dark:bg-gray-700":""),onClick:function(){n(e),u(!1)}},a(e,o))})))},wc=function(e){var t=e.value,n=e.min,o=void 0===n?0:n,i=e.max,r=void 0===i?1:i,a=e.step,l=void 0===a?.1:a,s=e.onChange;return B("input",{type:"range",class:"range-sm mb-2 h-1 w-full cursor-pointer appearance-none rounded-lg bg-gray-200 dark:bg-gray-700",value:t,min:o,max:r,step:l,onInput:function(e){return s(parseFloat(e.target.value))}})},xc=function(e){var t=e.color,n=e.active,o=e.onSelect,i=function(e){return"transparent"===e||/^rgba\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*,\s*0\s*\)$/i.test(e)||/^#([0-9a-f]{8})$/i.test(e)&&"00"===e.slice(-2).toLowerCase()||/^#([0-9a-f]{4})$/i.test(e)&&"0"===e.slice(-1).toLowerCase()}(t)?{backgroundColor:"#fff",backgroundImage:"linear-gradient(45deg, transparent 40%, red 40%, red 60%, transparent 60%)",backgroundSize:"100% 100%"}:{backgroundColor:t};return B("button",{title:t,class:"h-5 w-5 rounded-full border border-gray-400 ".concat(n?"outline outline-2 outline-offset-2 outline-blue-500":""),style:i,onClick:function(){return o(t)}})},kc=[{id:kt.SOLID},{id:kt.DASHED,dash:[6,2]},{id:kt.DASHED,dash:[8,4]},{id:kt.DASHED,dash:[3,3]},{id:kt.DASHED,dash:[1,2]},{id:kt.DASHED,dash:[4,2,1,2]},{id:kt.DASHED,dash:[8,4,1,4]}],Cc=function(e){return B("svg",{width:"80",height:"8",viewBox:"0 0 80 8"},B("line",{x1:"0",y1:"4",x2:"80",y2:"4",style:{strokeDasharray:null==e?void 0:e.join(" "),stroke:"black",strokeWidth:"2"}}))},Sc=function(e){return B(bc,p(p({},e),{},{options:kc,getOptionKey:function(e){var t;return e.id+((null===(t=e.dash)||void 0===t?void 0:t.join("-"))||"")},renderValue:function(e){return Cc(e.dash)},renderOption:function(e){return B("div",{class:"px-1 py-2"},Cc(e.dash))}}))},Mc=[bt.None,bt.Square,bt.Circle,bt.Diamond,bt.OpenArrow,bt.ClosedArrow,bt.ROpenArrow,bt.RClosedArrow,bt.Butt,bt.Slash],Ic=function(e){var t,n=e.ending,o=e.position,i=s(s(s(s(s(s(s(s(s({},bt.Square,B("path",{d:"M68 -4 L76 -4 L76 4 L68 4 Z"})),bt.Circle,B("circle",{cx:"72",cy:"0",r:"4"})),bt.Diamond,B("path",{d:"M72 -5 L77 0 L72 5 L67 0 Z"})),bt.OpenArrow,B("path",{d:"M67 -5 L77 0 L67 5",fill:"none"})),bt.ClosedArrow,B("path",{d:"M67 -5 L77 0 L67 5 Z"})),bt.ROpenArrow,B("path",{d:"M77 -5 L67 0 L77 5",fill:"none"})),bt.RClosedArrow,B("path",{d:"M77 -5 L67 0 L77 5 Z"})),bt.Butt,B("path",{d:"M72 -5 L72 5",fill:"none"})),bt.Slash,B("path",{d:"M67 -5 L77 5",fill:"none"})),r=s(s(s(s(s(s(s(s(s({},bt.Square,68),bt.Circle,68),bt.Diamond,67),bt.OpenArrow,76),bt.ClosedArrow,67),bt.ROpenArrow,67),bt.RClosedArrow,67),bt.Butt,72),bt.Slash,72),a=i[n];return B("svg",{width:"80",height:"20",viewBox:"0 0 80 20",class:"text-black dark:text-white"},B("g",{transform:"start"===o?"rotate(180 40 10)":""},B("line",{x1:"4",y1:"10",x2:null!==(t=r[n])&&void 0!==t?t:77,y2:"10",stroke:"currentColor","stroke-width":"1.5"}),a&&B("g",{transform:"translate(0, 10)",fill:"currentColor",stroke:"currentColor","stroke-width":"1.5"},a)))},Pc=function(e){var t=e.position,n=g(e,vc);return B(bc,p(p({},n),{},{options:Mc,getOptionKey:function(e){return e},triggerClass:"px-3 py-1",renderValue:function(e){return B(Ic,{ending:e,position:t})},renderOption:function(e){return B("div",{class:"px-1 py-1"},B(Ic,{ending:e,position:t}))}}))},Ac=function(e){return B(bc,p(p({},e),{},{options:Xt,getOptionKey:function(e){return e},triggerClass:"px-2 py-1 text-sm",renderValue:function(e){return B("span",null,Kt(e))},renderOption:function(e){return B("div",{class:"px-2 py-1"},Kt(e))}}))},_c=function(e){var t=e.value,n=e.onChange,o=e.options,i=void 0===o?[8,9,10,11,12,14,16,18,24,36,48,72]:o,r=yc(),a=r.open,l=r.setOpen,s=r.rootRef,c=r.selectedItemRef;return B("div",{ref:s,class:"relative w-full"},B("input",{type:"number",min:"1",class:"w-full rounded border border-gray-300 bg-white px-2 py-1 pr-7 text-sm dark:border-gray-600 dark:bg-gray-800 dark:text-white",value:t,onInput:function(e){var t=parseInt(e.target.value,10);Number.isFinite(t)&&t>0&&n(t)},onClick:function(){return l(!0)}}),B("button",{type:"button",class:"absolute inset-y-0 right-1 flex items-center",onClick:function(){return l(function(e){return!e})},tabIndex:-1},B("svg",{class:"h-4 w-4 text-gray-600",viewBox:"0 0 20 20",fill:"currentColor"},B("path",{"fill-rule":"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z","clip-rule":"evenodd"}))),a&&B("div",{class:"absolute z-10 mt-1 max-h-48 w-full overflow-y-auto rounded border bg-white shadow-lg dark:border-gray-600 dark:bg-gray-800"},i.map(function(e){var o=e===t;return B("button",{ref:o?c:null,key:e,class:"block w-full px-2 py-1 text-left text-sm hover:bg-gray-100 dark:hover:bg-gray-700 ".concat(o?"bg-gray-100 dark:bg-gray-700":""),onClick:function(){n(e),l(!1)}},e)})))},Tc=function(e){var t,n,o,i,r=e.selected,a=e.subtype,l=e.activeVariant,s=e.intent,c=e.colorPresets,d=Os().provides;if(!d)return null;var u=null==r?void 0:r.object,h=d.getToolDefaultsBySubtypeAndIntent(a,s),p=!!u,g=p?u.color:null!==(t=null==h?void 0:h.color)&&void 0!==t?t:"#FFFF00",m=p?u.opacity:null!==(n=null==h?void 0:h.opacity)&&void 0!==n?n:1,f=p?null!==(o=u.blendMode)&&void 0!==o?o:gt.Normal:null!==(i=null==h?void 0:h.blendMode)&&void 0!==i?i:gt.Normal,y=v(Ce(g),2),b=y[0],w=y[1],x=v(Ce(m),2),k=x[0],C=x[1],S=v(Ce(f),2),M=S[0],I=S[1];Se(function(){return w(g)},[g]),Se(function(){return C(m)},[m]),Se(function(){return I(f)},[f]);var P=Ma(k,300);Se(function(){return _({opacity:P})},[P]);var A=function(e){w(e),_({color:e})};function _(e){d&&(p?d.updateAnnotation(u.pageIndex,u.id,e):l&&d.setToolDefaults(l,e))}return B(F,null,B("section",{class:"mb-6"},B("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Color"),B("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},c.map(function(e){return B(xc,{key:e,color:e,active:e===b,onSelect:A})}))),B("section",{class:"mb-6"},B("label",{class:"mb-1 block text-sm font-medium text-gray-900"},"Opacity"),B(wc,{value:k,min:.1,max:1,step:.05,onChange:C}),B("span",{class:"text-xs text-gray-500"},Math.round(100*k),"%")),B("section",{class:"mb-6"},B("label",{class:"mb-1 block text-sm font-medium text-gray-900"},"Blend mode"),B("select",{class:"w-full rounded border border-gray-300 bg-white px-2 py-1 text-sm",value:M,onChange:function(e){return t=parseInt(e.target.value,10),I(n=t),void _({blendMode:n});var t,n}},tn.map(function(e){return B("option",{key:e.value,value:e.value},e.label)}))))},Ec=function(e){var t,n,o,i,r,a=e.selected,l=e.subtype,s=e.intent,c=e.activeVariant,d=e.colorPresets,u=Os().provides;if(!u)return null;var h=null==a?void 0:a.object,p=u.getToolDefaultsBySubtypeAndIntent(l,s),g=!!h,m=g?h.color:null!==(t=null==p?void 0:p.color)&&void 0!==t?t:"#000000",f=g?h.strokeColor:null!==(n=null==p?void 0:p.strokeColor)&&void 0!==n?n:"#000000",y=g?h.opacity:null!==(o=null==p?void 0:p.opacity)&&void 0!==o?o:1,b=g?h.strokeWidth:null!==(i=null==p?void 0:p.strokeWidth)&&void 0!==i?i:2,w=g?{id:h.strokeStyle,dash:h.strokeDashArray}:{id:null!==(r=null==p?void 0:p.strokeStyle)&&void 0!==r?r:kt.SOLID,dash:null==p?void 0:p.strokeDashArray},x=v(Ce(m),2),k=x[0],C=x[1],S=v(Ce(f),2),M=S[0],I=S[1],P=v(Ce(y),2),A=P[0],_=P[1],T=v(Ce(b),2),E=T[0],N=T[1],z=v(Ce(w),2),R=z[0],L=z[1];Se(function(){return C(m)},[m]),Se(function(){return I(f)},[f]),Se(function(){return _(y)},[y]),Se(function(){return N(b)},[b]),Se(function(){return L(w)},[w]);var D=Ma(A,300),O=Ma(E,300);Se(function(){return $({opacity:D})},[D]),Se(function(){return $({strokeWidth:O})},[O]);var H=function(e){C(e),$({color:e})},j=function(e){I(e),$({strokeColor:e})};function $(e){u&&(g?u.updateAnnotation(h.pageIndex,h.id,e):c&&u.setToolDefaults(c,e))}return B(F,null,B("section",{class:"mb-6"},B("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Fill color"),B("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},d.map(function(e){return B(xc,{key:e,color:e,active:e===k,onSelect:H})}),B(xc,{color:"transparent",active:"transparent"===k,onSelect:H}))),B("section",{class:"mb-6"},B("label",{class:"mb-1 block text-sm font-medium text-gray-900"},"Opacity"),B(wc,{value:A,min:.1,max:1,step:.05,onChange:_}),B("span",{class:"text-xs text-gray-500"},Math.round(100*A),"%")),B("section",{class:"mb-6"},B("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Stroke color"),B("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},d.map(function(e){return B(xc,{key:e,color:e,active:e===M,onSelect:j})}))),B("section",{class:"mb-6"},B("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Stroke style"),B(Sc,{value:R,onChange:function(e){L(e),$({strokeStyle:e.id,strokeDashArray:e.dash})}})),B("section",{class:"mb-6"},B("label",{class:"mb-1 block text-sm font-medium text-gray-900"},"Stroke width"),B(wc,{value:E,min:1,max:30,step:1,onChange:N}),B("span",{class:"text-xs text-gray-500"},E,"px")))},Nc=function(e){var t,n,o,i,r,a,l,s=e.selected,c=e.subtype,d=e.intent,u=e.activeVariant,h=e.colorPresets,p=Os().provides;if(!p)return null;var g=null==s?void 0:s.object,m=p.getToolDefaultsBySubtypeAndIntent(c,d),f=!!g,y=f?g.color:null!==(t=null==m?void 0:m.color)&&void 0!==t?t:"#000000",b=f?g.strokeColor:null!==(n=null==m?void 0:m.strokeColor)&&void 0!==n?n:"#000000",w=f?g.opacity:null!==(o=null==m?void 0:m.opacity)&&void 0!==o?o:1,x=f?g.strokeWidth:null!==(i=null==m?void 0:m.strokeWidth)&&void 0!==i?i:2,k=f?null!==(r=g.lineEndings)&&void 0!==r?r:{start:bt.None,end:bt.None}:null!==(a=null==m?void 0:m.lineEndings)&&void 0!==a?a:{start:bt.None,end:bt.None},C=f?{id:g.strokeStyle,dash:g.strokeDashArray}:{id:null!==(l=null==m?void 0:m.strokeStyle)&&void 0!==l?l:kt.SOLID,dash:null==m?void 0:m.strokeDashArray},S=v(Ce(y),2),M=S[0],I=S[1],P=v(Ce(b),2),A=P[0],_=P[1],T=v(Ce(w),2),E=T[0],N=T[1],z=v(Ce(x),2),R=z[0],L=z[1],D=v(Ce(C),2),O=D[0],H=D[1],j=v(Ce(k.start),2),$=j[0],U=j[1],W=v(Ce(k.end),2),G=W[0],V=W[1];Se(function(){return I(y)},[y]),Se(function(){return _(b)},[b]),Se(function(){return N(w)},[w]),Se(function(){return L(x)},[x]),Se(function(){return H(C)},[C]),Se(function(){return U(k.start)},[k.start]),Se(function(){return V(k.end)},[k.end]);var q=Ma(E,300),Z=Ma(R,300);Se(function(){return K({opacity:q})},[q]),Se(function(){return K({strokeWidth:Z})},[Z]);var Y=function(e){I(e),K({color:e})},X=function(e){_(e),K({strokeColor:e})};function K(e){p&&(f?p.updateAnnotation(g.pageIndex,g.id,e):u&&p.setToolDefaults(u,e))}return B(F,null,B("section",{class:"mb-6"},B("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Stroke color"),B("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},h.map(function(e){return B(xc,{key:e,color:e,active:e===A,onSelect:X})}),B(xc,{color:"transparent",active:"transparent"===A,onSelect:X}))),B("section",{class:"mb-6"},B("label",{class:"mb-1 block text-sm font-medium text-gray-900"},"Opacity"),B(wc,{value:E,min:.1,max:1,step:.05,onChange:N}),B("span",{class:"text-xs text-gray-500"},Math.round(100*E),"%")),B("section",{class:"mb-6"},B("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Stroke style"),B(Sc,{value:O,onChange:function(e){H(e),K({strokeStyle:e.id,strokeDashArray:e.dash})}})),B("section",{class:"mb-6"},B("label",{class:"mb-1 block text-sm font-medium text-gray-900"},"Stroke width"),B(wc,{value:R,min:1,max:10,step:1,onChange:L}),B("span",{class:"text-xs text-gray-500"},R)),B("section",{class:"mb-6"},B("div",{class:"grid grid-cols-2 gap-4"},B("div",null,B("label",{class:"mb-3 block text-sm font-medium text-gray-900 dark:text-gray-200"},"Line start"),B(Pc,{value:$,onChange:function(e){U(e),K({lineEndings:{start:e,end:G}})},position:"start"})),B("div",null,B("label",{class:"mb-3 block text-sm font-medium text-gray-900 dark:text-gray-200"},"Line end"),B(Pc,{value:G,onChange:function(e){V(e),K({lineEndings:{start:$,end:e}})},position:"end"})))),B("section",{class:"mb-6"},B("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Fill color"),B("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},h.map(function(e){return B(xc,{key:e,color:e,active:e===M,onSelect:Y})}),B(xc,{color:"transparent",active:"transparent"===M,onSelect:Y}))))},zc=(s(s(s(s(s(s(s(s(s(s(fc={},ft.INK,{component:function(e){var t,n,o,i,r,a,l=e.selected,s=e.subtype,c=e.intent,d=e.activeVariant,u=e.colorPresets,h=Os().provides;if(!h)return null;var p=null==l?void 0:l.object,g=h.getToolDefaultsBySubtypeAndIntent(s,c),m=null!==(t=null!==(n=null==p?void 0:p.color)&&void 0!==n?n:null==g?void 0:g.color)&&void 0!==t?t:"#000000",f=null!==(o=null!==(i=null==p?void 0:p.opacity)&&void 0!==i?i:null==g?void 0:g.opacity)&&void 0!==o?o:1,y=null!==(r=null!==(a=null==p?void 0:p.strokeWidth)&&void 0!==a?a:null==g?void 0:g.strokeWidth)&&void 0!==r?r:2,b=v(Ce(m),2),w=b[0],x=b[1],k=v(Ce(f),2),C=k[0],S=k[1],M=v(Ce(y),2),I=M[0],P=M[1];Se(function(){return x(m)},[m]),Se(function(){return S(f)},[f]),Se(function(){return P(y)},[y]);var A=Ma(C,300),_=Ma(I,300);Se(function(){return E({opacity:A})},[A]),Se(function(){return E({strokeWidth:_})},[_]);var T=function(e){x(e),E({color:e})};function E(e){h&&(p?h.updateAnnotation(p.pageIndex,p.id,e):d&&h.setToolDefaults(d,e))}return B(F,null,B("section",{class:"mb-6"},B("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Color"),B("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},u.map(function(e){return B(xc,{key:e,color:e,active:e===w,onSelect:T})}))),B("section",{class:"mb-6"},B("label",{class:"mb-1 block text-sm font-medium text-gray-900"},"Opacity"),B(wc,{value:C,min:.1,max:1,step:.05,onChange:S}),B("span",{class:"text-xs text-gray-500"},Math.round(100*C),"%")),B("section",{class:"mb-6"},B("label",{class:"mb-1 block text-sm font-medium text-gray-900"},"Stroke width"),B(wc,{value:I,min:1,max:30,step:1,onChange:P}),B("span",{class:"text-xs text-gray-500"},I,"px")))},title:"Ink"}),ft.POLYGON,{component:function(e){var t,n,o,i,r,a=e.selected,l=e.subtype,s=e.intent,c=e.activeVariant,d=e.colorPresets,u=Os().provides;if(!u)return null;var h=null==a?void 0:a.object,p=u.getToolDefaultsBySubtypeAndIntent(l,s),g=!!h,m=g?h.color:null!==(t=null==p?void 0:p.color)&&void 0!==t?t:"#000000",f=g?h.strokeColor:null!==(n=null==p?void 0:p.strokeColor)&&void 0!==n?n:"#000000",y=g?h.opacity:null!==(o=null==p?void 0:p.opacity)&&void 0!==o?o:1,b=g?h.strokeWidth:null!==(i=null==p?void 0:p.strokeWidth)&&void 0!==i?i:2,w=g?{id:h.strokeStyle,dash:h.strokeDashArray}:{id:null!==(r=null==p?void 0:p.strokeStyle)&&void 0!==r?r:kt.SOLID,dash:null==p?void 0:p.strokeDashArray},x=v(Ce(m),2),k=x[0],C=x[1],S=v(Ce(f),2),M=S[0],I=S[1],P=v(Ce(y),2),A=P[0],_=P[1],T=v(Ce(b),2),E=T[0],N=T[1],z=v(Ce(w),2),R=z[0],L=z[1];Se(function(){return C(m)},[m]),Se(function(){return I(f)},[f]),Se(function(){return _(y)},[y]),Se(function(){return N(b)},[b]),Se(function(){return L(w)},[w]);var D=Ma(A,300),O=Ma(E,300);Se(function(){return $({opacity:D})},[D]),Se(function(){return $({strokeWidth:O})},[O]);var H=function(e){C(e),$({color:e})},j=function(e){I(e),$({strokeColor:e})};function $(e){u&&(g?u.updateAnnotation(h.pageIndex,h.id,e):c&&u.setToolDefaults(c,e))}return B(F,null,B("section",{class:"mb-6"},B("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Stroke color"),B("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},d.map(function(e){return B(xc,{key:e,color:e,active:e===M,onSelect:j})}),B(xc,{color:"transparent",active:"transparent"===M,onSelect:j}))),B("section",{class:"mb-6"},B("label",{class:"mb-1 block text-sm font-medium text-gray-900"},"Opacity"),B(wc,{value:A,min:.1,max:1,step:.05,onChange:_}),B("span",{class:"text-xs text-gray-500"},Math.round(100*A),"%")),B("section",{class:"mb-6"},B("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Stroke style"),B(Sc,{value:R,onChange:function(e){L(e),$({strokeStyle:e.id,strokeDashArray:e.dash})}})),B("section",{class:"mb-6"},B("label",{class:"mb-1 block text-sm font-medium text-gray-900"},"Stroke width"),B(wc,{value:E,min:1,max:10,step:1,onChange:N}),B("span",{class:"text-xs text-gray-500"},E)),B("section",{class:"mb-6"},B("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Fill color"),B("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},d.map(function(e){return B(xc,{key:e,color:e,active:e===k,onSelect:H})}),B(xc,{color:"transparent",active:"transparent"===k,onSelect:H}))))},title:"Polygon"}),ft.SQUARE,{component:Ec,title:"Square"}),ft.CIRCLE,{component:Ec,title:"Circle"}),ft.LINE,{component:Nc,title:function(e){return"LineArrow"===e.intent?"Arrow line":"Line"}}),ft.POLYLINE,{component:Nc,title:"Polyline"}),ft.HIGHLIGHT,{component:Tc,title:"Highlight"}),ft.UNDERLINE,{component:Tc,title:"Underline"}),ft.STRIKEOUT,{component:Tc,title:"Strike-out"}),ft.SQUIGGLY,{component:Tc,title:"Squiggly"}),s(s(fc,ft.FREETEXT,{component:function(e){var t=e.selected,n=e.subtype,o=e.activeVariant,i=e.intent,r=e.colorPresets,a=Os().provides;if(!a)return null;var l=null==t?void 0:t.object,s=a.getToolDefaultsBySubtypeAndIntent(n,i),c=!!l,d=c?l.fontFamily:s.fontFamily,u=Vt(d).family,h=qt(d),p=Zt(d),g=c?l.fontColor:s.fontColor,m=c?l.opacity:s.opacity,f=c?l.backgroundColor:s.backgroundColor,y=c?l.fontSize:s.fontSize,b=c?l.textAlign:s.textAlign,w=c?l.verticalAlign:s.verticalAlign,x=v(Ce(u),2),k=x[0],C=x[1],S=v(Ce(y),2),M=S[0],I=S[1],P=v(Ce(h),2),A=P[0],_=P[1],T=v(Ce(p),2),E=T[0],N=T[1],z=v(Ce(b),2),R=z[0],L=z[1],D=v(Ce(w),2),O=D[0],H=D[1],j=v(Ce(g),2),$=j[0],U=j[1],W=v(Ce(m),2),G=W[0],V=W[1],q=v(Ce(f),2),Z=q[0],Y=q[1];function X(e){a&&(c?a.updateAnnotation(l.pageIndex,l.id,e):o&&a.setToolDefaults(o,e))}Se(function(){C(u),_(h),N(p)},[u,h,p]),Se(function(){return U(g)},[g]),Se(function(){return V(m)},[m]),Se(function(){return Y(f)},[f]),Se(function(){return I(y)},[y]),Se(function(){return L(b)},[b]),Se(function(){return H(w)},[w]);var K=Ma(G,300),Q=Ma(Z,300);Se(function(){return X({opacity:K})},[K]),Se(function(){return X({backgroundColor:Q})},[Q]);var J=function(e){U(e),X({fontColor:e})},ee=function(e){Y(e),X({backgroundColor:e})},te=function(e,t,n){X({fontFamily:Yt(e,{bold:t,italic:n})})},ne=function(e){L(e),X({textAlign:e})},oe=function(e){H(e),X({verticalAlign:e})};return B(F,null,B("section",{class:"mb-6"},B("label",{class:"mb-2 block text-sm font-medium text-gray-900"},"Font"),B("div",{class:"mb-3 flex gap-2"},B(Ac,{value:k,onChange:function(e){var t=qt(Yt(e,{bold:!0,italic:!1})),n=Zt(Yt(e,{bold:!1,italic:!0})),o=!!t&&A,i=!!n&&E;C(e),_(o),N(i),te(e,o,i)}}),B("div",{class:"w-36"},B(_c,{value:M,onChange:function(e){!Number.isFinite(e)||e<=0||(I(e),X({fontSize:e}))}}))),B("div",{class:"flex gap-2"},B("button",{type:"button",title:"Bold",disabled:!qt(Yt(k,{bold:!0,italic:!1})),onClick:function(){if(qt(Yt(k,{bold:!0,italic:!1}))){var e=!A;_(e),te(k,e,E)}},class:"h-9 w-9 rounded border border-gray-300 px-2 py-1 text-sm font-bold ".concat(A?"bg-blue-600 text-white":"bg-white text-gray-900"," disabled:opacity-40")},B(Kr,{icon:"bold"})),B("button",{type:"button",title:"Italic",disabled:!Zt(Yt(k,{bold:!1,italic:!0})),onClick:function(){if(Zt(Yt(k,{bold:!1,italic:!0}))){var e=!E;N(e),te(k,A,e)}},class:"h-9 w-9 rounded border border-gray-300 px-2 py-1 text-sm italic ".concat(E?"bg-blue-600 text-white":"bg-white text-gray-900"," disabled:opacity-40")},B(Kr,{icon:"italic"})))),B("section",{class:"mb-6"},B("label",{class:"mb-2 block text-sm font-medium text-gray-900"},"Text alignment"),B("div",{class:"flex gap-2"},B("button",{type:"button",title:"Align left",onClick:function(){return ne(ht.Left)},class:"h-9 w-9 rounded border border-gray-300 px-2 py-1 text-sm ".concat(R===ht.Left?"bg-blue-600 text-white":"bg-white text-gray-900"," disabled:opacity-40")},B(Kr,{icon:"alignLeft"})),B("button",{type:"button",title:"Align center",onClick:function(){return ne(ht.Center)},class:"h-9 w-9 rounded border border-gray-300 px-2 py-1 text-sm ".concat(R===ht.Center?"bg-blue-600 text-white":"bg-white text-gray-900"," disabled:opacity-40")},B(Kr,{icon:"alignCenter"})),B("button",{type:"button",title:"Align right",onClick:function(){return ne(ht.Right)},class:"h-9 w-9 rounded border border-gray-300 px-2 py-1 text-sm ".concat(R===ht.Right?"bg-blue-600 text-white":"bg-white text-gray-900"," disabled:opacity-40")},B(Kr,{icon:"alignRight"})))),B("section",{class:"mb-6"},B("label",{class:"mb-2 block text-sm font-medium text-gray-900"},"Vertical alignment"),B("div",{class:"flex gap-2"},B("button",{type:"button",title:"Align top",onClick:function(){return oe(pt.Top)},class:"h-9 w-9 rounded border border-gray-300 px-2 py-1 text-sm ".concat(O===pt.Top?"bg-blue-600 text-white":"bg-white text-gray-900"," disabled:opacity-40")},B(Kr,{icon:"alignTop"})),B("button",{type:"button",title:"Align middle",onClick:function(){return oe(pt.Middle)},class:"h-9 w-9 rounded border border-gray-300 px-2 py-1 text-sm ".concat(O===pt.Middle?"bg-blue-600 text-white":"bg-white text-gray-900"," disabled:opacity-40")},B(Kr,{icon:"alignMiddle"})),B("button",{type:"button",title:"Align bottom",onClick:function(){return oe(pt.Bottom)},class:"h-9 w-9 rounded border border-gray-300 px-2 py-1 text-sm ".concat(O===pt.Bottom?"bg-blue-600 text-white":"bg-white text-gray-900"," disabled:opacity-40")},B(Kr,{icon:"alignBottom"})))),B("section",{class:"mb-6"},B("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Font colour"),B("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},r.map(function(e){return B(xc,{key:e,color:e,active:e===$,onSelect:J})}))),B("section",{class:"mb-6"},B("label",{class:"mb-3 block text-sm font-medium text-gray-900"},"Background colour"),B("div",{class:"grid grid-cols-6 gap-x-1 gap-y-4"},r.map(function(e){return B(xc,{key:e,color:e,active:e===Z,onSelect:ee})}),B(xc,{color:"transparent",active:"transparent"===Z,onSelect:ee}))),B("section",{class:"mb-6"},B("label",{class:"mb-1 block text-sm font-medium text-gray-900"},"Opacity"),B(wc,{value:G,min:.1,max:1,step:.05,onChange:V}),B("span",{class:"text-xs text-gray-500"},Math.round(100*G),"%")))},title:"Free text"}),ft.STAMP,{component:function(e){return B("div",{className:"text-sm text-gray-500"},"There are no styles for stamps.")},title:"Stamp"})),Rc=function(){return B("div",{class:"flex flex-col items-center gap-2 p-4 text-gray-500"},B(Kr,{icon:"palette",className:"h-18 w-18 text-gray-500"}),B("div",{className:"max-w-[150px] text-center text-sm text-gray-500"},"Select an annotation to see styles"))};function Lc(e){var t=e.selectedAnnotation,n=e.activeVariant,o=e.colorPresets,i=Os().provides;if(!i)return null;var r=void 0,a=null;if(t)a=t.object.type,r=t.object.intent;else if(n){var l=i.getSubtypeAndIntentByVariant(n);a=l.subtype,r=l.intent}if(null==a)return He(Rc,{});var s=zc[a];if(!s)return He(Rc,{});var c=s.component,d=s.title,u={selected:t,subtype:a,activeVariant:n,colorPresets:o,intent:r},h="function"==typeof d?d(u):d;return He("div",{class:"h-full overflow-y-auto p-4",children:[h&&He("h2",{class:"text-md mb-4 font-medium",children:[h," ",t?"styles":"defaults"]}),He(c,p({},u))]})}function Dc({pageIndex:e,scaleFactor:t=1,dpr:n=1,style:o,...i}){const{provides:r}=jn(nl.id),[a,l]=Ce(null),s=Ie(null);return Se(()=>{if(r){const o=r.renderPage({pageIndex:e,scaleFactor:t,dpr:n});return o.wait(e=>{const t=URL.createObjectURL(e);l(t),s.current=t},an),()=>{s.current?(URL.revokeObjectURL(s.current),s.current=null):o.abort({code:_t.Cancelled,message:"canceled render task"})}}},[e,t,n,r]),He(F,{children:a&&He("img",{src:a,onLoad:()=>{s.current&&(URL.revokeObjectURL(s.current),s.current=null)},...i,style:{width:"100%",height:"100%",...o||{}}})})}const Oc="rotate",Hc={id:Oc,name:"Rotate Plugin",version:"1.0.0",provides:["rotate"],requires:["loader"],optional:["spread"],defaultConfig:{enabled:!0}},jc=class extends In{constructor(e,t,n){super(e,t),this.rotate$=Rn(),this.resetReady();const o=n.defaultRotation??this.coreState.core.rotation;this.setRotation(o),this.markReady()}async initialize(e){}setRotation(e){if(!this.coreState.core.pages)throw new Error("Pages not loaded");this.dispatchCoreAction((e=>({type:vn,payload:e}))(e))}rotateForward(){const e=(this.coreState.core.rotation+1)%4;this.setRotation(e)}rotateBackward(){const e=(this.coreState.core.rotation+3)%4;this.setRotation(e)}buildCapability(){return{onRotateChange:this.rotate$.on,setRotation:e=>this.setRotation(e),getRotation:()=>this.coreState.core.rotation,rotateForward:()=>this.rotateForward(),rotateBackward:()=>this.rotateBackward(),getMatrix:({w:e=0,h:t=0,asString:n=!0}={})=>function(e,t,n,o=!0){let i=1,r=0,a=0,l=1,s=0,c=0;switch(e){case 1:i=0,r=1,a=-1,l=0,s=n;break;case 2:i=-1,r=0,a=0,l=-1,s=t,c=n;break;case 3:i=0,r=-1,a=1,l=0,c=t}return o?`matrix(${i},${r},${a},${l},${s},${c})`:[i,r,a,l,s,c]}(this.coreState.core.rotation,e,t,n)}}async destroy(){this.rotate$.clear(),super.destroy()}};jc.id="rotate";let Bc=jc;const $c={manifest:Hc,create:(e,t,n)=>new Bc(Oc,e,n),reducer:()=>{},initialState:{}};function Fc({children:e,pageSize:t,...n}){const{provides:o}=jn(Bc.id);return He("div",{...n,style:{position:"absolute",transformOrigin:"0 0",transform:(null==o?void 0:o.getMatrix({w:t.width,h:t.height}))||"matrix(1, 0, 0, 1, 0, 0)"},children:e})}const Uc="tiling",Wc={id:Uc,name:"Tiling Plugin",version:"1.0.0",provides:["tiling"],requires:["render","scroll","viewport"],optional:[],defaultConfig:{enabled:!0,tileSize:768,overlapPx:2.5,extraRings:0}},Gc="UPDATE_VISIBLE_TILES",Vc="MARK_TILE_STATUS",qc=e=>({type:Gc,payload:e}),Zc=(e,t,n)=>({type:Vc,payload:{pageIndex:e,tileId:t,status:n}});function Yc({tileSize:e=768,overlapPx:t=2.5,extraRings:n=0,scale:o,rotation:i,page:r,metric:a}){const l=r.size.width*o,s=r.size.height*o,c=e-t,d=function(e,t,n){return Qe(Ke(e,t,(4-n)%4),1)}(We(r.size,i,o),{origin:{x:a.scaled.pageX,y:a.scaled.pageY},size:{width:a.scaled.visibleWidth,height:a.scaled.visibleHeight}},i),u=d.origin.x,h=d.origin.y,p=u+d.size.width,g=h+d.size.height,m=Math.floor((l-1)/c),f=Math.floor((s-1)/c),v=Math.max(0,Math.floor(u/c)-n),y=Math.min(m,Math.floor((p-1)/c)+n),b=Math.max(0,Math.floor(h/c)-n),w=Math.min(f,Math.floor((g-1)/c)+n),x=[];for(let t=v;t<=y;t++){const n=t*c,i=Math.min(e,l-n),a=n/o,d=i/o;for(let l=b;l<=w;l++){const u=l*c,h=Math.min(e,s-u),p=u/o,g=h/o;x.push({id:`p${r.index}-${o}-x${n}-y${u}-w${i}-h${h}`,col:t,row:l,pageRect:{origin:{x:a,y:p},size:{width:d,height:g}},screenRect:{origin:{x:n,y:u},size:{width:i,height:h}},status:"queued",srcScale:o,isFallback:!1})}}return x}const Xc=class extends In{constructor(e,t,n){super(e,t),this.tileRendering$=Rn(),this.config=n,this.renderCapability=this.registry.getPlugin("render").provides(),this.scrollCapability=this.registry.getPlugin("scroll").provides(),this.viewportCapability=this.registry.getPlugin("viewport").provides(),this.scrollCapability.onScroll(e=>this.calculateVisibleTiles(e),{mode:"throttle",wait:500,throttleMode:"trailing"})}async initialize(){}onCoreStoreUpdated(e,t){e.core.scale!==t.core.scale&&this.calculateVisibleTiles(this.scrollCapability.getMetrics(this.viewportCapability.getMetrics()))}calculateVisibleTiles(e){var t;if(!this.config.enabled)return void this.dispatch(qc([]));const n=this.coreState.core.scale,o=this.coreState.core.rotation,i={};for(const r of e.pageVisibilityMetrics){const e=r.pageNumber-1,a=null==(t=this.coreState.core.document)?void 0:t.pages[e];if(!a)continue;const l=Yc({page:a,metric:r,scale:n,rotation:o,tileSize:this.config.tileSize,overlapPx:this.config.overlapPx,extraRings:this.config.extraRings});i[e]=l}this.dispatch(qc(i))}onStoreUpdated(e,t){this.tileRendering$.emit(t.visibleTiles)}buildCapability(){return{renderTile:this.renderTile.bind(this),onTileRendering:this.tileRendering$.on}}renderTile(e){if(!this.renderCapability)throw new Error("Render capability not available.");this.dispatch(Zc(e.pageIndex,e.tile.id,"rendering"));const t=this.renderCapability.renderPageRect({pageIndex:e.pageIndex,rect:e.tile.pageRect,scaleFactor:e.tile.srcScale,dpr:e.dpr});return t.wait(()=>{this.dispatch(Zc(e.pageIndex,e.tile.id,"ready"))},an),t}};Xc.id="tiling";let Kc=Xc;const Qc={manifest:Wc,create:(e,t,n)=>new Kc(Uc,e,n),reducer:(e,t)=>((e,t)=>{var n,o;switch(t.type){case Gc:{const o=t.payload,i={...e.visibleTiles};for(const e in o){const t=Number(e),r=o[t],a=i[t]??[],l=null==(n=a.find(e=>!e.isFallback))?void 0:n.srcScale,s=r[0].srcScale;if(void 0!==l&&l!==s){const e=a.filter(e=>!e.isFallback&&"ready"===e.status).map(e=>({...e,isFallback:!0})),n=e.length>0?[]:a.filter(e=>e.isFallback);i[t]=[...n,...e,...r]}else{const e=new Set(r.map(e=>e.id)),n=[],o=new Set;for(const t of a)(t.isFallback||e.has(t.id))&&(n.push(t),o.add(t.id));for(const e of r)o.has(e.id)||n.push(e);i[t]=n}}return{...e,visibleTiles:i}}case Vc:{const{pageIndex:n,tileId:i,status:r}=t.payload,a=(null==(o=e.visibleTiles[n])?void 0:o.map(e=>e.id===i?{...e,status:r}:e))??[],l=a.filter(e=>!e.isFallback),s=l.every(e=>"ready"===e.status),c=s?l:a;return{...e,visibleTiles:{...e.visibleTiles,[n]:c}}}default:return e}})(e,t),initialState:{visibleTiles:{}}},Jc=()=>jn(Kc.id);function ed({pageIndex:e,tile:t,dpr:n,scale:o}){const{provides:i}=Jc(),[r,a]=Ce(),l=Ie(null),s=o/t.srcScale;return Se(()=>{if("ready"===t.status&&l.current)return;if(!i)return;const o=i.renderTile({pageIndex:e,tile:t,dpr:n});return o.wait(e=>{const t=URL.createObjectURL(e);l.current=t,a(t)},an),()=>{l.current?(URL.revokeObjectURL(l.current),l.current=null):o.abort({code:_t.Cancelled,message:"canceled render task"})}},[e,t.id]),r?He("img",{src:r,onLoad:()=>{l.current&&(URL.revokeObjectURL(l.current),l.current=null)},style:{position:"absolute",left:t.screenRect.origin.x*s,top:t.screenRect.origin.y*s,width:t.screenRect.size.width*s,height:t.screenRect.size.height*s,display:"block"}}):null}function td({pageIndex:e,scale:t,style:n,...o}){const{provides:i}=Jc(),[r,a]=Ce([]);return Se(()=>{if(i)return i.onTileRendering(t=>a(t[e]))},[i]),He("div",{style:{...n},...o,children:null==r?void 0:r.map(n=>He(ed,{pageIndex:e,tile:n,dpr:window.devicePixelRatio,scale:t},n.id))})}function nd(e){var t=e.size,n=void 0===t?"md":t,o=e.className,i=void 0===o?"":o,r=e.text,a=void 0===r?"Loading...":r,l={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};return B("div",{className:"flex flex-col items-center justify-center gap-3 ".concat(i)},B("div",{className:"relative"},B("div",{className:"".concat(l[n]," animate-spin rounded-full border-4 border-gray-200")}),B("div",{className:"".concat(l[n]," absolute left-0 top-0 animate-spin rounded-full border-4 border-transparent border-r-blue-500 border-t-blue-500")})),a&&B("p",{className:"".concat({sm:"text-sm",md:"text-base",lg:"text-lg"}[n]," animate-pulse font-medium text-gray-600")},a))}const od="fullscreen",id={id:od,name:"Fullscreen Plugin",version:"1.0.0",provides:["fullscreen"],requires:[],optional:[],defaultConfig:{enabled:!0}},rd="SET_FULLSCREEN",ad=class extends In{constructor(e,t){super(e,t),this.onStateChange$=Rn(),this.fullscreenRequest$=zn()}async initialize(e){}buildCapability(){return{isFullscreen:()=>this.state.isFullscreen,enableFullscreen:()=>this.enableFullscreen(),exitFullscreen:()=>this.exitFullscreen(),toggleFullscreen:()=>this.toggleFullscreen(),onRequest:this.fullscreenRequest$.on,onStateChange:this.onStateChange$.on}}toggleFullscreen(){this.state.isFullscreen?this.exitFullscreen():this.enableFullscreen()}enableFullscreen(){this.fullscreenRequest$.emit("enter")}exitFullscreen(){this.fullscreenRequest$.emit("exit")}onStoreUpdated(e,t){this.onStateChange$.emit(t)}setFullscreenState(e){this.dispatch({type:rd,payload:e})}async destroy(){this.fullscreenRequest$.clear(),super.destroy()}};ad.id="fullscreen";let ld=ad;const sd={manifest:id,create:e=>new ld(od,e),reducer:(e,t)=>t.type===rd?{...e,isFullscreen:t.payload}:e,initialState:{isFullscreen:!1}};function cd({children:e,...t}){const{provides:n}=jn(ld.id),{plugin:o}=Hn(ld.id),i=Ie(null);return Se(()=>{if(n)return n.onRequest(async e=>{if("enter"===e){const e=i.current;e&&!document.fullscreenElement&&await e.requestFullscreen()}else document.fullscreenElement&&await document.exitFullscreen()})},[n]),Se(()=>{if(!o)return;const e=()=>o.setFullscreenState(!!document.fullscreenElement);return document.addEventListener("fullscreenchange",e),()=>document.removeEventListener("fullscreenchange",e)},[o]),He("div",{...t,style:{position:"relative",width:"100%",height:"100%",...t.style},ref:i,children:e})}const dd=class extends In{constructor(e,t,n){super(e,t),this.downloadRequest$=zn(),this.engine=n}async initialize(e){}buildCapability(){return{saveAsCopy:this.saveAsCopy.bind(this),download:this.download.bind(this),onRequest:this.downloadRequest$.on}}download(){this.downloadRequest$.emit("download")}saveAsCopy(){const e=this.coreState.core.document;return e?this.engine.saveAsCopy(e):Tt.reject({code:_t.DocNotOpen,message:"Document not found"})}};dd.id="export";let ud=dd;const hd="export",pd={manifest:{id:hd,name:"Export Plugin",version:"1.0.0",provides:["export"],requires:[],optional:[],defaultConfig:{enabled:!0}},create:(e,t)=>new ud(hd,e,t),reducer:()=>{},initialState:{}};function gd(){const{provides:e}=jn(ud.id),t=Ie(null);return Se(()=>{if(e)return e.onRequest(async n=>{if("download"===n){const n=t.current;if(!n)return;e.saveAsCopy().wait(e=>{const t=URL.createObjectURL(new Blob([e]));n.href=t,n.download="document.pdf",n.click(),URL.revokeObjectURL(t)},an)}})},[e]),He("a",{style:{display:"none"},ref:t})}const md=class extends In{constructor(e,t,n){var o;super(e,t),this.config=n,this.interactionManager=null==(o=t.getPlugin(Rr.id))?void 0:o.provides(),this.interactionManager.registerMode({id:"panMode",scope:"global",exclusive:!1,cursor:"grab",wantsRawTouch:!1}),"always"===n.defaultMode&&this.makePanDefault(!0)}async initialize(e){}makePanDefault(e=!0){this.interactionManager.setDefaultMode("panMode"),e&&this.interactionManager.activateDefaultMode()}buildCapability(){return{makePanDefault:(e=!0)=>this.makePanDefault(e),enablePan:()=>this.interactionManager.activate("panMode"),disablePan:()=>this.interactionManager.activateDefaultMode(),togglePan:()=>{"panMode"===this.interactionManager.getActiveMode()?this.interactionManager.activateDefaultMode():this.interactionManager.activate("panMode")}}}};md.id="pan";let fd=md;const vd={manifest:{id:"pan",name:"Pan Plugin",version:"1.0.0",provides:["pan"],requires:["interaction-manager"],optional:[],defaultConfig:{enabled:!0,defaultMode:"mobile"}},create:(e,t,n)=>new fd("pan",e,n),reducer:()=>{},initialState:{}},yd=()=>{const{register:e}=Br({modeId:"panMode"}),{setCursor:t,removeCursor:n}=jr(),{provides:o}=Kn(),{provides:i}=jn(fd.id),{plugin:r}=Hn(fd.id),a=Ie(null);Se(()=>{var e;if(!i||!r)return;const t=(null==(e=r.config)?void 0:e.defaultMode)??"never",n="undefined"!=typeof window&&("ontouchstart"in window||navigator.maxTouchPoints>0);"mobile"===t&&n&&i.makePanDefault()},[i,r]);const l=Pe(()=>({onMouseDown:(e,n)=>{if(!o)return;const i=o.getMetrics();a.current={startX:n.clientX,startY:n.clientY,startLeft:i.scrollLeft,startTop:i.scrollTop},t("panMode","grabbing",10)},onMouseMove:(e,t)=>{const n=a.current;if(!n||!o)return;const i=t.clientX-n.startX,r=t.clientY-n.startY;o.scrollTo({x:n.startLeft-i,y:n.startTop-r})},onMouseUp:()=>{a.current&&(a.current=null,n("panMode"))},onMouseLeave:()=>{a.current&&(a.current=null,n("panMode"))},onMouseCancel:()=>{a.current&&(a.current=null,n("panMode"))}}),[o,t,n]);return Se(()=>{if(e)return e(l)},[e,l]),He(F,{})},bd="capture",wd={id:bd,name:"Capture Plugin",version:"1.0.0",provides:["capture"],requires:["render","interaction-manager"],optional:[],defaultConfig:{enabled:!0,scale:1,imageType:"image/png",withAnnotations:!1}},xd=class extends In{constructor(e,t,n){super(e,t),this.captureArea$=zn(),this.config=n,this.renderCapability=this.registry.getPlugin("render").provides(),this.interactionManagerCapability=this.registry.getPlugin("interaction-manager").provides(),this.interactionManagerCapability.registerMode({id:"marqueeCapture",scope:"page",exclusive:!0,cursor:"crosshair"})}async initialize(e){}buildCapability(){return{onCaptureArea:this.captureArea$.on,captureArea:this.captureArea.bind(this),enableMarqueeCapture:this.enableMarqueeCapture.bind(this),disableMarqueeCapture:this.disableMarqueeCapture.bind(this),toggleMarqueeCapture:this.toggleMarqueeCapture.bind(this),isMarqueeCaptureActive:()=>{var e;return"marqueeCapture"===(null==(e=this.interactionManagerCapability)?void 0:e.getActiveMode())}}}captureArea(e,t){this.disableMarqueeCapture(),this.renderCapability.renderPageRect({pageIndex:e,rect:t,imageType:this.config.imageType,scaleFactor:this.config.scale,options:{withAnnotations:this.config.withAnnotations||!1}}).wait(n=>{this.captureArea$.emit({pageIndex:e,rect:t,blob:n,imageType:this.config.imageType||"image/png",scale:this.config.scale||1,withAnnotations:this.config.withAnnotations||!1})},an)}enableMarqueeCapture(){var e;null==(e=this.interactionManagerCapability)||e.activate("marqueeCapture")}disableMarqueeCapture(){var e;null==(e=this.interactionManagerCapability)||e.activateDefaultMode()}toggleMarqueeCapture(){var e,t,n;"marqueeCapture"===(null==(e=this.interactionManagerCapability)?void 0:e.getActiveMode())?null==(t=this.interactionManagerCapability)||t.activateDefaultMode():null==(n=this.interactionManagerCapability)||n.activate("marqueeCapture")}};xd.id="capture";let kd=xd;const Cd={manifest:wd,create:(e,t,n)=>new kd(bd,e,n),reducer:()=>{},initialState:{}},Sd=()=>jn(kd.id),Md=({pageIndex:e,scale:t,pageWidth:n,pageHeight:o,className:i,stroke:r="rgba(33,150,243,0.8)",fill:a="rgba(33,150,243,0.15)"})=>{const{provides:l}=Sd(),{register:s}=Br({modeId:"marqueeCapture",pageIndex:e}),c=(e,t,n)=>Math.max(t,Math.min(n,e)),d=Ie(null),[u,h]=Ce(null),p=n/t,g=o/t,m=Pe(()=>({onPointerDown:(e,t)=>{var n,o;d.current=e,h({origin:{x:e.x,y:e.y},size:{width:0,height:0}}),null==(o=null==(n=t.target)?void 0:n.setPointerCapture)||o.call(n,t.pointerId)},onPointerMove:e=>{if(!d.current)return;const t=c(e.x,0,p),n=c(e.y,0,g),{x:o,y:i}=d.current,r=Math.min(o,t),a=Math.min(i,n),l=Math.abs(t-o),s=Math.abs(n-i);h({origin:{x:r,y:a},size:{width:l,height:s}})},onPointerUp:(n,o)=>{var i,r;u&&l&&Math.max(u.size.width,u.size.height)*t>5&&l.captureArea(e,u),d.current=null,h(null),null==(r=null==(i=o.target)?void 0:i.releasePointerCapture)||r.call(i,o.pointerId)},onPointerCancel:(e,t)=>{var n,o;d.current=null,h(null),null==(o=null==(n=t.target)?void 0:n.releasePointerCapture)||o.call(n,t.pointerId)}}),[p,p,l,t,u,e]);return Se(()=>{if(s)return s(m)},[s,m]),u?He("div",{style:{position:"absolute",pointerEvents:"none",left:u.origin.x*t,top:u.origin.y*t,width:u.size.width*t,height:u.size.height*t,border:`1px solid ${r}`,background:a,boxSizing:"border-box"},className:i}):null},Id="history",Pd={id:Id,name:"History Plugin",version:"1.0.0",provides:["history"],requires:[],optional:[],defaultConfig:{enabled:!0}},Ad="HISTORY/SET_STATE",_d=class extends In{constructor(e,t){super(e,t),this.topicHistories=new Map,this.globalTimeline=[],this.globalIndex=-1,this.historyChange$=zn()}async initialize(e){}getHistoryState(){const e={};return Array.from(this.topicHistories.entries()).forEach(([t,n])=>{e[t]={canUndo:n.currentIndex>-1,canRedo:n.currentIndex<n.commands.length-1}}),{global:{canUndo:this.globalIndex>-1,canRedo:this.globalIndex<this.globalTimeline.length-1},topics:e}}emitHistoryChange(e){var t;this.dispatch((t=this.getHistoryState(),{type:Ad,payload:t})),this.historyChange$.emit(e)}buildCapability(){return{getHistoryState:()=>this.state,onHistoryChange:this.historyChange$.on,register:(e,t)=>{this.topicHistories.has(t)||this.topicHistories.set(t,{commands:[],currentIndex:-1});const n=this.topicHistories.get(t);n.commands.splice(n.currentIndex+1),n.commands.push(e),n.currentIndex++;const o={command:e,topic:t};this.globalTimeline.splice(this.globalIndex+1),this.globalTimeline.push(o),this.globalIndex++,e.execute(),this.emitHistoryChange(t)},undo:e=>{let t;if(e){const n=this.topicHistories.get(e);n&&n.currentIndex>-1&&(n.commands[n.currentIndex].undo(),n.currentIndex--,t=e)}else if(this.globalIndex>-1){const e=this.globalTimeline[this.globalIndex];e.command.undo(),this.topicHistories.get(e.topic).currentIndex--,this.globalIndex--,t=e.topic}t&&this.emitHistoryChange(t)},redo:e=>{let t;if(e){const n=this.topicHistories.get(e);n&&n.currentIndex<n.commands.length-1&&(n.currentIndex++,n.commands[n.currentIndex].execute(),t=e)}else if(this.globalIndex<this.globalTimeline.length-1){this.globalIndex++;const e=this.globalTimeline[this.globalIndex];e.command.execute(),this.topicHistories.get(e.topic).currentIndex++,t=e.topic}t&&this.emitHistoryChange(t)},canUndo:e=>{if(e){const t=this.topicHistories.get(e);return!!t&&t.currentIndex>-1}return this.globalIndex>-1},canRedo:e=>{if(e){const t=this.topicHistories.get(e);return!!t&&t.currentIndex<t.commands.length-1}return this.globalIndex<this.globalTimeline.length-1}}}};_d.id="history";let Td=_d;const Ed={global:{canUndo:!1,canRedo:!1},topics:{}},Nd={manifest:Pd,create:(e,t)=>new Td(Id,e),reducer:(e=Ed,t)=>t.type===Ad?{...e,...t.payload}:e,initialState:Ed};function zd(){var e=Sd().provides,t=v(Ce(!1),2),n=t[0],o=t[1],i=v(Ce(null),2),r=i[0],a=i[1],l=v(Ce(null),2),s=l[0],c=l[1],d=v(Ce(null),2),u=d[0],h=d[1],p=Ie(null),g=Ie(null),m=function(){p.current&&(URL.revokeObjectURL(p.current),p.current=null),u&&(URL.revokeObjectURL(u),h(null)),o(!1),a(null),c(null)};return Se(function(){if(e)return e.onCaptureArea(function(e){var t=e.pageIndex,n=e.rect,i=e.blob;a({pageIndex:t,rect:n,blob:i});var r=URL.createObjectURL(i);p.current=r,c(r),o(!0)})},[e]),B(F,null,B(el,{open:n,onClose:m,title:"Capture PDF Area"},B("div",{className:"space-y-6"},B("div",{className:"flex justify-center"},s&&B("img",{src:s,onLoad:function(){p.current&&(URL.revokeObjectURL(p.current),p.current=null)},alt:"Captured PDF area",style:{maxWidth:"100%",maxHeight:"400px",border:"1px solid #e5e7eb",borderRadius:"4px",display:"block"}})),B("div",{className:"flex justify-end space-x-3 border-t border-gray-200 pt-4"},B(ti,{onClick:m,className:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm text-gray-700 hover:bg-gray-50"},"Cancel"),B(ti,{onClick:function(){if(r&&g.current){var e=URL.createObjectURL(r.blob);h(e),g.current.href=e,g.current.download="pdf-capture-page-".concat(r.pageIndex+1,".png"),g.current.click(),m()}},disabled:!r,className:"rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm text-white hover:!bg-blue-700 disabled:cursor-not-allowed disabled:opacity-50"},"Download")))),B("a",{ref:g,style:{display:"none"},href:"",download:""}))}var Rd,Ld=function(){var e=function(){const{provides:e}=Hr(),[t,n]=Ce(Dr);return Se(()=>{if(e)return e.onStateChange(e=>{n(e)})},[e]),{provides:e,state:t}}().provides,t=v(Ce({show:!1,mode:null,isAnimating:!1}),2),n=t[0],o=t[1];if(Se(function(){if(e)return e.onModeChange(function(e){var t=e.activeMode;if("marqueeZoom"===t||"marqueeCapture"===t){o({show:!0,mode:t,isAnimating:!0});var n=setTimeout(function(){o(function(e){return p(p({},e),{},{show:!1})})},3e3);return function(){return clearTimeout(n)}}o({show:!1,mode:null,isAnimating:!1})})},[e]),!n.show&&!n.isAnimating)return null;var i="marqueeZoom"===n.mode?"Drag to select area to zoom":"Drag to select area to capture",r="marqueeZoom"===n.mode?"rgba(33,150,243,0.8)":"rgba(76,175,80,0.8)";return B("div",{className:"hint-overlay ".concat(n.show?"hint-show":"hint-hide"),onAnimationEnd:function(){n.show||o(function(e){return p(p({},e),{},{isAnimating:!1,mode:null})})},style:{position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:"none",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"20px"}},B("div",{className:"hint-text",style:{background:"rgba(0, 0, 0, 0.8)",color:"white",padding:"12px 20px",borderRadius:"8px",fontSize:"14px",fontWeight:"500",textAlign:"center",maxWidth:"250px"}},i),B("div",{className:"drag-demo",style:{position:"relative",width:"150px",height:"100px"}},B("div",{style:{position:"absolute",top:"20px",left:"20px",width:"110px",height:"60px",border:"2px dashed ".concat(r),borderRadius:"4px",opacity:.6}}),B("div",{className:"animated-rect",style:{position:"absolute",top:"20px",left:"20px",border:"2px solid ".concat(r),backgroundColor:"".concat(r.replace("0.8","0.15")),borderRadius:"4px"}}),B("div",{className:"cursor-demo",style:{position:"absolute",width:"20px",height:"20px"}},B("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},B("path",{d:"M3.5 2.5L16.5 10L10 11.5L7.5 16.5L3.5 2.5Z",fill:"rgba(0,0,0,0.3)",transform:"translate(1,1)"}),B("path",{d:"M3 2L16 10L10 11.5L7.5 16L3 2Z",fill:"white",stroke:"black",strokeWidth:"1"}),B("path",{d:"M4 3.5L13.5 9.5L9.5 10.5L7.5 14L4 3.5Z",fill:"rgba(255,255,255,0.8)"})))),B("style",{jsx:!0},"\n        .hint-overlay {\n          animation-duration: 0.3s;\n          animation-fill-mode: both;\n        }\n\n        .hint-show {\n          animation-name: hintFadeIn;\n        }\n\n        .hint-hide {\n          animation-name: hintFadeOut;\n        }\n\n        @keyframes hintFadeIn {\n          from {\n            opacity: 0;\n            transform: translateY(10px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n\n        @keyframes hintFadeOut {\n          from {\n            opacity: 1;\n            transform: translateY(0);\n          }\n          to {\n            opacity: 0;\n            transform: translateY(-10px);\n          }\n        }\n\n        .animated-rect {\n          animation: rectGrow 2s ease-in-out infinite;\n        }\n\n        @keyframes rectGrow {\n          0% {\n            width: 0;\n            height: 0;\n          }\n          50% {\n            width: 110px;\n            height: 60px;\n          }\n          100% {\n            width: 110px;\n            height: 60px;\n            opacity: 0.7;\n          }\n        }\n\n        .cursor-demo {\n          animation: cursorMove 2s ease-in-out infinite;\n        }\n\n        @keyframes cursorMove {\n          0% {\n            top: 20px;\n            left: 20px;\n          }\n          50% {\n            top: 50px;\n            left: 80px;\n          }\n          100% {\n            top: 80px;\n            left: 130px;\n          }\n        }\n\n        .hint-text {\n          animation: textPulse 0.6s ease-in-out;\n        }\n\n        @keyframes textPulse {\n          0% {\n            transform: scale(0.9);\n          }\n          50% {\n            transform: scale(1.05);\n          }\n          100% {\n            transform: scale(1);\n          }\n        }\n      "))},Dd=["trackedAnnotation"],Od=function(e){var t=e.trackedAnnotation,n=g(e,Dd),o=Os().provides,i=pr().provides;return B("div",p(p({},n),{},{className:"flex flex-row gap-1 rounded-md border border-[#cfd4da] bg-[#f8f9fa] p-1"}),B(ti,{onClick:function(){null==o||o.deleteAnnotation(t.object.pageIndex,t.object.id)}},B(Kr,{icon:"trash",className:"h-5 w-5"})),B(ti,{onClick:function(){null==i||i.togglePanel({id:"rightPanel",visibleChild:"comment",open:!0})}},B(Kr,{icon:"comment",className:"h-5 w-5"})),B(ti,{onClick:function(){null==i||i.togglePanel({id:"leftPanel",visibleChild:"leftPanelAnnotationStyle",open:!0})}},B(Kr,{icon:"palette",className:"h-5 w-5"})))},Hd=function(e){var t=e.placeholder,n=e.onSubmit,o=e.inputRef,i=e.isFocused,r=v(Ce(""),2),a=r[0],l=r[1];return B("form",{className:"mt-4 flex items-end space-x-2 border-t border-gray-100 pt-4",onClick:function(e){return e.stopPropagation()},onSubmit:function(e){null==e||e.preventDefault(),a.trim()&&(n(a),l(""))}},B("input",{ref:o,type:"text",placeholder:t,value:a,onInput:function(e){return l(e.currentTarget.value)},className:"w-full rounded-lg border px-3 py-2 text-sm placeholder-gray-500 transition-colors focus:border-transparent focus:outline-none focus:ring-2 ".concat(i?"border-blue-300 focus:ring-blue-500":"border-gray-300 focus:ring-blue-500")}),B("button",{type:"submit",disabled:!a.trim(),className:"rounded-lg bg-blue-500 p-2 text-white transition-colors hover:bg-blue-600 disabled:cursor-not-allowed disabled:bg-gray-300"},B("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},B("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"}))))},jd=function(e){if(!e)return"bg-red-500";var t=["bg-red-500","bg-blue-500","bg-green-500","bg-yellow-500","bg-purple-500","bg-pink-500","bg-indigo-500","bg-teal-500"];return t[e.length>0?e.charCodeAt(0)%t.length:0]},Bd=function(e){var t=e.name,n=e.className,o=void 0===n?"":n;return B("div",{className:"flex h-8 w-8 items-center justify-center rounded-full text-sm font-medium text-white ".concat(jd(t)," ").concat(o)},function(e){return e?e.split(" ").map(function(e){return e[0]}).join("").toUpperCase().slice(0,2):"G"}(t))},$d=function(e){var t,n,o=e.onEdit,i=e.onDelete,r=e.onClose,a=Ie(null);return Se(function(){var e=function(e){t.current&&!t.current.contains(e.target)&&n()};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}},[t=a,n=r]),B("div",{ref:a,className:"absolute right-0 top-6 z-10 w-32 rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5"},B("div",{className:"py-1"},B("button",{onClick:function(e){e.preventDefault(),e.stopPropagation(),o(),r()},className:"block w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100"},"Edit"),B("button",{onClick:function(e){e.preventDefault(),e.stopPropagation(),i(),r()},className:"block w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-gray-100"},"Delete")))},Fd=function(e){var t=e.initialText,n=e.onSave,o=e.onCancel,i=e.autoFocus,r=void 0!==i&&i,a=v(Ce(t),2),l=a[0],s=a[1],c=Ie(null);return Se(function(){r&&c.current&&(c.current.focus(),c.current.setSelectionRange(l.length,l.length))},[r,l.length]),B("div",{className:"flex-1 space-y-2"},B("textarea",{ref:c,value:l,onInput:function(e){return s(e.currentTarget.value)},className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",rows:3}),B("div",{className:"flex space-x-2"},B("button",{onClick:function(e){e.stopPropagation(),n(l)},className:"rounded-md bg-blue-500 px-3 py-1 text-sm text-white hover:bg-blue-600"},"Save"),B("button",{onClick:function(e){e.stopPropagation(),o()},className:"rounded-md bg-gray-300 px-3 py-1 text-sm text-gray-700 hover:bg-gray-400"},"Cancel")))},Ud=function(e){var t=e.annotation,n=e.onSave,o=e.onDelete,i=e.isReply,r=void 0!==i&&i,a=v(Ce(!1),2),l=a[0],s=a[1],c=v(Ce(!1),2),d=c[0],u=c[1],h=t.author||"Guest";return d?B("div",{className:"flex w-full items-start space-x-3",onClick:function(e){return e.stopPropagation()}},r&&B(Bd,{name:h,className:"h-8 w-8"}),B(Fd,{initialText:t.contents||"",onSave:function(e){n(e),u(!1)},onCancel:function(){u(!1)},autoFocus:!0})):B("div",{className:"flex items-start space-x-3"},r&&B(Bd,{name:h,className:"h-8 w-8"}),B("div",{className:"min-w-0 flex-1"},r&&B("div",{className:"flex items-center justify-between"},B("div",{className:"leading-none"},B("h5",{className:"text-sm font-medium text-gray-900"},h),B("span",{className:"text-xs text-gray-400"},Ja(t.modified||t.created))),B("div",{className:"relative"},B("button",{onClick:function(e){e.stopPropagation(),s(!0)},className:"rounded-md p-1 text-gray-400 hover:bg-gray-100"},B("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20"},B("path",{d:"M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z"}))),l&&B($d,{onEdit:function(){return u(!0)},onDelete:o,onClose:function(){return s(!1)}}))),B("p",{className:"mt-2 text-sm text-gray-800"},t.contents)))},Wd=(s(s(s(s(s(s(s(s(s(s(Rd={},ft.HIGHLIGHT,{label:"Highlight",icon:"highlight",iconProps:function(e){return{primaryColor:e.color||"#ffff00"}}}),ft.CIRCLE,{label:"Circle",icon:"circle",iconProps:function(e){return{primaryColor:e.strokeColor||"#000000",secondaryColor:e.color}}}),ft.SQUARE,{label:"Square",icon:"square",iconProps:function(e){return{primaryColor:e.strokeColor||"#000000",secondaryColor:e.color}}}),ft.LINE,{label:"Line",icon:"line",iconProps:function(e){return{primaryColor:e.strokeColor||"#000000"}}}),ft.UNDERLINE,{label:"Underline",icon:"underline",iconProps:function(e){return{primaryColor:e.color||"#000000"}}}),ft.SQUIGGLY,{label:"Squiggly",icon:"squiggly",iconProps:function(e){return{primaryColor:e.color||"#000000"}}}),ft.STRIKEOUT,{label:"Strikethrough",icon:"strikethrough",iconProps:function(e){return{primaryColor:e.color||"#000000"}}}),ft.INK,{label:"Ink",icon:"pencilMarker",iconProps:function(e){return{primaryColor:e.color||"#000000"}}}),ft.FREETEXT,{label:"Text",icon:"text",iconProps:function(e){return{primaryColor:e.color||"#000000"}}}),ft.POLYGON,{label:"Polygon",icon:"polygon",iconProps:function(e){return{primaryColor:e.strokeColor||"#000000",secondaryColor:e.color}}}),s(s(Rd,ft.POLYLINE,{label:"Polyline",icon:"zigzag",iconProps:function(e){return{primaryColor:e.strokeColor||"#000000"}}}),ft.STAMP,{label:"Stamp",icon:"deviceFloppy",iconProps:function(){return{primaryColor:"#dc2626"}}})),Gd=function(e){var t=e.text,n=e.maxWords,o=void 0===n?16:n,i=e.className,r=void 0===i?"":i,a=v(Ce(!1),2),l=a[0],s=a[1],c=t.split(" ");return c.length>o?B("div",{className:r},l?t:c.slice(0,o).join(" ")+"..."," ",B("button",{onClick:function(e){e.stopPropagation(),s(!l)},className:"text-sm font-medium text-blue-500 hover:text-blue-600 focus:outline-none"},l?"less":"more")):B("div",{className:r},t)},Vd=function(e){var t=e.annotation,n=e.config,o=e.className,i=void 0===o?"":o,r=n.iconProps(t.object);return B("div",{className:"flex items-center justify-center rounded-full bg-gray-100 ".concat(i),title:n.label},B(Kr,p({icon:n.icon},r)))},qd=function(e){var t,n=e.entry,o=e.isSelected,i=e.onSelect,r=e.onUpdate,a=e.onDelete,l=e.onReply,s=n.annotation,c=n.replies,d=v(Ce(!1),2),u=d[0],h=d[1],p=v(Ce(!1),2),g=p[0],m=p[1],f=function(e){return ws(e)?Wd[e.object.type]:null}(s),y=!!s.object.contents,b=c.length>0,w=!y&&!b,x=Ie(null),k=s.object.author||"Guest";return Se(function(){var e;o&&(null===(e=x.current)||void 0===e||e.focus())},[o,n]),f?B("div",{onClick:i,className:"cursor-pointer rounded-lg border bg-white shadow-sm transition-all hover:shadow-md ".concat(o?"border-blue-500 ring-2 ring-blue-200":"border-gray-200")},B("div",{className:"p-4"},B("div",{className:"flex items-start space-x-3"},B(Vd,{annotation:s,config:f,className:"h-8 w-8"}),B("div",{className:"min-w-0 flex-1"},B("div",{className:"flex items-center justify-between"},B("div",{className:"leading-none"},B("h4",{className:"text-sm font-medium text-gray-900"},k),B("span",{className:"text-xs text-gray-400"},Ja(s.object.modified||s.object.created))),B("div",{className:"relative"},B("button",{onClick:function(e){e.stopPropagation(),h(!0)},className:"rounded-md p-1 text-gray-400 hover:bg-gray-100 hover:text-gray-600"},B("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20"},B("path",{d:"M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z"}))),u&&B($d,{onEdit:function(){return m(!0)},onDelete:function(){return a(s)},onClose:function(){return h(!1)}}))),(null===(t=s.object.custom)||void 0===t?void 0:t.text)&&B(Gd,{text:s.object.custom.text,maxWords:14,className:"mt-2 text-sm text-gray-500"}),B("div",{className:"mt-2"},g?B(Fd,{initialText:s.object.contents||"",onSave:function(e){r(s.object.id,e),m(!1)},onCancel:function(){m(!1)},autoFocus:!0}):y?B("p",{className:"text-sm text-gray-800"},s.object.contents):null))),b&&B("div",{className:"mt-4 space-y-4 border-t border-gray-100 pt-4"},c.map(function(e){return B(Ud,{key:e.object.id,annotation:e.object,onSave:function(t){return r(e.object.id,t)},onDelete:function(){return a(e)},isReply:!0})})),!g&&B(Hd,{inputRef:x,isFocused:o,placeholder:w?"Add comment...":"Add reply...",onSubmit:function(e){w?r(s.object.id,e):l(s.object.id,e)}}))):null},Zd=function(){return B("div",{class:"flex flex-col items-center gap-2 p-4 text-gray-500"},B(Kr,{icon:"comment",className:"h-18 w-18 text-gray-500"}),B("div",{className:"max-w-[150px] text-center text-sm text-gray-500"},"Add annotations to be able to comment on them."))},Yd=function(e){var t=e.sidebarAnnotations,n=e.selectedAnnotation,o=Os().provides,i=ho().provides,r=Ie({}),a=Ie(null);Se(function(){if(n&&a.current){var e=r.current[n.object.id];null==e||e.scrollIntoView({behavior:"smooth",block:"center"})}},[n]);var s=function(e,t){var n=h(e);n&&(null==o||o.updateAnnotation(n.object.pageIndex,e,{contents:t,modified:new Date}))},c=function(e){null==o||o.deleteAnnotation(e.object.pageIndex,e.object.id)},d=function(e,t){var n=h(e);n&&(null==o||o.createAnnotation(n.object.pageIndex,{id:rn(),rect:{origin:{x:n.object.rect.origin.x,y:n.object.rect.origin.y},size:{width:24,height:24}},pageIndex:n.object.pageIndex,created:new Date,modified:new Date,type:ft.TEXT,contents:t,inReplyToId:n.object.id,flags:["noRotate","noZoom","print"],icon:yt.Comment}))},u=Object.keys(t).map(Number).sort(function(e,t){return e-t}),h=function(e){var n,o=l(u);try{for(o.s();!(n=o.n()).done;){var i,r=n.value,a=l(t[r]);try{for(a.s();!(i=a.n()).done;){var s=i.value;if(s.annotation.object.id===e)return s.annotation;var c=s.replies.find(function(t){return t.object.id===e});if(c)return c}}catch(e){a.e(e)}finally{a.f()}}}catch(e){o.e(e)}finally{o.f()}};return 0===u.length?B(Zd,null):B("div",{ref:a,className:"h-full overflow-auto"},B("div",{className:"space-y-6 p-3"},u.map(function(e){return B("div",{key:e,className:"space-y-3"},B("div",{className:"sticky top-0 z-10 bg-white px-1"},B("div",{className:"border-b border-gray-200 py-2"},B("h3",{className:"text-md font-semibold text-gray-800"},"Page ",e+1),B("p",{className:"text-sm text-gray-500"},t[e].length," comment",1!==t[e].length?"s":""))),B("div",{className:"space-y-3 px-1"},t[e].map(function(e){return B("div",{key:e.annotation.object.id,ref:function(t){return r.current[e.annotation.object.id]=t}},B(qd,{entry:e,isSelected:(null==n?void 0:n.object.id)===e.annotation.object.id,onSelect:function(){return t=e.annotation,null==o||o.selectAnnotation(t.object.pageIndex,t.object.id),void(null==i||i.scrollToPage({pageNumber:t.object.pageIndex+1,pageCoordinates:{x:t.object.rect.origin.x,y:t.object.rect.origin.y},center:!0,behavior:"smooth"}));var t},onUpdate:s,onDelete:c,onReply:d}))})))})))},Xd={viewport:{viewportGap:10},scroll:{strategy:Jn.Vertical},zoom:{defaultZoomLevel:vr.FitPage},spread:{defaultSpreadMode:go.None},rotate:{defaultRotation:je.Degree0},tiling:{tileSize:768,overlapPx:2.5,extraRings:0},thumbnail:{width:150,gap:10,buffer:3,labelHeight:30},print:{batchSize:3}},Kd={menuCtr:{id:"menuCtr",icon:"menu",label:"Menu",type:"menu",children:["openFile","download","enterFS","screenshot","print"],active:function(e){return"menuCtr"===e.plugins.ui.commandMenu.commandMenu.activeCommand}},download:{id:"download",icon:"download",label:"Download",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(hd))||void 0===t?void 0:t.provides();n&&n.download()}},openFile:{id:"openFile",icon:"fileImport",label:"Open PDF",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(Ao))||void 0===t?void 0:t.provides();n&&n.openFileDialog()}},enterFS:{id:"enterFS",icon:function(e){return e.plugins.fullscreen.isFullscreen?"fullscreenExit":"fullscreen"},label:function(e){return e.plugins.fullscreen.isFullscreen?"Exit full screen":"Enter full screen"},type:"action",action:function(e){var t,n=null===(t=e.getPlugin(od))||void 0===t?void 0:t.provides();n&&(n.isFullscreen()?n.exitFullscreen():n.enableFullscreen())}},screenshot:{id:"screenshot",icon:"screenshot",label:"Screenshot",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(bd))||void 0===t?void 0:t.provides();n&&(n.isMarqueeCaptureActive()?n.disableMarqueeCapture():n.enableMarqueeCapture())},active:function(e){return"marqueeCapture"===e.plugins[Lr].activeMode}},save:{id:"save",icon:"save",label:"Save",type:"action",action:function(){console.log("save")}},print:{id:"print",icon:"print",label:"Print",type:"action",action:function(e,t){var n,o=null===(n=e.getPlugin(Qo))||void 0===n?void 0:n.provides();o&&o.updateComponentState({componentType:"floating",componentId:"printModal",patch:{open:!0}})}},settings:{id:"settings",icon:"settings",label:"Settings",dividerBefore:!0,type:"action",action:function(){console.log("settings")}},viewCtr:{id:"viewCtr",icon:"viewSettings",label:"View controls",type:"menu",children:["pageOrientation","scrollLayout","pageLayout","enterFS"],active:function(e){return"viewCtr"===e.plugins.ui.commandMenu.commandMenu.activeCommand}},pageOrientation:{id:"pageOrientation",label:"Page orientation",type:"group",children:["rotateClockwise","rotateCounterClockwise"]},rotateClockwise:{id:"rotateClockwise",label:"Rotate clockwise",icon:"rotateClockwise",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(Oc))||void 0===t?void 0:t.provides();n&&n.rotateForward()}},rotateCounterClockwise:{id:"rotateCounterClockwise",label:"Rotate counter clockwise",icon:"rotateCounterClockwise",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(Oc))||void 0===t?void 0:t.provides();n&&n.rotateBackward()}},scrollLayout:{id:"scrollLayout",label:"Scroll layout",type:"group",children:["vertical","horizontal"]},vertical:{id:"vertical",label:"Vertical",icon:"vertical",type:"action",active:function(e){return e.plugins.scroll.strategy===Jn.Vertical},action:function(e){var t,n=null===(t=e.getPlugin(so))||void 0===t?void 0:t.provides();n&&n.setScrollStrategy(Jn.Vertical)}},horizontal:{id:"horizontal",label:"Horizontal",icon:"horizontal",type:"action",active:function(e){return e.plugins.scroll.strategy===Jn.Horizontal},action:function(e){var t,n=null===(t=e.getPlugin(so))||void 0===t?void 0:t.provides();n&&n.setScrollStrategy(Jn.Horizontal)}},pageLayout:{id:"pageLayout",label:"Page layout",type:"group",children:["singlePage","doublePage","coverFacingPage"]},singlePage:{id:"singlePage",label:"Single page",icon:"singlePage",type:"action",disabled:function(e){return e.plugins.scroll.strategy===Jn.Horizontal},active:function(e){return e.plugins.spread.spreadMode===go.None},action:function(e){var t,n=null===(t=e.getPlugin(bo))||void 0===t?void 0:t.provides();n&&n.setSpreadMode(go.None)}},doublePage:{id:"doublePage",label:"Double page",icon:"book",type:"action",disabled:function(e){return e.plugins.scroll.strategy===Jn.Horizontal},active:function(e){return e.plugins.spread.spreadMode===go.Odd},action:function(e){var t,n=null===(t=e.getPlugin(bo))||void 0===t?void 0:t.provides();n&&n.setSpreadMode(go.Odd)}},coverFacingPage:{id:"coverFacingPage",label:"Cover facing page",icon:"book2",type:"action",disabled:function(e){return e.plugins.scroll.strategy===Jn.Horizontal},active:function(e){return e.plugins.spread.spreadMode===go.Even},action:function(e){var t,n=null===(t=e.getPlugin(bo))||void 0===t?void 0:t.provides();n&&n.setSpreadMode(go.Even)}},leftAction:{id:"leftAction",label:"Left action",type:"menu",icon:"dots",children:["viewCtr","zoom","panMode","pointerMode"],active:function(e){return"leftAction"===e.plugins.ui.commandMenu.commandMenu.activeCommand||"zoom"===e.plugins.ui.commandMenu.commandMenu.activeCommand||"changeZoomLevel"===e.plugins.ui.commandMenu.commandMenu.activeCommand||"viewCtr"===e.plugins.ui.commandMenu.commandMenu.activeCommand}},zoom:{id:"zoom",icon:"zoomIn",label:"Zoom Controls",type:"menu",children:["changeZoomLevel","zoomIn","zoomOut","fitToWidth","fitToPage","zoomInArea"],active:function(e){return"zoom"===e.plugins.ui.commandMenu.commandMenu.activeCommand}},zoomInArea:{id:"zoomInArea",label:"Zoom in area",icon:"zoomInArea",type:"action",dividerBefore:!0,action:function(e){var t,n=null===(t=e.getPlugin(br))||void 0===t?void 0:t.provides();n&&(n.isMarqueeZoomActive()?n.disableMarqueeZoom():n.enableMarqueeZoom())},active:function(e){return"marqueeZoom"===e.plugins[Lr].activeMode}},changeZoomLevel:{id:"changeZoomLevel",label:function(e){return"Zoom level (".concat((100*e.plugins.zoom.currentZoomLevel).toFixed(0),"%)")},type:"menu",children:["zoom25","zoom50","zoom100","zoom125","zoom150","zoom200","zoom400","zoom800","zoom1600"],active:function(e){return"changeZoomLevel"===e.plugins.ui.commandMenu.commandMenu.activeCommand}},zoom25:{id:"zoom25",label:"25%",type:"action",active:function(e){return.25===e.plugins.zoom.currentZoomLevel},action:function(e){var t,n=null===(t=e.getPlugin(br))||void 0===t?void 0:t.provides();n&&n.requestZoom(.25)}},zoom50:{id:"zoom50",label:"50%",type:"action",active:function(e){return.5===e.plugins.zoom.currentZoomLevel},action:function(e){var t,n=null===(t=e.getPlugin(br))||void 0===t?void 0:t.provides();n&&n.requestZoom(.5)}},zoom100:{id:"zoom100",label:"100%",type:"action",active:function(e){return 1===e.plugins.zoom.currentZoomLevel},action:function(e){var t,n=null===(t=e.getPlugin(br))||void 0===t?void 0:t.provides();n&&n.requestZoom(1)}},zoom125:{id:"zoom125",label:"125%",type:"action",active:function(e){return 1.25===e.plugins.zoom.currentZoomLevel},action:function(e){var t,n=null===(t=e.getPlugin(br))||void 0===t?void 0:t.provides();n&&n.requestZoom(1.25)}},zoom150:{id:"zoom150",label:"150%",type:"action",active:function(e){return 1.5===e.plugins.zoom.currentZoomLevel},action:function(e){var t,n=null===(t=e.getPlugin(br))||void 0===t?void 0:t.provides();n&&n.requestZoom(1.5)}},zoom200:{id:"zoom200",label:"200%",type:"action",active:function(e){return 2===e.plugins.zoom.currentZoomLevel},action:function(e){var t,n=null===(t=e.getPlugin(br))||void 0===t?void 0:t.provides();n&&n.requestZoom(2)}},zoom400:{id:"zoom400",label:"400%",type:"action",active:function(e){return 4===e.plugins.zoom.currentZoomLevel},action:function(e){var t,n=null===(t=e.getPlugin(br))||void 0===t?void 0:t.provides();n&&n.requestZoom(4)}},zoom800:{id:"zoom800",label:"800%",type:"action",active:function(e){return 8===e.plugins.zoom.currentZoomLevel},action:function(e){var t,n=null===(t=e.getPlugin(br))||void 0===t?void 0:t.provides();n&&n.requestZoom(8)}},zoom1600:{id:"zoom1600",label:"1600%",type:"action",active:function(e){return 16===e.plugins.zoom.currentZoomLevel},action:function(e){var t,n=null===(t=e.getPlugin(br))||void 0===t?void 0:t.provides();n&&n.requestZoom(16)}},zoomIn:{id:"zoomIn",label:"Zoom in",icon:"zoomIn",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(br))||void 0===t?void 0:t.provides();n&&n.zoomIn()}},zoomOut:{id:"zoomOut",label:"Zoom out",icon:"zoomOut",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(br))||void 0===t?void 0:t.provides();n&&n.zoomOut()}},search:{id:"search",label:"Search",icon:"search",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(Qo))||void 0===t?void 0:t.provides();n&&n.togglePanel({id:"rightPanel",visibleChild:"search"})},active:function(e){return!0===e.plugins.ui.panel.rightPanel.open&&"search"===e.plugins.ui.panel.rightPanel.visibleChild}},comment:{id:"comment",label:"Comment",icon:"comment",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(Qo))||void 0===t?void 0:t.provides();n&&n.togglePanel({id:"rightPanel",visibleChild:"comment"})},active:function(e){return!0===e.plugins.ui.panel.rightPanel.open&&"comment"===e.plugins.ui.panel.rightPanel.visibleChild}},fitToWidth:{id:"fitToWidth",label:"Fit to width",icon:"fitToWidth",type:"action",active:function(e){return e.plugins.zoom.zoomLevel===vr.FitWidth},action:function(e){var t,n=null===(t=e.getPlugin(br))||void 0===t?void 0:t.provides();n&&n.requestZoom(vr.FitWidth)}},fitToPage:{id:"fitToPage",label:"Fit to page",icon:"fitToPage",type:"action",active:function(e){return e.plugins.zoom.zoomLevel===vr.FitPage},action:function(e){var t,n=null===(t=e.getPlugin(br))||void 0===t?void 0:t.provides();n&&n.requestZoom(vr.FitPage)}},sidebar:{id:"sidebar",label:"Sidebar",icon:"sidebar",type:"action",action:function(e,t){var n,o=null===(n=e.getPlugin(Qo))||void 0===n?void 0:n.provides();o&&o.togglePanel({id:"leftPanel",visibleChild:"leftPanelMain",open:!0!==t.plugins.ui.panel.leftPanel.open||"leftPanelMain"!==t.plugins.ui.panel.leftPanel.visibleChild})},active:function(e){return!0===e.plugins.ui.panel.leftPanel.open&&"leftPanelMain"===e.plugins.ui.panel.leftPanel.visibleChild}},sidebarMenu:{id:"sidebarMenu",label:"Sidebar Menu",type:"menu",children:["thumbnails","outline"]},thumbnails:{id:"thumbnails",label:"Thumbnails",icon:"squares",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(Qo))||void 0===t?void 0:t.provides();n&&(n.togglePanel({id:"leftPanel",visibleChild:"leftPanelMain",open:!0}),n.updateComponentState({componentType:"custom",componentId:"leftPanelMain",patch:{visibleChild:"thumbnails"}}))},active:function(e){return"thumbnails"===e.plugins.ui.custom.leftPanelMain.visibleChild}},outline:{id:"outline",label:"Outline",icon:"listTree",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(Qo))||void 0===t?void 0:t.provides();n&&(n.togglePanel({id:"leftPanel",visibleChild:"leftPanelMain",open:!0}),n.updateComponentState({componentType:"custom",componentId:"leftPanelMain",patch:{visibleChild:"outline"}}))},active:function(e){return"outline"===e.plugins.ui.custom.leftPanelMain.visibleChild}},attachments:{id:"attachments",label:"Attachments",icon:"paperclip",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(Qo))||void 0===t?void 0:t.provides();n&&(n.togglePanel({id:"leftPanel",visibleChild:"leftPanelMain",open:!0}),n.updateComponentState({componentType:"custom",componentId:"leftPanelMain",patch:{visibleChild:"attachments"}}))},active:function(e){return"attachments"===e.plugins.ui.custom.leftPanelMain.visibleChild}},view:{id:"view",label:"View",type:"action",action:function(e){var t,n,o=null===(t=e.getPlugin(Qo))||void 0===t?void 0:t.provides(),i=null===(n=e.getPlugin(Fl))||void 0===n?void 0:n.provides();o&&(o.setHeaderVisible({id:"toolsHeader",visible:!1}),null==i||i.setActiveVariant(null))},active:function(e){return!1===e.plugins.ui.header.toolsHeader.visible}},annotate:{id:"annotate",label:"Annotate",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(Qo))||void 0===t?void 0:t.provides();n&&n.setHeaderVisible({id:"toolsHeader",visible:!0,visibleChild:"annotationTools"})},active:function(e){return!0===e.plugins.ui.header.toolsHeader.visible&&"annotationTools"===e.plugins.ui.header.toolsHeader.visibleChild}},shapes:{id:"shapes",label:"Shapes",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(Qo))||void 0===t?void 0:t.provides();n&&n.setHeaderVisible({id:"toolsHeader",visible:!0,visibleChild:"shapeTools"})},active:function(e){return!0===e.plugins.ui.header.toolsHeader.visible&&"shapeTools"===e.plugins.ui.header.toolsHeader.visibleChild}},fillAndSign:{id:"fillAndSign",label:"Fill and Sign",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(Qo))||void 0===t?void 0:t.provides();n&&n.setHeaderVisible({id:"toolsHeader",visible:!0,visibleChild:"fillAndSignTools"})},active:function(e){return!0===e.plugins.ui.header.toolsHeader.visible&&"fillAndSignTools"===e.plugins.ui.header.toolsHeader.visibleChild}},form:{id:"form",label:"Form",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(Qo))||void 0===t?void 0:t.provides();n&&n.setHeaderVisible({id:"toolsHeader",visible:!0,visibleChild:"formTools"})},active:function(e){return!0===e.plugins.ui.header.toolsHeader.visible&&"formTools"===e.plugins.ui.header.toolsHeader.visibleChild}},tabOverflow:{id:"tabOverflow",label:"More",icon:"dots",type:"menu",children:["view","annotate","shapes"],active:function(e){return"tabOverflow"===e.plugins.ui.commandMenu.commandMenu.activeCommand}},annotationToolOverflow:{id:"annotationToolOverflow",label:"More",icon:"dots",type:"menu",children:["highlight","underline","strikethrough","squiggly","freehand","freeText","photo"],active:function(e){return"annotationToolOverflow"===e.plugins.ui.commandMenu.commandMenu.activeCommand}},shapeToolOverflow:{id:"shapeToolOverflow",label:"More",icon:"dots",type:"menu",children:["circle","square","polygon","polyline","line","lineArrow"],active:function(e){return"shapeToolOverflow"===e.plugins.ui.commandMenu.commandMenu.activeCommand}},nextPage:{id:"nextPage",label:"Next page",icon:"chevronRight",shortcut:"ArrowRight",shortcutLabel:"Arrow Right",type:"action",action:function(e){var t,n=null===(t=e.getPlugin(so))||void 0===t?void 0:t.provides();n&&n.scrollToNextPage()}},previousPage:{id:"previousPage",label:"Previous page",icon:"chevronLeft",type:"action",shortcut:"ArrowLeft",shortcutLabel:"Arrow Left",action:function(e){var t,n=null===(t=e.getPlugin(so))||void 0===t?void 0:t.provides();n&&n.scrollToPreviousPage()}},copy:{id:"copy",label:"Copy",icon:"copy",type:"action",shortcut:"Meta+C",shortcutLabel:"Cmd+C",action:function(e){var t,n=null===(t=e.getPlugin(Pa))||void 0===t?void 0:t.provides();n&&(n.copyToClipboard(),n.clear())}},underline:{id:"underline",label:"Underline",type:"action",icon:"underline",iconProps:function(e){return{primaryColor:ks(e.plugins.annotation,ft.UNDERLINE).color}},action:function(e,t){var n,o=null===(n=e.getPlugin(Fl))||void 0===n?void 0:n.provides();o&&(t.plugins.annotation.activeVariant===as(ft.UNDERLINE)?o.setActiveVariant(null):o.setActiveVariant(as(ft.UNDERLINE)))},active:function(e){return e.plugins.annotation.activeVariant===as(ft.UNDERLINE)}},squiggly:{id:"squiggly",label:"Squiggly",type:"action",icon:"squiggly",iconProps:function(e){return{primaryColor:ks(e.plugins.annotation,ft.SQUIGGLY).color}},action:function(e,t){var n,o=null===(n=e.getPlugin(Fl))||void 0===n?void 0:n.provides();o&&(t.plugins.annotation.activeVariant===as(ft.SQUIGGLY)?o.setActiveVariant(null):o.setActiveVariant(as(ft.SQUIGGLY)))},active:function(e){return e.plugins.annotation.activeVariant===as(ft.SQUIGGLY)}},strikethrough:{id:"strikethrough",label:"Strikethrough",type:"action",icon:"strikethrough",iconProps:function(e){return{primaryColor:ks(e.plugins.annotation,ft.STRIKEOUT).color}},action:function(e,t){var n,o=null===(n=e.getPlugin(Fl))||void 0===n?void 0:n.provides();o&&(t.plugins.annotation.activeVariant===as(ft.STRIKEOUT)?o.setActiveVariant(null):o.setActiveVariant(as(ft.STRIKEOUT)))},active:function(e){return e.plugins.annotation.activeVariant===as(ft.STRIKEOUT)}},highlight:{id:"highlight",label:"Highlight",type:"action",icon:"highlight",iconProps:function(e){return{primaryColor:ks(e.plugins.annotation,ft.HIGHLIGHT).color}},action:function(e,t){var n,o=null===(n=e.getPlugin(Fl))||void 0===n?void 0:n.provides();o&&(t.plugins.annotation.activeVariant===as(ft.HIGHLIGHT)?o.setActiveVariant(null):o.setActiveVariant(as(ft.HIGHLIGHT)))},active:function(e){return e.plugins.annotation.activeVariant===as(ft.HIGHLIGHT)}},freehand:{id:"freehand",label:"Freehand",type:"action",icon:"pencilMarker",iconProps:function(e){return{primaryColor:ks(e.plugins.annotation,ft.INK).color}},action:function(e,t){var n,o=null===(n=e.getPlugin(Fl))||void 0===n?void 0:n.provides();o&&(console.log(t.plugins.annotation.activeVariant),t.plugins.annotation.activeVariant===as(ft.INK)?o.setActiveVariant(null):(o.deselectAnnotation(),o.setActiveVariant(as(ft.INK))))},active:function(e){return e.plugins.annotation.activeVariant===as(ft.INK)}},circle:{id:"circle",label:"Circle",type:"action",icon:"circle",iconProps:function(e){return{primaryColor:ks(e.plugins.annotation,ft.CIRCLE).strokeColor,secondaryColor:ks(e.plugins.annotation,ft.CIRCLE).color}},action:function(e,t){var n,o=null===(n=e.getPlugin(Fl))||void 0===n?void 0:n.provides();o&&(t.plugins.annotation.activeVariant===as(ft.CIRCLE)?o.setActiveVariant(null):o.setActiveVariant(as(ft.CIRCLE)))},active:function(e){return e.plugins.annotation.activeVariant===as(ft.CIRCLE)}},square:{id:"square",label:"Square",type:"action",icon:"square",iconProps:function(e){return{primaryColor:ks(e.plugins.annotation,ft.SQUARE).strokeColor,secondaryColor:ks(e.plugins.annotation,ft.SQUARE).color}},action:function(e,t){var n,o=null===(n=e.getPlugin(Fl))||void 0===n?void 0:n.provides();o&&(t.plugins.annotation.activeVariant===as(ft.SQUARE)?o.setActiveVariant(null):o.setActiveVariant(as(ft.SQUARE)))},active:function(e){return e.plugins.annotation.activeVariant===as(ft.SQUARE)}},line:{id:"line",label:"Line",type:"action",icon:"line",iconProps:function(e){return{primaryColor:ks(e.plugins.annotation,ft.LINE).strokeColor}},action:function(e,t){var n,o=null===(n=e.getPlugin(Fl))||void 0===n?void 0:n.provides();o&&(t.plugins.annotation.activeVariant===as(ft.LINE)?o.setActiveVariant(null):o.setActiveVariant(as(ft.LINE)))},active:function(e){return e.plugins.annotation.activeVariant===as(ft.LINE)}},lineArrow:{id:"lineArrow",label:"Line Arrow",type:"action",icon:"lineArrow",iconProps:function(e){return{primaryColor:ks(e.plugins.annotation,ft.LINE).strokeColor}},action:function(e,t){var n,o=null===(n=e.getPlugin(Fl))||void 0===n?void 0:n.provides();o&&(t.plugins.annotation.activeVariant===as(ft.LINE,"LineArrow")?o.setActiveVariant(null):o.setActiveVariant(as(ft.LINE,"LineArrow")))},active:function(e){return e.plugins.annotation.activeVariant===as(ft.LINE,"LineArrow")}},polyline:{id:"polyline",label:"Polyline",type:"action",icon:"zigzag",iconProps:function(e){return{primaryColor:ks(e.plugins.annotation,ft.POLYLINE).strokeColor}},action:function(e,t){var n,o=null===(n=e.getPlugin(Fl))||void 0===n?void 0:n.provides();o&&(t.plugins.annotation.activeVariant===as(ft.POLYLINE)?o.setActiveVariant(null):o.setActiveVariant(as(ft.POLYLINE)))},active:function(e){return e.plugins.annotation.activeVariant===as(ft.POLYLINE)}},polygon:{id:"polygon",label:"Polygon",type:"action",icon:"polygon",iconProps:function(e){return{primaryColor:ks(e.plugins.annotation,ft.POLYGON).strokeColor,secondaryColor:ks(e.plugins.annotation,ft.POLYGON).color}},action:function(e,t){var n,o=null===(n=e.getPlugin(Fl))||void 0===n?void 0:n.provides();o&&(t.plugins.annotation.activeVariant===as(ft.POLYGON)?o.setActiveVariant(null):o.setActiveVariant(as(ft.POLYGON)))},active:function(e){return e.plugins.annotation.activeVariant===as(ft.POLYGON)}},freeText:{id:"freeText",label:"Free Text",type:"action",icon:"text",iconProps:function(e){return{primaryColor:ks(e.plugins.annotation,ft.FREETEXT).fontColor}},action:function(e,t){var n,o=null===(n=e.getPlugin(Fl))||void 0===n?void 0:n.provides();o&&(t.plugins.annotation.activeVariant===as(ft.FREETEXT)?o.setActiveVariant(null):o.setActiveVariant(as(ft.FREETEXT)))},active:function(e){return e.plugins.annotation.activeVariant===as(ft.FREETEXT)}},photo:{id:"photo",label:"Photo",type:"action",icon:"photo",action:function(e,t){var n,o=null===(n=e.getPlugin(Fl))||void 0===n?void 0:n.provides();o&&(t.plugins.annotation.activeVariant===as(ft.STAMP)?o.setActiveVariant(null):o.setActiveVariant(as(ft.STAMP)))},active:function(e){return e.plugins.annotation.activeVariant===as(ft.STAMP)}},squigglySelection:{id:"squigglySelection",label:"Squiggly Selection",type:"action",icon:"squiggly",iconProps:function(e){return{primaryColor:ks(e.plugins.annotation,ft.SQUIGGLY).color}},action:function(e){var t,n,o=null===(t=e.getPlugin(Fl))||void 0===t?void 0:t.provides(),i=null===(n=e.getPlugin(Pa))||void 0===n?void 0:n.provides();if(i&&o){var r,a=o.getToolDefaultsBySubtype(ft.SQUIGGLY),s=i.getFormattedSelection(),c=i.getSelectedText(),d=l(s);try{var u=function(){var e=r.value;c.wait(function(t){var n=rn();o.createAnnotation(e.pageIndex,{id:n,created:new Date,type:ft.SQUIGGLY,blendMode:gt.Normal,color:a.color,opacity:a.opacity,pageIndex:e.pageIndex,rect:e.rect,segmentRects:e.segmentRects,custom:{text:t.join("\n")}}),o.selectAnnotation(e.pageIndex,n)},an)};for(d.s();!(r=d.n()).done;)u()}catch(e){d.e(e)}finally{d.f()}i.clear()}}},underlineSelection:{id:"underlineSelection",label:"Underline Selection",type:"action",icon:"underline",iconProps:function(e){return{primaryColor:ks(e.plugins.annotation,ft.UNDERLINE).color}},action:function(e){var t,n,o=null===(t=e.getPlugin(Fl))||void 0===t?void 0:t.provides(),i=null===(n=e.getPlugin(Pa))||void 0===n?void 0:n.provides();if(i&&o){var r,a=o.getToolDefaultsBySubtype(ft.UNDERLINE),s=i.getFormattedSelection(),c=i.getSelectedText(),d=l(s);try{var u=function(){var e=r.value;c.wait(function(t){var n=rn();o.createAnnotation(e.pageIndex,{id:n,created:new Date,type:ft.UNDERLINE,blendMode:gt.Normal,color:a.color,opacity:a.opacity,pageIndex:e.pageIndex,rect:e.rect,segmentRects:e.segmentRects,custom:{text:t.join("\n")}}),o.selectAnnotation(e.pageIndex,n)},an)};for(d.s();!(r=d.n()).done;)u()}catch(e){d.e(e)}finally{d.f()}i.clear()}}},strikethroughSelection:{id:"strikethroughSelection",label:"Strikethrough Selection",type:"action",icon:"strikethrough",iconProps:function(e){return{primaryColor:ks(e.plugins.annotation,ft.STRIKEOUT).color}},action:function(e){var t,n,o=null===(t=e.getPlugin(Fl))||void 0===t?void 0:t.provides(),i=null===(n=e.getPlugin(Pa))||void 0===n?void 0:n.provides();if(i&&o){var r,a=o.getToolDefaultsBySubtype(ft.STRIKEOUT),s=i.getFormattedSelection(),c=i.getSelectedText(),d=l(s);try{var u=function(){var e=r.value;c.wait(function(t){var n=rn();o.createAnnotation(e.pageIndex,{id:n,created:new Date,type:ft.STRIKEOUT,blendMode:gt.Normal,color:a.color,opacity:a.opacity,pageIndex:e.pageIndex,rect:e.rect,segmentRects:e.segmentRects,custom:{text:t.join("\n")}}),o.selectAnnotation(e.pageIndex,n)},an)};for(d.s();!(r=d.n()).done;)u()}catch(e){d.e(e)}finally{d.f()}i.clear()}}},highlightSelection:{id:"highlightSelection",label:"Highlight Selection",type:"action",icon:"highlight",iconProps:function(e){return{primaryColor:ks(e.plugins.annotation,ft.HIGHLIGHT).color}},action:function(e){var t,n,o=null===(t=e.getPlugin(Fl))||void 0===t?void 0:t.provides(),i=null===(n=e.getPlugin(Pa))||void 0===n?void 0:n.provides();if(i&&o){var r,a=o.getToolDefaultsBySubtype(ft.HIGHLIGHT),s=i.getFormattedSelection(),c=i.getSelectedText(),d=l(s);try{var u=function(){var e=r.value;c.wait(function(t){var n=rn();o.createAnnotation(e.pageIndex,{id:n,created:new Date,type:ft.HIGHLIGHT,blendMode:gt.Multiply,color:a.color,opacity:a.opacity,pageIndex:e.pageIndex,rect:e.rect,segmentRects:e.segmentRects,custom:{text:t.join("\n")}}),o.selectAnnotation(e.pageIndex,n)},an)};for(d.s();!(r=d.n()).done;)u()}catch(e){d.e(e)}finally{d.f()}i.clear()}}},styleAnnotation:{id:"styleAnnotation",label:"Style",type:"action",icon:"palette",action:function(e,t){var n,o=null===(n=e.getPlugin(Qo))||void 0===n?void 0:n.provides();o&&o.togglePanel({id:"leftPanel",visibleChild:"leftPanelAnnotationStyle",open:!0!==t.plugins.ui.panel.leftPanel.open||"leftPanelAnnotationStyle"!==t.plugins.ui.panel.leftPanel.visibleChild})},active:function(e){return!0===e.plugins.ui.panel.leftPanel.open&&"leftPanelAnnotationStyle"===e.plugins.ui.panel.leftPanel.visibleChild}},deleteAnnotation:{id:"deleteAnnotation",label:"Delete",type:"action",icon:"trash",action:function(e){var t,n=null===(t=e.getPlugin(Fl))||void 0===t?void 0:t.provides();if(n){var o=n.getSelectedAnnotation();o&&n.deleteAnnotation(o.object.pageIndex,o.object.id)}}},panMode:{id:"panMode",label:"Pan",type:"action",dividerBefore:!0,icon:"hand",action:function(e){var t,n=null===(t=e.getPlugin(Lr))||void 0===t?void 0:t.provides();n&&("panMode"===n.getActiveMode()?n.activateDefaultMode():n.activate("panMode"))},active:function(e){return"panMode"===e.plugins[Lr].activeMode}},pointerMode:{id:"pointerMode",label:"Pointer",type:"action",icon:"pointer",action:function(e){var t,n=null===(t=e.getPlugin(Lr))||void 0===t?void 0:t.provides();n&&("pointerMode"===n.getActiveMode()?n.activateDefaultMode():n.activate("pointerMode"))},active:function(e){return"pointerMode"===e.plugins[Lr].activeMode}},undo:{id:"undo",label:"Undo",type:"action",icon:"arrowBackUp",action:function(e){var t,n=null===(t=e.getPlugin(Id))||void 0===t?void 0:t.provides();n&&n.undo()},disabled:function(e){return!e.plugins[Id].global.canUndo}},redo:{id:"redo",label:"Redo",type:"action",icon:"arrowForwardUp",action:function(e){var t,n=null===(t=e.getPlugin(Id))||void 0===t?void 0:t.provides();n&&n.redo()},disabled:function(e){return!e.plugins[Id].global.canRedo}},commitAnnotations:{id:"commitAnnotations",label:"Commit",type:"action",icon:"deviceFloppy",action:function(e){var t,n=null===(t=e.getPlugin(Fl))||void 0===t?void 0:t.provides();n&&n.commit()}}},Qd={menuButton:{type:"iconButton",id:"menuButton",props:{commandId:"menuCtr",active:!1,label:"Menu"},mapStateToProps:function(e,t){return p(p({},t),{},{active:$o(Kd.menuCtr,e)})}},deleteAnnotationButton:{type:"iconButton",id:"deleteAnnotationButton",props:{commandId:"deleteAnnotation",active:!1,label:"Delete"}},styleButton:{type:"iconButton",id:"styleButton",props:{commandId:"styleAnnotation",active:!1,label:"Style"},mapStateToProps:function(e,t){return p(p({},t),{},{active:$o(Kd.styleAnnotation,e)})}},undoButton:{type:"iconButton",id:"undoButton",props:{commandId:"undo",disabled:!1,label:"Undo"},mapStateToProps:function(e,t){return p(p({},t),{},{disabled:Fo(Kd.undo,e)})}},redoButton:{type:"iconButton",id:"redoButton",props:{commandId:"redo",disabled:!1,label:"Redo"},mapStateToProps:function(e,t){return p(p({},t),{},{disabled:Fo(Kd.redo,e)})}},commitAnnotationsButton:{type:"iconButton",id:"commitAnnotationsButton",props:{commandId:"commitAnnotations",active:!1,label:"Commit"}},copyButton:{type:"iconButton",id:"copyButton",props:{commandId:"copy",active:!1,label:"Copy"},mapStateToProps:function(e,t){return p(p({},t),{},{active:$o(Kd.copy,e)})}},panModeButton:{type:"iconButton",id:"panModeButton",props:{commandId:"panMode",active:!1,label:"Pan"},mapStateToProps:function(e,t){return p(p({},t),{},{active:$o(Kd.panMode,e)})}},pointerModeButton:{type:"iconButton",id:"pointerModeButton",props:{commandId:"pointerMode",active:!1,label:"Pointer"},mapStateToProps:function(e,t){return p(p({},t),{},{active:$o(Kd.pointerMode,e)})}},circleButton:{type:"iconButton",id:"circleButton",props:{commandId:"circle",active:!1,label:"Circle"},mapStateToProps:function(e,t){return p(p({},t),{},{active:$o(Kd.circle,e),iconProps:Uo(Kd.circle,e)})}},freeTextButton:{type:"iconButton",id:"freeTextButton",props:{commandId:"freeText",active:!1,label:"Free Text"},mapStateToProps:function(e,t){return p(p({},t),{},{active:$o(Kd.freeText,e),iconProps:Uo(Kd.freeText,e)})}},squareButton:{type:"iconButton",id:"squareButton",props:{commandId:"square",active:!1,label:"Square"},mapStateToProps:function(e,t){return p(p({},t),{},{active:$o(Kd.square,e),iconProps:Uo(Kd.square,e)})}},polygonButton:{type:"iconButton",id:"polygonButton",props:{commandId:"polygon",active:!1,label:"Polygon"},mapStateToProps:function(e,t){return p(p({},t),{},{active:$o(Kd.polygon,e),iconProps:Uo(Kd.polygon,e)})}},lineButton:{type:"iconButton",id:"lineButton",props:{commandId:"line",active:!1,label:"Line"},mapStateToProps:function(e,t){return p(p({},t),{},{active:$o(Kd.line,e),iconProps:Uo(Kd.line,e)})}},lineArrowButton:{type:"iconButton",id:"lineArrowButton",props:{commandId:"lineArrow",active:!1,label:"Line Arrow"},mapStateToProps:function(e,t){return p(p({},t),{},{active:$o(Kd.lineArrow,e),iconProps:Uo(Kd.lineArrow,e)})}},polylineButton:{type:"iconButton",id:"polylineButton",props:{commandId:"polyline",active:!1,label:"Polyline"},mapStateToProps:function(e,t){return p(p({},t),{},{active:$o(Kd.polyline,e),iconProps:Uo(Kd.polyline,e)})}},underlineButton:{type:"iconButton",id:"underlineButton",props:{commandId:"underline",active:!1,label:"Underline",color:"#e44234"},mapStateToProps:function(e,t){return p(p({},t),{},{active:$o(Kd.underline,e),iconProps:Uo(Kd.underline,e)})}},squigglyButton:{type:"iconButton",id:"squigglyButton",props:{commandId:"squiggly",active:!1,label:"Squiggly",color:"#e44234"},mapStateToProps:function(e,t){return p(p({},t),{},{active:$o(Kd.squiggly,e),iconProps:Uo(Kd.squiggly,e)})}},strikethroughButton:{type:"iconButton",id:"strikethroughButton",props:{commandId:"strikethrough",active:!1,label:"Strikethrough",color:"#e44234"},mapStateToProps:function(e,t){return p(p({},t),{},{active:$o(Kd.strikethrough,e),iconProps:Uo(Kd.strikethrough,e)})}},highlightButton:{type:"iconButton",id:"highlightButton",props:{commandId:"highlight",active:!1,label:"Highlight",color:"#ffcd45"},mapStateToProps:function(e,t){return p(p({},t),{},{active:$o(Kd.highlight,e),iconProps:Uo(Kd.highlight,e)})}},freehandButton:{type:"iconButton",id:"freehandButton",props:{commandId:"freehand",active:!1,label:"Freehand",color:"#e44234"},mapStateToProps:function(e,t){return p(p({},t),{},{active:$o(Kd.freehand,e),iconProps:Uo(Kd.freehand,e)})}},photoButton:{type:"iconButton",id:"photoButton",props:{commandId:"photo",active:!1,label:"Photo",color:"#000000"},mapStateToProps:function(e,t){return p(p({},t),{},{active:$o(Kd.photo,e),iconProps:Uo(Kd.photo,e)})}},highlightSelectionButton:{type:"iconButton",id:"highlightSelectionButton",props:{commandId:"highlightSelection",color:"#ffcd45"},mapStateToProps:function(e,t){return p(p({},t),{},{iconProps:Uo(Kd.highlightSelection,e)})}},underlineSelectionButton:{type:"iconButton",id:"underlineSelectionButton",props:{commandId:"underlineSelection",color:"#e44234"},mapStateToProps:function(e,t){return p(p({},t),{},{iconProps:Uo(Kd.underlineSelection,e)})}},strikethroughSelectionButton:{type:"iconButton",id:"strikethroughSelectionButton",props:{commandId:"strikethroughSelection",color:"#e44234"},mapStateToProps:function(e,t){return p(p({},t),{},{iconProps:Uo(Kd.strikethroughSelection,e)})}},squigglySelectionButton:{type:"iconButton",id:"squigglySelectionButton",props:{commandId:"squigglySelection",color:"#e44234"},mapStateToProps:function(e,t){return p(p({},t),{},{iconProps:Uo(Kd.squigglySelection,e)})}},viewCtrButton:{type:"iconButton",id:"viewCtrButton",props:{commandId:"viewCtr",active:!1,label:"View settings"},mapStateToProps:function(e,t){return p(p({},t),{},{active:$o(Kd.viewCtr,e)})}},commentButton:{type:"iconButton",id:"commentButton",props:{active:!1,commandId:"comment",label:"Comment"},mapStateToProps:function(e,t){return p(p({},t),{},{active:$o(Kd.comment,e)})}},searchButton:{type:"iconButton",id:"searchButton",props:{active:!1,commandId:"search",label:"Search"},mapStateToProps:function(e,t){return p(p({},t),{},{active:$o(Kd.search,e)})}},filePickerButton:{type:"iconButton",id:"filePickerButton",props:{label:"Open File",img:"data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiAgd2lkdGg9IjI0IiAgaGVpZ2h0PSIyNCIgIHZpZXdCb3g9IjAgMCAyNCAyNCIgIGZpbGw9Im5vbmUiICBzdHJva2U9IiMzNDNhNDAiICBzdHJva2Utd2lkdGg9IjIiICBzdHJva2UtbGluZWNhcD0icm91bmQiICBzdHJva2UtbGluZWpvaW49InJvdW5kIiAgY2xhc3M9Imljb24gaWNvbi10YWJsZXIgaWNvbi10YWJsZXItb3V0bGluZSBpY29uLXRhYmxlci1maWxlLWltcG9ydCI+PHBhdGggc3Ryb2tlPSJub25lIiBkPSJNIDAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPjxwYXRoIGQ9Ik0xNCAzdjRhMSAxIDAgMCAwIDEgMWg0IiAvPjxwYXRoIGQ9Ik01IDEzdi04YTIgMiAwIDAgMSAyIC0yaDdsNSA1djExYTIgMiAwIDAgMSAtMiAyaC01LjVtLTkuNSAtMmg3bS0zIC0zbDMgM2wtMyAzIiAvPjwvc3ZnPg=="}},downloadButton:{type:"iconButton",id:"downloadButton",props:{label:"Download",img:"data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiAgd2lkdGg9IjI0IiAgaGVpZ2h0PSIyNCIgIHZpZXdCb3g9IjAgMCAyNCAyNCIgIGZpbGw9Im5vbmUiICBzdHJva2U9IiMzNDNhNDAiICBzdHJva2Utd2lkdGg9IjIiICBzdHJva2UtbGluZWNhcD0icm91bmQiICBzdHJva2UtbGluZWpvaW49InJvdW5kIiAgY2xhc3M9Imljb24gaWNvbi10YWJsZXIgaWNvbnMtdGFibGVyLW91dGxpbmUgaWNvbi10YWJsZXItZG93bmxvYWQiPjxwYXRoIHN0cm9rZT0ibm9uZSIgZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPjxwYXRoIGQ9Ik00IDE3djJhMiAyIDAgMCAwIDIgMmgxMmEyIDIgMCAwIDAgMiAtMnYtMiIgLz48cGF0aCBkPSJNNyAxMWw1IDVsNSAtNSIgLz48cGF0aCBkPSJNMTIgNGwwIDEyIiAvPjwvc3ZnPg=="}},zoomButton:{type:"iconButton",id:"zoomButton",props:{commandId:"zoom",label:"Zoom",img:"data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiAgd2lkdGg9IjI0IiAgaGVpZ2h0PSIyNCIgIHZpZXdCb3g9IjAgMCAyNCAyNCIgIGZpbGw9Im5vbmUiICBzdHJva2U9IiMzNDNhNDAiICBzdHJva2Utd2lkdGg9IjIiICBzdHJva2UtbGluZWNhcD0icm91bmQiICBzdHJva2UtbGluZWpvaW49InJvdW5kIiAgY2xhc3M9Imljb24gaWNvbi10YWJsZXIgaWNvbnMtdGFibGVyLW91dGxpbmUgaWNvbi10YWJsZXItY2lyY2xlLXBsdXMiPjxwYXRoIHN0cm9rZT0ibm9uZSIgZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPjxwYXRoIGQ9Ik0zIDEyYTkgOSAwIDEgMCAxOCAwYTkgOSAwIDAgMCAtMTggMCIgLz48cGF0aCBkPSJNOSAxMmg2IiAvPjxwYXRoIGQ9Ik0xMiA5djYiIC8+PC9zdmc+"},mapStateToProps:function(e,t){return p(p({},t),{},{active:$o(Kd.zoom,e)||$o(Kd.changeZoomLevel,e)})}},sidebarButton:{type:"iconButton",id:"sidebarButton",props:{commandId:"sidebar",label:"Sidebar",active:!1},mapStateToProps:function(e,t){return p(p({},t),{},{active:$o(Kd.sidebar,e)})}},divider1:{type:"divider",id:"divider1"},expandLeftActionsButton:{type:"iconButton",id:"expandLeftActionsButton",props:{commandId:"leftAction",label:"Left Panel Actions"},mapStateToProps:function(e,t){return p(p({},t),{},{active:$o(Kd.leftAction,e)})}},headerStart:{id:"headerStart",type:"groupedItems",slots:[{componentId:"menuButton",priority:0},{componentId:"divider1",priority:1,className:"flex"},{componentId:"sidebarButton",priority:2},{componentId:"expandLeftActionsButton",priority:3,className:"@min-[400px]:hidden"},{componentId:"viewCtrButton",priority:4,className:"hidden @min-[400px]:block"},{componentId:"divider1",priority:6,className:"hidden @min-[400px]:flex"},{componentId:"zoomButton",priority:7,className:"hidden @min-[400px]:block @min-[600px]:hidden"},{componentId:"zoom",priority:8,className:"hidden @min-[600px]:block"},{componentId:"divider1",priority:9,className:"hidden @min-[600px]:flex"},{componentId:"panModeButton",priority:10,className:"hidden @min-[600px]:block"},{componentId:"pointerModeButton",priority:11,className:"hidden @min-[600px]:block"}],props:{gap:10}},viewTab:{type:"tabButton",id:"viewTab",props:{label:"View",commandId:"view",active:!1},mapStateToProps:function(e,t){return p(p({},t),{},{active:$o(Kd.view,e)})}},annotateTab:{type:"tabButton",id:"annotateTab",props:{label:"Annotate",commandId:"annotate",active:!1},mapStateToProps:function(e,t){return p(p({},t),{},{active:$o(Kd.annotate,e)})}},shapesTab:{type:"tabButton",id:"shapesTab",props:{label:"Shapes",commandId:"shapes",active:!1},mapStateToProps:function(e,t){return p(p({},t),{},{active:$o(Kd.shapes,e)})}},fillAndSignTab:{type:"tabButton",id:"fillAndSignTab",props:{label:"Fill and Sign",commandId:"fillAndSign",active:!1},mapStateToProps:function(e,t){return p(p({},t),{},{active:$o(Kd.fillAndSign,e)})}},formTab:{type:"tabButton",id:"formTab",props:{label:"Form",commandId:"form",active:!1},mapStateToProps:function(e,t){return p(p({},t),{},{active:$o(Kd.form,e)})}},tabOverflowButton:{type:"iconButton",id:"tabOverflowButton",props:{label:"More",commandId:"tabOverflow",active:!1},mapStateToProps:function(e,t){return p(p({},t),{},{active:$o(Kd.tabOverflow,e)})}},annotationToolOverflowButton:{type:"iconButton",id:"annotationToolOverflowButton",props:{label:"More",commandId:"annotationToolOverflow",active:!1},mapStateToProps:function(e,t){return p(p({},t),{},{active:$o(Kd.annotationToolOverflow,e)})}},shapeToolOverflowButton:{type:"iconButton",id:"shapeToolOverflowButton",props:{label:"More",commandId:"shapeToolOverflow",active:!1},mapStateToProps:function(e,t){return p(p({},t),{},{active:$o(Kd.shapeToolOverflow,e)})}},selectButton:{type:"selectButton",id:"selectButton",props:{menuCommandId:"tabOverflow",commandIds:["view","annotate","shapes"],activeCommandId:"view",active:!1},mapStateToProps:function(e,t){var n;return p(p({},t),{},{activeCommandId:null!==(n=t.commandIds.find(function(t){return $o(Kd[t],e)}))&&void 0!==n?n:t.commandIds[0],active:$o(Kd.tabOverflow,e)})}},headerCenter:{id:"headerCenter",type:"groupedItems",slots:[{componentId:"selectButton",priority:0,className:"block @min-[500px]:hidden"},{componentId:"viewTab",priority:1,className:"hidden @min-[500px]:block"},{componentId:"annotateTab",priority:2,className:"hidden @min-[800px]:block"},{componentId:"shapesTab",priority:3,className:"hidden @min-[800px]:block"},{componentId:"tabOverflowButton",priority:4,className:"hidden @min-[500px]:block @min-[800px]:hidden"}],props:{gap:10}},headerEnd:{id:"headerEnd",type:"groupedItems",slots:[{componentId:"searchButton",priority:1},{componentId:"commentButton",priority:2}],props:{gap:10}},pageControls:{id:"pageControls",type:"custom",render:"pageControls",initialState:{currentPage:1,pageCount:1},props:function(e){return{currentPage:e.currentPage,pageCount:e.pageCount,nextPageCommandId:"nextPage",previousPageCommandId:"previousPage"}},mapStateToProps:function(e,t){var n,o;return p(p({},t),{},{currentPage:e.plugins.scroll.currentPage,pageCount:null!==(n=null===(o=e.core.document)||void 0===o?void 0:o.pageCount)&&void 0!==n?n:1})}},pageControlsContainer:{id:"pageControlsContainer",type:"floating",props:{scrollerPosition:"outside"},render:"pageControlsContainer",slots:[{componentId:"pageControls",priority:0}]},textSelectionMenuButtons:{id:"textSelectionMenuButtons",type:"groupedItems",slots:[{componentId:"copyButton",priority:0},{componentId:"highlightSelectionButton",priority:1},{componentId:"underlineSelectionButton",priority:2},{componentId:"strikethroughSelectionButton",priority:3},{componentId:"squigglySelectionButton",priority:4}],props:{gap:10}},printModal:{id:"printModal",type:"floating",render:"printModal",initialState:{open:!1},props:function(e){return{open:e.open,scrollerPosition:"outside"}},mapStateToProps:function(e,t){return p(p({},t),{},{open:e.plugins.ui.floating.printModal.open})}},textSelectionMenu:{id:"textSelectionMenu",type:"floating",render:"textSelectionMenu",props:{open:!1,scrollerPosition:"inside"},mapStateToProps:function(e,t){return p(p({},t),{},{isScolling:e.plugins.viewport.isScrolling,scale:e.core.scale,rotation:e.core.rotation,spread:e.plugins[bo].spreadMode,open:e.plugins[Pa].active&&!e.plugins[Pa].selecting})},slots:[{componentId:"textSelectionMenuButtons",priority:0}],getChildContext:{direction:"horizontal"}},topHeader:{type:"header",id:"topHeader",slots:[{componentId:"headerStart",priority:0},{componentId:"headerCenter",priority:1},{componentId:"headerEnd",priority:2}],getChildContext:function(e){return{direction:"top"===e.placement||"bottom"===e.placement?"horizontal":"vertical"}},props:{placement:"top",style:{backgroundColor:"#ffffff",gap:"10px"}}},shapeTools:{id:"shapeTools",type:"groupedItems",slots:[{componentId:"circleButton",priority:6},{componentId:"squareButton",priority:7},{componentId:"polygonButton",priority:8},{componentId:"polylineButton",priority:9},{componentId:"lineButton",priority:10,className:"hidden @min-[500px]:block"},{componentId:"lineArrowButton",priority:11,className:"hidden @min-[500px]:block"},{componentId:"shapeToolOverflowButton",priority:12,className:"block @min-[500px]:hidden"},{componentId:"divider1",priority:12},{componentId:"styleButton",priority:13},{componentId:"divider1",priority:14},{componentId:"undoButton",priority:15},{componentId:"redoButton",priority:16}],props:{gap:10}},annotationTools:{id:"annotationTools",type:"groupedItems",slots:[{componentId:"highlightButton",priority:1},{componentId:"underlineButton",priority:2},{componentId:"strikethroughButton",priority:3},{componentId:"squigglyButton",priority:4},{componentId:"freehandButton",priority:5,className:"hidden @min-[500px]:block"},{componentId:"freeTextButton",priority:6,className:"hidden @min-[500px]:block"},{componentId:"photoButton",priority:7,className:"hidden @min-[500px]:block"},{componentId:"annotationToolOverflowButton",priority:8,className:"block @min-[500px]:hidden"},{componentId:"divider1",priority:9},{componentId:"styleButton",priority:10},{componentId:"divider1",priority:11},{componentId:"undoButton",priority:12},{componentId:"redoButton",priority:13}],props:{gap:10}},toolsHeader:{type:"header",id:"toolsHeader",initialState:{visible:!1,visibleChild:null},props:function(e){return{placement:"top",visible:e.visible,visibleChild:e.visibleChild,style:{backgroundColor:"#f1f3f5",justifyContent:"center"}}},mapStateToProps:function(e,t){return p(p({},t),{},{visible:e.plugins.ui.header.toolsHeader.visible,visibleChild:e.plugins.ui.header.toolsHeader.visibleChild})},slots:[{componentId:"annotationTools",priority:0},{componentId:"shapeTools",priority:1}],getChildContext:function(e){return{direction:"top"===e.placement||"bottom"===e.placement?"horizontal":"vertical"}}},leftPanelAnnotationStyle:{id:"leftPanelAnnotationStyle",type:"custom",render:"leftPanelAnnotationStyle",mapStateToProps:function(e,t){return p(p({},t),{},{selectedAnnotation:xs(e.plugins[Fl]),activeVariant:e.plugins[Fl].activeVariant,colorPresets:e.plugins[Fl].colorPresets,toolDefaults:e.plugins[Fl].toolDefaults})}},leftPanelMain:{id:"leftPanelMain",type:"custom",render:"leftPanelMain",initialState:{visibleChild:"thumbnails"},props:function(e){return{visibleChild:e.visibleChild,tabsCommandId:"sidebarMenu"}},mapStateToProps:function(e,t){return p(p({},t),{},{visibleChild:e.plugins.ui.custom.leftPanelMain.visibleChild})},slots:[{componentId:"thumbnails",priority:0},{componentId:"outline",priority:1},{componentId:"attachments",priority:2}]},leftPanel:{id:"leftPanel",type:"panel",initialState:{open:!1,visibleChild:"leftPanelMain"},props:function(e){return{open:e.open,visibleChild:e.visibleChild,location:"left"}},mapStateToProps:function(e,t){return p(p({},t),{},{open:e.plugins.ui.panel.leftPanel.open,visibleChild:e.plugins.ui.panel.leftPanel.visibleChild})},slots:[{componentId:"leftPanelMain",priority:0},{componentId:"leftPanelAnnotationStyle",priority:1}]},thumbnails:{id:"thumbnails",type:"custom",render:"thumbnails",mapStateToProps:function(e,t){return p(p({},t),{},{currentPage:e.plugins.scroll.currentPage})}},outline:{id:"outline",type:"custom",render:"outline",props:{document:null},mapStateToProps:function(e,t){return p(p({},t),{},{document:e.core.document})}},attachments:{id:"attachments",type:"custom",render:"attachments"},search:{id:"search",type:"custom",render:"search",mapStateToProps:function(e,t){return p(p({},t),{},{flags:e.plugins.search.flags,results:e.plugins.search.results,total:e.plugins.search.total,activeResultIndex:e.plugins.search.activeResultIndex,active:e.plugins.search.active,query:e.plugins.search.query,loading:e.plugins.search.loading})}},comment:{id:"comment",type:"custom",render:"comment",mapStateToProps:function(e,t){return p(p({},t),{},{sidebarAnnotations:Cs(e.plugins[Fl]),selectedAnnotation:xs(e.plugins[Fl])})}},commandMenu:{id:"commandMenu",type:"commandMenu",initialState:{open:!1,activeCommand:null,triggerElement:void 0,position:void 0,flatten:!1},props:function(e){return{open:e.open,activeCommand:e.activeCommand,triggerElement:e.triggerElement,position:e.position,flatten:e.flatten}},mapStateToProps:function(e,t){return p(p({},t),{},{open:e.plugins.ui.commandMenu.commandMenu.open,activeCommand:e.plugins.ui.commandMenu.commandMenu.activeCommand,triggerElement:e.plugins.ui.commandMenu.commandMenu.triggerElement,position:e.plugins.ui.commandMenu.commandMenu.position,flatten:e.plugins.ui.commandMenu.commandMenu.flatten})}},zoom:{id:"zoom",type:"custom",render:"zoom",initialState:{zoomLevel:1},props:function(e){return{zoomLevel:e.zoomLevel,commandZoomIn:Kd.zoomIn.id,commandZoomOut:Kd.zoomOut.id,commandZoomMenu:Kd.zoom.id,zoomMenuActive:!1}},mapStateToProps:function(e,t){return p(p({},t),{},{zoomLevel:e.plugins.zoom.currentZoomLevel,zoomMenuActive:$o(Kd.zoom,e)||$o(Kd.changeZoomLevel,e)})}},rightPanel:{id:"rightPanel",type:"panel",initialState:{open:!1,visibleChild:null},props:function(e){return{open:e.open,visibleChild:e.visibleChild,location:"right"}},mapStateToProps:function(e,t){return p(p({},t),{},{open:e.plugins.ui.panel.rightPanel.open,visibleChild:e.plugins.ui.panel.rightPanel.visibleChild})},slots:[{componentId:"search",priority:0},{componentId:"comment",priority:1}]}},Jd={enabled:!0,components:Qd,menuItems:Kd},eu=new class{constructor(e){this.loggers=e}debug(e,t,...n){for(const o of this.loggers)o.debug(e,t,...n)}info(e,t,...n){for(const o of this.loggers)o.info(e,t,...n)}warn(e,t,...n){for(const o of this.loggers)o.warn(e,t,...n)}error(e,t,...n){for(const o of this.loggers)o.error(e,t,...n)}perf(e,t,n,o,...i){for(const r of this.loggers)r.perf(e,t,n,o,...i)}}([new class{debug(e,t,...n){console.debug(`${e}.${t}`,...n)}info(e,t,...n){console.info(`${e}.${t}`,...n)}warn(e,t,...n){console.warn(`${e}.${t}`,...n)}error(e,t,...n){console.error(`${e}.${t}`,...n)}perf(e,t,n,o,...i){console.info(`${e}.${t}.${n}.${o}`,...i)}},new class{constructor(){}debug(e,t,...n){}info(e,t,...n){}warn(e,t,...n){}error(e,t,...n){}perf(e,t,n,o,i,...r){switch(o){case"Begin":window.performance.mark(`${e}.${t}.${n}.${o}.${i}`,{detail:r});break;case"End":window.performance.mark(`${e}.${t}.${n}.${o}.${i}`,{detail:r}),window.performance.measure(`${e}.${t}.${n}.Measure.${i}`,`${e}.${t}.${n}.Begin.${i}`,`${e}.${t}.${n}.End.${i}`)}}}]);function tu(e){var t,o=e.config,i=function(e){const{wasmUrl:t=Bn,worker:n=!0,logger:o}=e??{},[i,r]=Ce(null),[a,l]=Ce(!0),[s,c]=Ce(null),d=Ie(null);return Se(()=>{let e=!1;return(async()=>{try{const{createPdfiumEngine:e}=n?await import("./worker-engine-111cdc6b.js"):await import("./direct-engine-9b40c5f1.js"),i=await e(t,o);d.current=i,r(i),l(!1)}catch(t){e||(c(t),l(!1))}})(),()=>{var t;e=!0,null==(t=d.current)||t.destroy(),d.current=null}},[t,n,o]),{engine:i,isLoading:a,error:s}}(p(p({},o.wasmUrl&&{wasmUrl:o.wasmUrl}),{},{worker:o.worker,logger:o.log?eu:void 0})),r=i.engine,a=i.isLoading,l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{viewport:p(p({},Xd.viewport),e.viewport),scroll:p(p({},Xd.scroll),e.scroll),zoom:p(p({},Xd.zoom),e.zoom),spread:p(p({},Xd.spread),e.spread),rotate:p(p({},Xd.rotate),e.rotate),tiling:p(p({},Xd.tiling),e.tiling),thumbnail:p(p({},Xd.thumbnail),e.thumbnail),print:p(p({},Xd.print),e.print)}}(o.plugins);return B(F,null,B("style",null,'/*! tailwindcss v4.0.6 | MIT License | https://tailwindcss.com */\n@layer theme, base, components, utilities;\n@layer theme {\n  :root, :host {\n    --font-sans: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji",\n      "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";\n    --font-serif: ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;\n    --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono",\n      "Courier New", monospace;\n    --color-red-50: oklch(97.1% 0.013 17.38);\n    --color-red-100: oklch(93.6% 0.032 17.717);\n    --color-red-200: oklch(88.5% 0.062 18.334);\n    --color-red-300: oklch(80.8% 0.114 19.571);\n    --color-red-400: oklch(70.4% 0.191 22.216);\n    --color-red-500: oklch(63.7% 0.237 25.331);\n    --color-red-600: oklch(57.7% 0.245 27.325);\n    --color-red-700: oklch(50.5% 0.213 27.518);\n    --color-red-800: oklch(44.4% 0.177 26.899);\n    --color-red-900: oklch(39.6% 0.141 25.723);\n    --color-red-950: oklch(25.8% 0.092 26.042);\n    --color-orange-50: oklch(98% 0.016 73.684);\n    --color-orange-100: oklch(95.4% 0.038 75.164);\n    --color-orange-200: oklch(90.1% 0.076 70.697);\n    --color-orange-300: oklch(83.7% 0.128 66.29);\n    --color-orange-400: oklch(75% 0.183 55.934);\n    --color-orange-500: oklch(70.5% 0.213 47.604);\n    --color-orange-600: oklch(64.6% 0.222 41.116);\n    --color-orange-700: oklch(55.3% 0.195 38.402);\n    --color-orange-800: oklch(47% 0.157 37.304);\n    --color-orange-900: oklch(40.8% 0.123 38.172);\n    --color-orange-950: oklch(26.6% 0.079 36.259);\n    --color-amber-50: oklch(98.7% 0.022 95.277);\n    --color-amber-100: oklch(96.2% 0.059 95.617);\n    --color-amber-200: oklch(92.4% 0.12 95.746);\n    --color-amber-300: oklch(87.9% 0.169 91.605);\n    --color-amber-400: oklch(82.8% 0.189 84.429);\n    --color-amber-500: oklch(76.9% 0.188 70.08);\n    --color-amber-600: oklch(66.6% 0.179 58.318);\n    --color-amber-700: oklch(55.5% 0.163 48.998);\n    --color-amber-800: oklch(47.3% 0.137 46.201);\n    --color-amber-900: oklch(41.4% 0.112 45.904);\n    --color-amber-950: oklch(27.9% 0.077 45.635);\n    --color-yellow-50: oklch(98.7% 0.026 102.212);\n    --color-yellow-100: oklch(97.3% 0.071 103.193);\n    --color-yellow-200: oklch(94.5% 0.129 101.54);\n    --color-yellow-300: oklch(90.5% 0.182 98.111);\n    --color-yellow-400: oklch(85.2% 0.199 91.936);\n    --color-yellow-500: oklch(79.5% 0.184 86.047);\n    --color-yellow-600: oklch(68.1% 0.162 75.834);\n    --color-yellow-700: oklch(55.4% 0.135 66.442);\n    --color-yellow-800: oklch(47.6% 0.114 61.907);\n    --color-yellow-900: oklch(42.1% 0.095 57.708);\n    --color-yellow-950: oklch(28.6% 0.066 53.813);\n    --color-lime-50: oklch(98.6% 0.031 120.757);\n    --color-lime-100: oklch(96.7% 0.067 122.328);\n    --color-lime-200: oklch(93.8% 0.127 124.321);\n    --color-lime-300: oklch(89.7% 0.196 126.665);\n    --color-lime-400: oklch(84.1% 0.238 128.85);\n    --color-lime-500: oklch(76.8% 0.233 130.85);\n    --color-lime-600: oklch(64.8% 0.2 131.684);\n    --color-lime-700: oklch(53.2% 0.157 131.589);\n    --color-lime-800: oklch(45.3% 0.124 130.933);\n    --color-lime-900: oklch(40.5% 0.101 131.063);\n    --color-lime-950: oklch(27.4% 0.072 132.109);\n    --color-green-50: oklch(98.2% 0.018 155.826);\n    --color-green-100: oklch(96.2% 0.044 156.743);\n    --color-green-200: oklch(92.5% 0.084 155.995);\n    --color-green-300: oklch(87.1% 0.15 154.449);\n    --color-green-400: oklch(79.2% 0.209 151.711);\n    --color-green-500: oklch(72.3% 0.219 149.579);\n    --color-green-600: oklch(62.7% 0.194 149.214);\n    --color-green-700: oklch(52.7% 0.154 150.069);\n    --color-green-800: oklch(44.8% 0.119 151.328);\n    --color-green-900: oklch(39.3% 0.095 152.535);\n    --color-green-950: oklch(26.6% 0.065 152.934);\n    --color-emerald-50: oklch(97.9% 0.021 166.113);\n    --color-emerald-100: oklch(95% 0.052 163.051);\n    --color-emerald-200: oklch(90.5% 0.093 164.15);\n    --color-emerald-300: oklch(84.5% 0.143 164.978);\n    --color-emerald-400: oklch(76.5% 0.177 163.223);\n    --color-emerald-500: oklch(69.6% 0.17 162.48);\n    --color-emerald-600: oklch(59.6% 0.145 163.225);\n    --color-emerald-700: oklch(50.8% 0.118 165.612);\n    --color-emerald-800: oklch(43.2% 0.095 166.913);\n    --color-emerald-900: oklch(37.8% 0.077 168.94);\n    --color-emerald-950: oklch(26.2% 0.051 172.552);\n    --color-teal-50: oklch(98.4% 0.014 180.72);\n    --color-teal-100: oklch(95.3% 0.051 180.801);\n    --color-teal-200: oklch(91% 0.096 180.426);\n    --color-teal-300: oklch(85.5% 0.138 181.071);\n    --color-teal-400: oklch(77.7% 0.152 181.912);\n    --color-teal-500: oklch(70.4% 0.14 182.503);\n    --color-teal-600: oklch(60% 0.118 184.704);\n    --color-teal-700: oklch(51.1% 0.096 186.391);\n    --color-teal-800: oklch(43.7% 0.078 188.216);\n    --color-teal-900: oklch(38.6% 0.063 188.416);\n    --color-teal-950: oklch(27.7% 0.046 192.524);\n    --color-cyan-50: oklch(98.4% 0.019 200.873);\n    --color-cyan-100: oklch(95.6% 0.045 203.388);\n    --color-cyan-200: oklch(91.7% 0.08 205.041);\n    --color-cyan-300: oklch(86.5% 0.127 207.078);\n    --color-cyan-400: oklch(78.9% 0.154 211.53);\n    --color-cyan-500: oklch(71.5% 0.143 215.221);\n    --color-cyan-600: oklch(60.9% 0.126 221.723);\n    --color-cyan-700: oklch(52% 0.105 223.128);\n    --color-cyan-800: oklch(45% 0.085 224.283);\n    --color-cyan-900: oklch(39.8% 0.07 227.392);\n    --color-cyan-950: oklch(30.2% 0.056 229.695);\n    --color-sky-50: oklch(97.7% 0.013 236.62);\n    --color-sky-100: oklch(95.1% 0.026 236.824);\n    --color-sky-200: oklch(90.1% 0.058 230.902);\n    --color-sky-300: oklch(82.8% 0.111 230.318);\n    --color-sky-400: oklch(74.6% 0.16 232.661);\n    --color-sky-500: oklch(68.5% 0.169 237.323);\n    --color-sky-600: oklch(58.8% 0.158 241.966);\n    --color-sky-700: oklch(50% 0.134 242.749);\n    --color-sky-800: oklch(44.3% 0.11 240.79);\n    --color-sky-900: oklch(39.1% 0.09 240.876);\n    --color-sky-950: oklch(29.3% 0.066 243.157);\n    --color-blue-50: oklch(97% 0.014 254.604);\n    --color-blue-100: oklch(93.2% 0.032 255.585);\n    --color-blue-200: oklch(88.2% 0.059 254.128);\n    --color-blue-300: oklch(80.9% 0.105 251.813);\n    --color-blue-400: oklch(70.7% 0.165 254.624);\n    --color-blue-500: oklch(62.3% 0.214 259.815);\n    --color-blue-600: oklch(54.6% 0.245 262.881);\n    --color-blue-700: oklch(48.8% 0.243 264.376);\n    --color-blue-800: oklch(42.4% 0.199 265.638);\n    --color-blue-900: oklch(37.9% 0.146 265.522);\n    --color-blue-950: oklch(28.2% 0.091 267.935);\n    --color-indigo-50: oklch(96.2% 0.018 272.314);\n    --color-indigo-100: oklch(93% 0.034 272.788);\n    --color-indigo-200: oklch(87% 0.065 274.039);\n    --color-indigo-300: oklch(78.5% 0.115 274.713);\n    --color-indigo-400: oklch(67.3% 0.182 276.935);\n    --color-indigo-500: oklch(58.5% 0.233 277.117);\n    --color-indigo-600: oklch(51.1% 0.262 276.966);\n    --color-indigo-700: oklch(45.7% 0.24 277.023);\n    --color-indigo-800: oklch(39.8% 0.195 277.366);\n    --color-indigo-900: oklch(35.9% 0.144 278.697);\n    --color-indigo-950: oklch(25.7% 0.09 281.288);\n    --color-violet-50: oklch(96.9% 0.016 293.756);\n    --color-violet-100: oklch(94.3% 0.029 294.588);\n    --color-violet-200: oklch(89.4% 0.057 293.283);\n    --color-violet-300: oklch(81.1% 0.111 293.571);\n    --color-violet-400: oklch(70.2% 0.183 293.541);\n    --color-violet-500: oklch(60.6% 0.25 292.717);\n    --color-violet-600: oklch(54.1% 0.281 293.009);\n    --color-violet-700: oklch(49.1% 0.27 292.581);\n    --color-violet-800: oklch(43.2% 0.232 292.759);\n    --color-violet-900: oklch(38% 0.189 293.745);\n    --color-violet-950: oklch(28.3% 0.141 291.089);\n    --color-purple-50: oklch(97.7% 0.014 308.299);\n    --color-purple-100: oklch(94.6% 0.033 307.174);\n    --color-purple-200: oklch(90.2% 0.063 306.703);\n    --color-purple-300: oklch(82.7% 0.119 306.383);\n    --color-purple-400: oklch(71.4% 0.203 305.504);\n    --color-purple-500: oklch(62.7% 0.265 303.9);\n    --color-purple-600: oklch(55.8% 0.288 302.321);\n    --color-purple-700: oklch(49.6% 0.265 301.924);\n    --color-purple-800: oklch(43.8% 0.218 303.724);\n    --color-purple-900: oklch(38.1% 0.176 304.987);\n    --color-purple-950: oklch(29.1% 0.149 302.717);\n    --color-fuchsia-50: oklch(97.7% 0.017 320.058);\n    --color-fuchsia-100: oklch(95.2% 0.037 318.852);\n    --color-fuchsia-200: oklch(90.3% 0.076 319.62);\n    --color-fuchsia-300: oklch(83.3% 0.145 321.434);\n    --color-fuchsia-400: oklch(74% 0.238 322.16);\n    --color-fuchsia-500: oklch(66.7% 0.295 322.15);\n    --color-fuchsia-600: oklch(59.1% 0.293 322.896);\n    --color-fuchsia-700: oklch(51.8% 0.253 323.949);\n    --color-fuchsia-800: oklch(45.2% 0.211 324.591);\n    --color-fuchsia-900: oklch(40.1% 0.17 325.612);\n    --color-fuchsia-950: oklch(29.3% 0.136 325.661);\n    --color-pink-50: oklch(97.1% 0.014 343.198);\n    --color-pink-100: oklch(94.8% 0.028 342.258);\n    --color-pink-200: oklch(89.9% 0.061 343.231);\n    --color-pink-300: oklch(82.3% 0.12 346.018);\n    --color-pink-400: oklch(71.8% 0.202 349.761);\n    --color-pink-500: oklch(65.6% 0.241 354.308);\n    --color-pink-600: oklch(59.2% 0.249 0.584);\n    --color-pink-700: oklch(52.5% 0.223 3.958);\n    --color-pink-800: oklch(45.9% 0.187 3.815);\n    --color-pink-900: oklch(40.8% 0.153 2.432);\n    --color-pink-950: oklch(28.4% 0.109 3.907);\n    --color-rose-50: oklch(96.9% 0.015 12.422);\n    --color-rose-100: oklch(94.1% 0.03 12.58);\n    --color-rose-200: oklch(89.2% 0.058 10.001);\n    --color-rose-300: oklch(81% 0.117 11.638);\n    --color-rose-400: oklch(71.2% 0.194 13.428);\n    --color-rose-500: oklch(64.5% 0.246 16.439);\n    --color-rose-600: oklch(58.6% 0.253 17.585);\n    --color-rose-700: oklch(51.4% 0.222 16.935);\n    --color-rose-800: oklch(45.5% 0.188 13.697);\n    --color-rose-900: oklch(41% 0.159 10.272);\n    --color-rose-950: oklch(27.1% 0.105 12.094);\n    --color-slate-50: oklch(98.4% 0.003 247.858);\n    --color-slate-100: oklch(96.8% 0.007 247.896);\n    --color-slate-200: oklch(92.9% 0.013 255.508);\n    --color-slate-300: oklch(86.9% 0.022 252.894);\n    --color-slate-400: oklch(70.4% 0.04 256.788);\n    --color-slate-500: oklch(55.4% 0.046 257.417);\n    --color-slate-600: oklch(44.6% 0.043 257.281);\n    --color-slate-700: oklch(37.2% 0.044 257.287);\n    --color-slate-800: oklch(27.9% 0.041 260.031);\n    --color-slate-900: oklch(20.8% 0.042 265.755);\n    --color-slate-950: oklch(12.9% 0.042 264.695);\n    --color-gray-50: oklch(98.5% 0.002 247.839);\n    --color-gray-100: oklch(96.7% 0.003 264.542);\n    --color-gray-200: oklch(92.8% 0.006 264.531);\n    --color-gray-300: oklch(87.2% 0.01 258.338);\n    --color-gray-400: oklch(70.7% 0.022 261.325);\n    --color-gray-500: oklch(55.1% 0.027 264.364);\n    --color-gray-600: oklch(44.6% 0.03 256.802);\n    --color-gray-700: oklch(37.3% 0.034 259.733);\n    --color-gray-800: oklch(27.8% 0.033 256.848);\n    --color-gray-900: oklch(21% 0.034 264.665);\n    --color-gray-950: oklch(13% 0.028 261.692);\n    --color-zinc-50: oklch(98.5% 0 0);\n    --color-zinc-100: oklch(96.7% 0.001 286.375);\n    --color-zinc-200: oklch(92% 0.004 286.32);\n    --color-zinc-300: oklch(87.1% 0.006 286.286);\n    --color-zinc-400: oklch(70.5% 0.015 286.067);\n    --color-zinc-500: oklch(55.2% 0.016 285.938);\n    --color-zinc-600: oklch(44.2% 0.017 285.786);\n    --color-zinc-700: oklch(37% 0.013 285.805);\n    --color-zinc-800: oklch(27.4% 0.006 286.033);\n    --color-zinc-900: oklch(21% 0.006 285.885);\n    --color-zinc-950: oklch(14.1% 0.005 285.823);\n    --color-neutral-50: oklch(98.5% 0 0);\n    --color-neutral-100: oklch(97% 0 0);\n    --color-neutral-200: oklch(92.2% 0 0);\n    --color-neutral-300: oklch(87% 0 0);\n    --color-neutral-400: oklch(70.8% 0 0);\n    --color-neutral-500: oklch(55.6% 0 0);\n    --color-neutral-600: oklch(43.9% 0 0);\n    --color-neutral-700: oklch(37.1% 0 0);\n    --color-neutral-800: oklch(26.9% 0 0);\n    --color-neutral-900: oklch(20.5% 0 0);\n    --color-neutral-950: oklch(14.5% 0 0);\n    --color-stone-50: oklch(98.5% 0.001 106.423);\n    --color-stone-100: oklch(97% 0.001 106.424);\n    --color-stone-200: oklch(92.3% 0.003 48.717);\n    --color-stone-300: oklch(86.9% 0.005 56.366);\n    --color-stone-400: oklch(70.9% 0.01 56.259);\n    --color-stone-500: oklch(55.3% 0.013 58.071);\n    --color-stone-600: oklch(44.4% 0.011 73.639);\n    --color-stone-700: oklch(37.4% 0.01 67.558);\n    --color-stone-800: oklch(26.8% 0.007 34.298);\n    --color-stone-900: oklch(21.6% 0.006 56.043);\n    --color-stone-950: oklch(14.7% 0.004 49.25);\n    --color-black: #000;\n    --color-white: #fff;\n    --spacing: 0.25rem;\n    --breakpoint-sm: 40rem;\n    --breakpoint-md: 48rem;\n    --breakpoint-lg: 64rem;\n    --breakpoint-xl: 80rem;\n    --breakpoint-2xl: 96rem;\n    --container-3xs: 16rem;\n    --container-2xs: 18rem;\n    --container-xs: 20rem;\n    --container-sm: 24rem;\n    --container-md: 28rem;\n    --container-lg: 32rem;\n    --container-xl: 36rem;\n    --container-2xl: 42rem;\n    --container-3xl: 48rem;\n    --container-4xl: 56rem;\n    --container-5xl: 64rem;\n    --container-6xl: 72rem;\n    --container-7xl: 80rem;\n    --text-xs: 0.75rem;\n    --text-xs--line-height: calc(1 / 0.75);\n    --text-sm: 0.875rem;\n    --text-sm--line-height: calc(1.25 / 0.875);\n    --text-base: 1rem;\n    --text-base--line-height: calc(1.5 / 1);\n    --text-lg: 1.125rem;\n    --text-lg--line-height: calc(1.75 / 1.125);\n    --text-xl: 1.25rem;\n    --text-xl--line-height: calc(1.75 / 1.25);\n    --text-2xl: 1.5rem;\n    --text-2xl--line-height: calc(2 / 1.5);\n    --text-3xl: 1.875rem;\n    --text-3xl--line-height: calc(2.25 / 1.875);\n    --text-4xl: 2.25rem;\n    --text-4xl--line-height: calc(2.5 / 2.25);\n    --text-5xl: 3rem;\n    --text-5xl--line-height: 1;\n    --text-6xl: 3.75rem;\n    --text-6xl--line-height: 1;\n    --text-7xl: 4.5rem;\n    --text-7xl--line-height: 1;\n    --text-8xl: 6rem;\n    --text-8xl--line-height: 1;\n    --text-9xl: 8rem;\n    --text-9xl--line-height: 1;\n    --font-weight-thin: 100;\n    --font-weight-extralight: 200;\n    --font-weight-light: 300;\n    --font-weight-normal: 400;\n    --font-weight-medium: 500;\n    --font-weight-semibold: 600;\n    --font-weight-bold: 700;\n    --font-weight-extrabold: 800;\n    --font-weight-black: 900;\n    --tracking-tighter: -0.05em;\n    --tracking-tight: -0.025em;\n    --tracking-normal: 0em;\n    --tracking-wide: 0.025em;\n    --tracking-wider: 0.05em;\n    --tracking-widest: 0.1em;\n    --leading-tight: 1.25;\n    --leading-snug: 1.375;\n    --leading-normal: 1.5;\n    --leading-relaxed: 1.625;\n    --leading-loose: 2;\n    --radius-xs: 0.125rem;\n    --radius-sm: 0.25rem;\n    --radius-md: 0.375rem;\n    --radius-lg: 0.5rem;\n    --radius-xl: 0.75rem;\n    --radius-2xl: 1rem;\n    --radius-3xl: 1.5rem;\n    --radius-4xl: 2rem;\n    --shadow-2xs: 0 1px rgb(0 0 0 / 0.05);\n    --shadow-xs: 0 1px 2px 0 rgb(0 0 0 / 0.05);\n    --shadow-sm: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);\n    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);\n    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);\n    --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);\n    --shadow-2xl: 0 25px 50px -12px rgb(0 0 0 / 0.25);\n    --inset-shadow-2xs: inset 0 1px rgb(0 0 0 / 0.05);\n    --inset-shadow-xs: inset 0 1px 1px rgb(0 0 0 / 0.05);\n    --inset-shadow-sm: inset 0 2px 4px rgb(0 0 0 / 0.05);\n    --drop-shadow-xs: 0 1px 1px rgb(0 0 0 / 0.05);\n    --drop-shadow-sm: 0 1px 2px rgb(0 0 0 / 0.15);\n    --drop-shadow-md: 0 3px 3px rgb(0 0 0 / 0.12);\n    --drop-shadow-lg: 0 4px 4px rgb(0 0 0 / 0.15);\n    --drop-shadow-xl: 0 9px 7px rgb(0 0 0 / 0.1);\n    --drop-shadow-2xl: 0 25px 25px rgb(0 0 0 / 0.15);\n    --text-shadow-2xs: 0px 1px 0px rgb(0 0 0 / 0.15);\n    --text-shadow-xs: 0px 1px 1px rgb(0 0 0 / 0.2);\n    --text-shadow-sm: 0px 1px 0px rgb(0 0 0 / 0.075), 0px 1px 1px rgb(0 0 0 / 0.075),\n      0px 2px 2px rgb(0 0 0 / 0.075);\n    --text-shadow-md: 0px 1px 1px rgb(0 0 0 / 0.1), 0px 1px 2px rgb(0 0 0 / 0.1),\n      0px 2px 4px rgb(0 0 0 / 0.1);\n    --text-shadow-lg: 0px 1px 2px rgb(0 0 0 / 0.1), 0px 3px 2px rgb(0 0 0 / 0.1),\n      0px 4px 8px rgb(0 0 0 / 0.1);\n    --ease-in: cubic-bezier(0.4, 0, 1, 1);\n    --ease-out: cubic-bezier(0, 0, 0.2, 1);\n    --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);\n    --animate-spin: spin 1s linear infinite;\n    --animate-ping: ping 1s cubic-bezier(0, 0, 0.2, 1) infinite;\n    --animate-pulse: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;\n    --animate-bounce: bounce 1s infinite;\n    --blur-xs: 4px;\n    --blur-sm: 8px;\n    --blur-md: 12px;\n    --blur-lg: 16px;\n    --blur-xl: 24px;\n    --blur-2xl: 40px;\n    --blur-3xl: 64px;\n    --perspective-dramatic: 100px;\n    --perspective-near: 300px;\n    --perspective-normal: 500px;\n    --perspective-midrange: 800px;\n    --perspective-distant: 1200px;\n    --aspect-video: 16 / 9;\n    --default-transition-duration: 150ms;\n    --default-transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n    --default-font-family: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji",\n      "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";\n    --default-font-feature-settings: initial;\n    --default-font-variation-settings: initial;\n    --default-mono-font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono",\n      "Courier New", monospace;\n    --default-mono-font-feature-settings: initial;\n    --default-mono-font-variation-settings: initial;\n  }\n}\n@layer base {\n  *, ::after, ::before, ::backdrop, ::file-selector-button {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n    border: 0 solid;\n  }\n  html, :host {\n    line-height: 1.5;\n    -webkit-text-size-adjust: 100%;\n    -moz-tab-size: 4;\n      -o-tab-size: 4;\n         tab-size: 4;\n    font-family: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji",\n      "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";\n    font-feature-settings: initial;\n    font-variation-settings: initial;\n    -webkit-tap-highlight-color: transparent;\n  }\n  hr {\n    height: 0;\n    color: inherit;\n    border-top-width: 1px;\n  }\n  abbr:where([title]) {\n    -webkit-text-decoration: underline dotted;\n    text-decoration: underline dotted;\n  }\n  h1, h2, h3, h4, h5, h6 {\n    font-size: inherit;\n    font-weight: inherit;\n  }\n  a {\n    color: inherit;\n    -webkit-text-decoration: inherit;\n    text-decoration: inherit;\n  }\n  b, strong {\n    font-weight: bolder;\n  }\n  code, kbd, samp, pre {\n    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono",\n      "Courier New", monospace;\n    font-feature-settings: initial;\n    font-variation-settings: initial;\n    font-size: 1em;\n  }\n  small {\n    font-size: 80%;\n  }\n  sub, sup {\n    font-size: 75%;\n    line-height: 0;\n    position: relative;\n    vertical-align: baseline;\n  }\n  sub {\n    bottom: -0.25em;\n  }\n  sup {\n    top: -0.5em;\n  }\n  table {\n    text-indent: 0;\n    border-color: inherit;\n    border-collapse: collapse;\n  }\n  :-moz-focusring {\n    outline: auto;\n  }\n  progress {\n    vertical-align: baseline;\n  }\n  summary {\n    display: list-item;\n  }\n  ol, ul, menu {\n    list-style: none;\n  }\n  img, svg, video, canvas, audio, iframe, embed, object {\n    display: block;\n    vertical-align: middle;\n  }\n  img, video {\n    max-width: 100%;\n    height: auto;\n  }\n  button, input, select, optgroup, textarea, ::file-selector-button {\n    font: inherit;\n    font-feature-settings: inherit;\n    font-variation-settings: inherit;\n    letter-spacing: inherit;\n    color: inherit;\n    border-radius: 0;\n    background-color: transparent;\n    opacity: 1;\n  }\n  :where(select:is([multiple], [size])) optgroup {\n    font-weight: bolder;\n  }\n  :where(select:is([multiple], [size])) optgroup option {\n    padding-inline-start: 20px;\n  }\n  ::file-selector-button {\n    margin-inline-end: 4px;\n  }\n  ::-moz-placeholder {\n    opacity: 1;\n  }\n  ::placeholder {\n    opacity: 1;\n  }\n  @supports (not (-webkit-appearance: -apple-pay-button))  or (contain-intrinsic-size: 1px) {\n    ::-moz-placeholder {\n      color: color-mix(in oklab, currentcolor 50%, transparent);\n    }\n    ::placeholder {\n      color: color-mix(in oklab, currentcolor 50%, transparent);\n    }\n  }\n  textarea {\n    resize: vertical;\n  }\n  ::-webkit-search-decoration {\n    -webkit-appearance: none;\n  }\n  ::-webkit-date-and-time-value {\n    min-height: 1lh;\n    text-align: inherit;\n  }\n  ::-webkit-datetime-edit {\n    display: inline-flex;\n  }\n  ::-webkit-datetime-edit-fields-wrapper {\n    padding: 0;\n  }\n  ::-webkit-datetime-edit, ::-webkit-datetime-edit-year-field, ::-webkit-datetime-edit-month-field, ::-webkit-datetime-edit-day-field, ::-webkit-datetime-edit-hour-field, ::-webkit-datetime-edit-minute-field, ::-webkit-datetime-edit-second-field, ::-webkit-datetime-edit-millisecond-field, ::-webkit-datetime-edit-meridiem-field {\n    padding-block: 0;\n  }\n  :-moz-ui-invalid {\n    box-shadow: none;\n  }\n  button, input:where([type="button"], [type="reset"], [type="submit"]), ::file-selector-button {\n    -webkit-appearance: button;\n       -moz-appearance: button;\n            appearance: button;\n  }\n  ::-webkit-inner-spin-button, ::-webkit-outer-spin-button {\n    height: auto;\n  }\n  [hidden]:where(:not([hidden="until-found"])) {\n    display: none !important;\n  }\n}\n@layer utilities {\n  .\\@container {\n    container-type: inline-size;\n  }\n  .pointer-events-none {\n    pointer-events: none;\n  }\n  .visible {\n    visibility: visible;\n  }\n  .absolute {\n    position: absolute;\n  }\n  .fixed {\n    position: fixed;\n  }\n  .relative {\n    position: relative;\n  }\n  .static {\n    position: static;\n  }\n  .sticky {\n    position: sticky;\n  }\n  .inset-0 {\n    inset: calc(var(--spacing) * 0);\n  }\n  .inset-y-0 {\n    inset-block: calc(var(--spacing) * 0);\n  }\n  .top-0 {\n    top: calc(var(--spacing) * 0);\n  }\n  .top-6 {\n    top: calc(var(--spacing) * 6);\n  }\n  .right-0 {\n    right: calc(var(--spacing) * 0);\n  }\n  .right-1 {\n    right: calc(var(--spacing) * 1);\n  }\n  .right-3 {\n    right: calc(var(--spacing) * 3);\n  }\n  .bottom-0 {\n    bottom: calc(var(--spacing) * 0);\n  }\n  .bottom-4 {\n    bottom: calc(var(--spacing) * 4);\n  }\n  .left-0 {\n    left: calc(var(--spacing) * 0);\n  }\n  .left-1\\/2 {\n    left: calc(1/2 * 100%);\n  }\n  .z-10 {\n    z-index: 10;\n  }\n  .z-50 {\n    z-index: 50;\n  }\n  .z-100 {\n    z-index: 100;\n  }\n  .col-start-1 {\n    grid-column-start: 1;\n  }\n  .row-start-1 {\n    grid-row-start: 1;\n  }\n  .container {\n    width: 100%;\n    @media (width >= 40rem) {\n      max-width: 40rem;\n    }\n    @media (width >= 48rem) {\n      max-width: 48rem;\n    }\n    @media (width >= 64rem) {\n      max-width: 64rem;\n    }\n    @media (width >= 80rem) {\n      max-width: 80rem;\n    }\n    @media (width >= 96rem) {\n      max-width: 96rem;\n    }\n  }\n  .mx-4 {\n    margin-inline: calc(var(--spacing) * 4);\n  }\n  .my-2 {\n    margin-block: calc(var(--spacing) * 2);\n  }\n  .my-4 {\n    margin-block: calc(var(--spacing) * 4);\n  }\n  .mt-0\\.5 {\n    margin-top: calc(var(--spacing) * 0.5);\n  }\n  .mt-1 {\n    margin-top: calc(var(--spacing) * 1);\n  }\n  .mt-2 {\n    margin-top: calc(var(--spacing) * 2);\n  }\n  .mt-3 {\n    margin-top: calc(var(--spacing) * 3);\n  }\n  .mt-4 {\n    margin-top: calc(var(--spacing) * 4);\n  }\n  .mt-5 {\n    margin-top: calc(var(--spacing) * 5);\n  }\n  .mr-1 {\n    margin-right: calc(var(--spacing) * 1);\n  }\n  .mr-2 {\n    margin-right: calc(var(--spacing) * 2);\n  }\n  .mr-5 {\n    margin-right: calc(var(--spacing) * 5);\n  }\n  .mb-1 {\n    margin-bottom: calc(var(--spacing) * 1);\n  }\n  .mb-2 {\n    margin-bottom: calc(var(--spacing) * 2);\n  }\n  .mb-3 {\n    margin-bottom: calc(var(--spacing) * 3);\n  }\n  .mb-4 {\n    margin-bottom: calc(var(--spacing) * 4);\n  }\n  .mb-6 {\n    margin-bottom: calc(var(--spacing) * 6);\n  }\n  .block {\n    display: block;\n  }\n  .contents {\n    display: contents;\n  }\n  .flex {\n    display: flex;\n  }\n  .grid {\n    display: grid;\n  }\n  .hidden {\n    display: none;\n  }\n  .inline {\n    display: inline;\n  }\n  .inline-block {\n    display: inline-block;\n  }\n  .inline-flex {\n    display: inline-flex;\n  }\n  .h-1 {\n    height: calc(var(--spacing) * 1);\n  }\n  .h-1\\/2 {\n    height: calc(1/2 * 100%);\n  }\n  .h-2 {\n    height: calc(var(--spacing) * 2);\n  }\n  .h-3 {\n    height: calc(var(--spacing) * 3);\n  }\n  .h-3\\.5 {\n    height: calc(var(--spacing) * 3.5);\n  }\n  .h-4 {\n    height: calc(var(--spacing) * 4);\n  }\n  .h-5 {\n    height: calc(var(--spacing) * 5);\n  }\n  .h-6 {\n    height: calc(var(--spacing) * 6);\n  }\n  .h-7 {\n    height: calc(var(--spacing) * 7);\n  }\n  .h-8 {\n    height: calc(var(--spacing) * 8);\n  }\n  .h-9 {\n    height: calc(var(--spacing) * 9);\n  }\n  .h-12 {\n    height: calc(var(--spacing) * 12);\n  }\n  .h-18 {\n    height: calc(var(--spacing) * 18);\n  }\n  .h-\\[1px\\] {\n    height: 1px;\n  }\n  .h-\\[32px\\] {\n    height: 32px;\n  }\n  .h-full {\n    height: 100%;\n  }\n  .max-h-48 {\n    max-height: calc(var(--spacing) * 48);\n  }\n  .max-h-60 {\n    max-height: calc(var(--spacing) * 60);\n  }\n  .min-h-0 {\n    min-height: calc(var(--spacing) * 0);\n  }\n  .\\!w-full {\n    width: 100% !important;\n  }\n  .w-2 {\n    width: calc(var(--spacing) * 2);\n  }\n  .w-3 {\n    width: calc(var(--spacing) * 3);\n  }\n  .w-3\\.5 {\n    width: calc(var(--spacing) * 3.5);\n  }\n  .w-4 {\n    width: calc(var(--spacing) * 4);\n  }\n  .w-5 {\n    width: calc(var(--spacing) * 5);\n  }\n  .w-6 {\n    width: calc(var(--spacing) * 6);\n  }\n  .w-8 {\n    width: calc(var(--spacing) * 8);\n  }\n  .w-9 {\n    width: calc(var(--spacing) * 9);\n  }\n  .w-12 {\n    width: calc(var(--spacing) * 12);\n  }\n  .w-18 {\n    width: calc(var(--spacing) * 18);\n  }\n  .w-32 {\n    width: calc(var(--spacing) * 32);\n  }\n  .w-36 {\n    width: calc(var(--spacing) * 36);\n  }\n  .w-\\[1px\\] {\n    width: 1px;\n  }\n  .w-auto {\n    width: auto;\n  }\n  .w-full {\n    width: 100%;\n  }\n  .max-w-\\[150px\\] {\n    max-width: 150px;\n  }\n  .min-w-0 {\n    min-width: calc(var(--spacing) * 0);\n  }\n  .min-w-\\[8rem\\] {\n    min-width: 8rem;\n  }\n  .min-w-\\[32px\\] {\n    min-width: 32px;\n  }\n  .flex-1 {\n    flex: 1;\n  }\n  .flex-none {\n    flex: none;\n  }\n  .flex-shrink-0 {\n    flex-shrink: 0;\n  }\n  .shrink-0 {\n    flex-shrink: 0;\n  }\n  .-translate-x-1\\/2 {\n    --tw-translate-x: calc(calc(1/2 * 100%) * -1);\n    translate: var(--tw-translate-x) var(--tw-translate-y);\n  }\n  .translate-x-\\[1px\\] {\n    --tw-translate-x: 1px;\n    translate: var(--tw-translate-x) var(--tw-translate-y);\n  }\n  .translate-y-\\[1px\\] {\n    --tw-translate-y: 1px;\n    translate: var(--tw-translate-x) var(--tw-translate-y);\n  }\n  .rotate-45 {\n    rotate: 45deg;\n  }\n  .transform {\n    transform: var(--tw-rotate-x) var(--tw-rotate-y) var(--tw-rotate-z) var(--tw-skew-x) var(--tw-skew-y);\n  }\n  .animate-pulse {\n    animation: var(--animate-pulse);\n  }\n  .animate-spin {\n    animation: var(--animate-spin);\n  }\n  .cursor-grab {\n    cursor: grab;\n  }\n  .cursor-not-allowed {\n    cursor: not-allowed;\n  }\n  .cursor-pointer {\n    cursor: pointer;\n  }\n  .touch-pan-y {\n    --tw-pan-y: pan-y;\n    touch-action: var(--tw-pan-x,) var(--tw-pan-y,) var(--tw-pinch-zoom,);\n  }\n  .appearance-none {\n    -webkit-appearance: none;\n       -moz-appearance: none;\n            appearance: none;\n  }\n  .grid-cols-2 {\n    grid-template-columns: repeat(2, minmax(0, 1fr));\n  }\n  .grid-cols-6 {\n    grid-template-columns: repeat(6, minmax(0, 1fr));\n  }\n  .flex-col {\n    flex-direction: column;\n  }\n  .flex-row {\n    flex-direction: row;\n  }\n  .items-center {\n    align-items: center;\n  }\n  .items-end {\n    align-items: flex-end;\n  }\n  .items-start {\n    align-items: flex-start;\n  }\n  .justify-between {\n    justify-content: space-between;\n  }\n  .justify-center {\n    justify-content: center;\n  }\n  .justify-end {\n    justify-content: flex-end;\n  }\n  .gap-1 {\n    gap: calc(var(--spacing) * 1);\n  }\n  .gap-2 {\n    gap: calc(var(--spacing) * 2);\n  }\n  .gap-3 {\n    gap: calc(var(--spacing) * 3);\n  }\n  .gap-4 {\n    gap: calc(var(--spacing) * 4);\n  }\n  .gap-x-1 {\n    -moz-column-gap: calc(var(--spacing) * 1);\n         column-gap: calc(var(--spacing) * 1);\n  }\n  .space-y-2 {\n    :where(& > :not(:last-child)) {\n      --tw-space-y-reverse: 0;\n      margin-block-start: calc(calc(var(--spacing) * 2) * var(--tw-space-y-reverse));\n      margin-block-end: calc(calc(var(--spacing) * 2) * calc(1 - var(--tw-space-y-reverse)));\n    }\n  }\n  .space-y-3 {\n    :where(& > :not(:last-child)) {\n      --tw-space-y-reverse: 0;\n      margin-block-start: calc(calc(var(--spacing) * 3) * var(--tw-space-y-reverse));\n      margin-block-end: calc(calc(var(--spacing) * 3) * calc(1 - var(--tw-space-y-reverse)));\n    }\n  }\n  .space-y-4 {\n    :where(& > :not(:last-child)) {\n      --tw-space-y-reverse: 0;\n      margin-block-start: calc(calc(var(--spacing) * 4) * var(--tw-space-y-reverse));\n      margin-block-end: calc(calc(var(--spacing) * 4) * calc(1 - var(--tw-space-y-reverse)));\n    }\n  }\n  .space-y-6 {\n    :where(& > :not(:last-child)) {\n      --tw-space-y-reverse: 0;\n      margin-block-start: calc(calc(var(--spacing) * 6) * var(--tw-space-y-reverse));\n      margin-block-end: calc(calc(var(--spacing) * 6) * calc(1 - var(--tw-space-y-reverse)));\n    }\n  }\n  .gap-y-4 {\n    row-gap: calc(var(--spacing) * 4);\n  }\n  .space-x-2 {\n    :where(& > :not(:last-child)) {\n      --tw-space-x-reverse: 0;\n      margin-inline-start: calc(calc(var(--spacing) * 2) * var(--tw-space-x-reverse));\n      margin-inline-end: calc(calc(var(--spacing) * 2) * calc(1 - var(--tw-space-x-reverse)));\n    }\n  }\n  .space-x-3 {\n    :where(& > :not(:last-child)) {\n      --tw-space-x-reverse: 0;\n      margin-inline-start: calc(calc(var(--spacing) * 3) * var(--tw-space-x-reverse));\n      margin-inline-end: calc(calc(var(--spacing) * 3) * calc(1 - var(--tw-space-x-reverse)));\n    }\n  }\n  .divide-y {\n    :where(& > :not(:last-child)) {\n      --tw-divide-y-reverse: 0;\n      border-bottom-style: var(--tw-border-style);\n      border-top-style: var(--tw-border-style);\n      border-top-width: calc(1px * var(--tw-divide-y-reverse));\n      border-bottom-width: calc(1px * calc(1 - var(--tw-divide-y-reverse)));\n    }\n  }\n  .divide-gray-100 {\n    :where(& > :not(:last-child)) {\n      border-color: var(--color-gray-100);\n    }\n  }\n  .self-center {\n    align-self: center;\n  }\n  .truncate {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  .overflow-auto {\n    overflow: auto;\n  }\n  .overflow-hidden {\n    overflow: hidden;\n  }\n  .overflow-y-auto {\n    overflow-y: auto;\n  }\n  .rounded {\n    border-radius: 0.25rem;\n  }\n  .rounded-\\[3px\\] {\n    border-radius: 3px;\n  }\n  .rounded-full {\n    border-radius: calc(infinity * 1px);\n  }\n  .rounded-lg {\n    border-radius: var(--radius-lg);\n  }\n  .rounded-md {\n    border-radius: var(--radius-md);\n  }\n  .rounded-none {\n    border-radius: 0;\n  }\n  .rounded-l-md {\n    border-top-left-radius: var(--radius-md);\n    border-bottom-left-radius: var(--radius-md);\n  }\n  .rounded-r-md {\n    border-top-right-radius: var(--radius-md);\n    border-bottom-right-radius: var(--radius-md);\n  }\n  .border {\n    border-style: var(--tw-border-style);\n    border-width: 1px;\n  }\n  .border-0 {\n    border-style: var(--tw-border-style);\n    border-width: 0px;\n  }\n  .border-1 {\n    border-style: var(--tw-border-style);\n    border-width: 1px;\n  }\n  .border-2 {\n    border-style: var(--tw-border-style);\n    border-width: 2px;\n  }\n  .border-3 {\n    border-style: var(--tw-border-style);\n    border-width: 3px;\n  }\n  .border-4 {\n    border-style: var(--tw-border-style);\n    border-width: 4px;\n  }\n  .border-t {\n    border-top-style: var(--tw-border-style);\n    border-top-width: 1px;\n  }\n  .border-r-0 {\n    border-right-style: var(--tw-border-style);\n    border-right-width: 0px;\n  }\n  .border-b {\n    border-bottom-style: var(--tw-border-style);\n    border-bottom-width: 1px;\n  }\n  .border-b-2 {\n    border-bottom-style: var(--tw-border-style);\n    border-bottom-width: 2px;\n  }\n  .border-none {\n    --tw-border-style: none;\n    border-style: none;\n  }\n  .border-\\[\\#cfd4da\\] {\n    border-color: #cfd4da;\n  }\n  .border-blue-200 {\n    border-color: var(--color-blue-200);\n  }\n  .border-blue-300 {\n    border-color: var(--color-blue-300);\n  }\n  .border-blue-500 {\n    border-color: var(--color-blue-500);\n  }\n  .border-blue-600 {\n    border-color: var(--color-blue-600);\n  }\n  .border-gray-100 {\n    border-color: var(--color-gray-100);\n  }\n  .border-gray-200 {\n    border-color: var(--color-gray-200);\n  }\n  .border-gray-300 {\n    border-color: var(--color-gray-300);\n  }\n  .border-gray-400 {\n    border-color: var(--color-gray-400);\n  }\n  .border-gray-600 {\n    border-color: var(--color-gray-600);\n  }\n  .border-red-500 {\n    border-color: var(--color-red-500);\n  }\n  .border-transparent {\n    border-color: transparent;\n  }\n  .border-t-blue-500 {\n    border-top-color: var(--color-blue-500);\n  }\n  .border-r-blue-500 {\n    border-right-color: var(--color-blue-500);\n  }\n  .border-b-blue-500 {\n    border-bottom-color: var(--color-blue-500);\n  }\n  .border-b-transparent {\n    border-bottom-color: transparent;\n  }\n  .bg-\\[\\#f1f3f5\\] {\n    background-color: #f1f3f5;\n  }\n  .bg-\\[\\#f8f9fa\\] {\n    background-color: #f8f9fa;\n  }\n  .bg-black\\/50 {\n    background-color: color-mix(in oklab, var(--color-black) 50%, transparent);\n  }\n  .bg-blue-50 {\n    background-color: var(--color-blue-50);\n  }\n  .bg-blue-200 {\n    background-color: var(--color-blue-200);\n  }\n  .bg-blue-500 {\n    background-color: var(--color-blue-500);\n  }\n  .bg-blue-600 {\n    background-color: var(--color-blue-600);\n  }\n  .bg-gray-100 {\n    background-color: var(--color-gray-100);\n  }\n  .bg-gray-200 {\n    background-color: var(--color-gray-200);\n  }\n  .bg-gray-300 {\n    background-color: var(--color-gray-300);\n  }\n  .bg-gray-900 {\n    background-color: var(--color-gray-900);\n  }\n  .bg-green-500 {\n    background-color: var(--color-green-500);\n  }\n  .bg-indigo-500 {\n    background-color: var(--color-indigo-500);\n  }\n  .bg-inherit {\n    background-color: inherit;\n  }\n  .bg-pink-500 {\n    background-color: var(--color-pink-500);\n  }\n  .bg-purple-500 {\n    background-color: var(--color-purple-500);\n  }\n  .bg-red-500 {\n    background-color: var(--color-red-500);\n  }\n  .bg-teal-500 {\n    background-color: var(--color-teal-500);\n  }\n  .bg-transparent {\n    background-color: transparent;\n  }\n  .bg-white {\n    background-color: var(--color-white);\n  }\n  .bg-white\\/80 {\n    background-color: color-mix(in oklab, var(--color-white) 80%, transparent);\n  }\n  .bg-yellow-500 {\n    background-color: var(--color-yellow-500);\n  }\n  .object-contain {\n    -o-object-fit: contain;\n       object-fit: contain;\n  }\n  .p-0 {\n    padding: calc(var(--spacing) * 0);\n  }\n  .p-1 {\n    padding: calc(var(--spacing) * 1);\n  }\n  .p-2 {\n    padding: calc(var(--spacing) * 2);\n  }\n  .p-3 {\n    padding: calc(var(--spacing) * 3);\n  }\n  .p-4 {\n    padding: calc(var(--spacing) * 4);\n  }\n  .p-6 {\n    padding: calc(var(--spacing) * 6);\n  }\n  .p-\\[5px\\] {\n    padding: 5px;\n  }\n  .px-1 {\n    padding-inline: calc(var(--spacing) * 1);\n  }\n  .px-2 {\n    padding-inline: calc(var(--spacing) * 2);\n  }\n  .px-3 {\n    padding-inline: calc(var(--spacing) * 3);\n  }\n  .px-4 {\n    padding-inline: calc(var(--spacing) * 4);\n  }\n  .px-6 {\n    padding-inline: calc(var(--spacing) * 6);\n  }\n  .py-1 {\n    padding-block: calc(var(--spacing) * 1);\n  }\n  .py-1\\.5 {\n    padding-block: calc(var(--spacing) * 1.5);\n  }\n  .py-2 {\n    padding-block: calc(var(--spacing) * 2);\n  }\n  .py-3 {\n    padding-block: calc(var(--spacing) * 3);\n  }\n  .py-4 {\n    padding-block: calc(var(--spacing) * 4);\n  }\n  .pt-4 {\n    padding-top: calc(var(--spacing) * 4);\n  }\n  .pr-2 {\n    padding-right: calc(var(--spacing) * 2);\n  }\n  .pr-3 {\n    padding-right: calc(var(--spacing) * 3);\n  }\n  .pr-4 {\n    padding-right: calc(var(--spacing) * 4);\n  }\n  .pr-7 {\n    padding-right: calc(var(--spacing) * 7);\n  }\n  .pr-8 {\n    padding-right: calc(var(--spacing) * 8);\n  }\n  .pr-9 {\n    padding-right: calc(var(--spacing) * 9);\n  }\n  .pb-2 {\n    padding-bottom: calc(var(--spacing) * 2);\n  }\n  .pl-2 {\n    padding-left: calc(var(--spacing) * 2);\n  }\n  .pl-3 {\n    padding-left: calc(var(--spacing) * 3);\n  }\n  .pl-8 {\n    padding-left: calc(var(--spacing) * 8);\n  }\n  .text-center {\n    text-align: center;\n  }\n  .text-left {\n    text-align: left;\n  }\n  .text-right {\n    text-align: right;\n  }\n  .align-bottom {\n    vertical-align: bottom;\n  }\n  .align-middle {\n    vertical-align: middle;\n  }\n  .align-top {\n    vertical-align: top;\n  }\n  .text-base {\n    font-size: var(--text-base);\n    line-height: var(--tw-leading, var(--text-base--line-height));\n  }\n  .text-lg {\n    font-size: var(--text-lg);\n    line-height: var(--tw-leading, var(--text-lg--line-height));\n  }\n  .text-sm {\n    font-size: var(--text-sm);\n    line-height: var(--tw-leading, var(--text-sm--line-height));\n  }\n  .text-xs {\n    font-size: var(--text-xs);\n    line-height: var(--tw-leading, var(--text-xs--line-height));\n  }\n  .text-\\[13px\\] {\n    font-size: 13px;\n  }\n  .leading-none {\n    --tw-leading: 1;\n    line-height: 1;\n  }\n  .leading-tight {\n    --tw-leading: var(--leading-tight);\n    line-height: var(--leading-tight);\n  }\n  .font-bold {\n    --tw-font-weight: var(--font-weight-bold);\n    font-weight: var(--font-weight-bold);\n  }\n  .font-medium {\n    --tw-font-weight: var(--font-weight-medium);\n    font-weight: var(--font-weight-medium);\n  }\n  .font-semibold {\n    --tw-font-weight: var(--font-weight-semibold);\n    font-weight: var(--font-weight-semibold);\n  }\n  .whitespace-nowrap {\n    white-space: nowrap;\n  }\n  .text-black {\n    color: var(--color-black);\n  }\n  .text-blue-500 {\n    color: var(--color-blue-500);\n  }\n  .text-blue-700 {\n    color: var(--color-blue-700);\n  }\n  .text-blue-900 {\n    color: var(--color-blue-900);\n  }\n  .text-gray-400 {\n    color: var(--color-gray-400);\n  }\n  .text-gray-500 {\n    color: var(--color-gray-500);\n  }\n  .text-gray-600 {\n    color: var(--color-gray-600);\n  }\n  .text-gray-700 {\n    color: var(--color-gray-700);\n  }\n  .text-gray-800 {\n    color: var(--color-gray-800);\n  }\n  .text-gray-900 {\n    color: var(--color-gray-900);\n  }\n  .text-red-500 {\n    color: var(--color-red-500);\n  }\n  .text-red-600 {\n    color: var(--color-red-600);\n  }\n  .text-white {\n    color: var(--color-white);\n  }\n  .uppercase {\n    text-transform: uppercase;\n  }\n  .\\!italic {\n    font-style: italic !important;\n  }\n  .italic {\n    font-style: italic;\n  }\n  .underline {\n    text-decoration-line: underline;\n  }\n  .placeholder-gray-500 {\n    &::-moz-placeholder {\n      color: var(--color-gray-500);\n    }\n    &::placeholder {\n      color: var(--color-gray-500);\n    }\n  }\n  .opacity-0 {\n    opacity: 0%;\n  }\n  .opacity-50 {\n    opacity: 50%;\n  }\n  .opacity-100 {\n    opacity: 100%;\n  }\n  .ring {\n    --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentColor);\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .ring-1 {\n    --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentColor);\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .ring-2 {\n    --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentColor);\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .shadow {\n    --tw-shadow: 0 1px 3px 0 var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 1px 2px -1px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .shadow-lg {\n    --tw-shadow: 0 10px 15px -3px var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 4px 6px -4px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .shadow-md {\n    --tw-shadow: 0 4px 6px -1px var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 2px 4px -2px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .shadow-sm {\n    --tw-shadow: 0 1px 3px 0 var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 1px 2px -1px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .shadow-xs {\n    --tw-shadow: 0 1px 2px 0 var(--tw-shadow-color, rgb(0 0 0 / 0.05));\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .ring-black {\n    --tw-ring-color: var(--color-black);\n  }\n  .ring-blue-200 {\n    --tw-ring-color: var(--color-blue-200);\n  }\n  .ring-blue-500 {\n    --tw-ring-color: var(--color-blue-500);\n  }\n  .outline {\n    outline-style: var(--tw-outline-style);\n    outline-width: 1px;\n  }\n  .outline-1 {\n    outline-style: var(--tw-outline-style);\n    outline-width: 1px;\n  }\n  .outline-2 {\n    outline-style: var(--tw-outline-style);\n    outline-width: 2px;\n  }\n  .-outline-offset-1 {\n    outline-offset: calc(1px * -1);\n  }\n  .-outline-offset-2 {\n    outline-offset: calc(2px * -1);\n  }\n  .outline-offset-2 {\n    outline-offset: 2px;\n  }\n  .outline-blue-500 {\n    outline-color: var(--color-blue-500);\n  }\n  .outline-gray-300 {\n    outline-color: var(--color-gray-300);\n  }\n  .filter {\n    filter: var(--tw-blur,) var(--tw-brightness,) var(--tw-contrast,) var(--tw-grayscale,) var(--tw-hue-rotate,) var(--tw-invert,) var(--tw-saturate,) var(--tw-sepia,) var(--tw-drop-shadow,);\n  }\n  .backdrop-blur {\n    --tw-backdrop-blur: blur(8px);\n    -webkit-backdrop-filter: var(--tw-backdrop-blur,) var(--tw-backdrop-brightness,) var(--tw-backdrop-contrast,) var(--tw-backdrop-grayscale,) var(--tw-backdrop-hue-rotate,) var(--tw-backdrop-invert,) var(--tw-backdrop-opacity,) var(--tw-backdrop-saturate,) var(--tw-backdrop-sepia,);\n    backdrop-filter: var(--tw-backdrop-blur,) var(--tw-backdrop-brightness,) var(--tw-backdrop-contrast,) var(--tw-backdrop-grayscale,) var(--tw-backdrop-hue-rotate,) var(--tw-backdrop-invert,) var(--tw-backdrop-opacity,) var(--tw-backdrop-saturate,) var(--tw-backdrop-sepia,);\n  }\n  .transition-all {\n    transition-property: all;\n    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));\n    transition-duration: var(--tw-duration, var(--default-transition-duration));\n  }\n  .transition-colors {\n    transition-property: color, background-color, border-color, outline-color, text-decoration-color, fill, stroke, --tw-gradient-from, --tw-gradient-via, --tw-gradient-to;\n    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));\n    transition-duration: var(--tw-duration, var(--default-transition-duration));\n  }\n  .transition-opacity {\n    transition-property: opacity;\n    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));\n    transition-duration: var(--tw-duration, var(--default-transition-duration));\n  }\n  .duration-150 {\n    --tw-duration: 150ms;\n    transition-duration: 150ms;\n  }\n  .duration-200 {\n    --tw-duration: 200ms;\n    transition-duration: 200ms;\n  }\n  .duration-300 {\n    --tw-duration: 300ms;\n    transition-duration: 300ms;\n  }\n  .ease-in-out {\n    --tw-ease: var(--ease-in-out);\n    transition-timing-function: var(--ease-in-out);\n  }\n  .outline-none {\n    --tw-outline-style: none;\n    outline-style: none;\n  }\n  .select-none {\n    -webkit-user-select: none;\n    -moz-user-select: none;\n         user-select: none;\n  }\n  .peer-checked\\:opacity-100 {\n    &:is(:where(.peer):checked ~ *) {\n      opacity: 100%;\n    }\n  }\n  .first\\:mt-0 {\n    &:first-child {\n      margin-top: calc(var(--spacing) * 0);\n    }\n  }\n  .checked\\:border-blue-600 {\n    &:checked {\n      border-color: var(--color-blue-600);\n    }\n  }\n  .checked\\:bg-blue-600 {\n    &:checked {\n      background-color: var(--color-blue-600);\n    }\n  }\n  .hover\\:border-\\[\\#1a466b\\] {\n    &:hover {\n      @media (hover: hover) {\n        border-color: #1a466b;\n      }\n    }\n  }\n  .hover\\:border-b-gray-500 {\n    &:hover {\n      @media (hover: hover) {\n        border-bottom-color: var(--color-gray-500);\n      }\n    }\n  }\n  .hover\\:\\!bg-blue-700 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-blue-700) !important;\n      }\n    }\n  }\n  .hover\\:bg-blue-600 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-blue-600);\n      }\n    }\n  }\n  .hover\\:bg-blue-900 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-blue-900);\n      }\n    }\n  }\n  .hover\\:bg-gray-50 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-gray-50);\n      }\n    }\n  }\n  .hover\\:bg-gray-100 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-gray-100);\n      }\n    }\n  }\n  .hover\\:bg-gray-200 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-gray-200);\n      }\n    }\n  }\n  .hover\\:bg-gray-400 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-gray-400);\n      }\n    }\n  }\n  .hover\\:bg-transparent {\n    &:hover {\n      @media (hover: hover) {\n        background-color: transparent;\n      }\n    }\n  }\n  .hover\\:text-blue-600 {\n    &:hover {\n      @media (hover: hover) {\n        color: var(--color-blue-600);\n      }\n    }\n  }\n  .hover\\:text-gray-600 {\n    &:hover {\n      @media (hover: hover) {\n        color: var(--color-gray-600);\n      }\n    }\n  }\n  .hover\\:text-gray-700 {\n    &:hover {\n      @media (hover: hover) {\n        color: var(--color-gray-700);\n      }\n    }\n  }\n  .hover\\:text-white {\n    &:hover {\n      @media (hover: hover) {\n        color: var(--color-white);\n      }\n    }\n  }\n  .hover\\:ring {\n    &:hover {\n      @media (hover: hover) {\n        --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentColor);\n        box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n      }\n    }\n  }\n  .hover\\:ring-0 {\n    &:hover {\n      @media (hover: hover) {\n        --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentColor);\n        box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n      }\n    }\n  }\n  .hover\\:shadow-md {\n    &:hover {\n      @media (hover: hover) {\n        --tw-shadow: 0 4px 6px -1px var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 2px 4px -2px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n        box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n      }\n    }\n  }\n  .hover\\:ring-\\[\\#1a466b\\] {\n    &:hover {\n      @media (hover: hover) {\n        --tw-ring-color: #1a466b;\n      }\n    }\n  }\n  .hover\\:ring-transparent {\n    &:hover {\n      @media (hover: hover) {\n        --tw-ring-color: transparent;\n      }\n    }\n  }\n  .focus\\:border-blue-500 {\n    &:focus {\n      border-color: var(--color-blue-500);\n    }\n  }\n  .focus\\:border-red-500 {\n    &:focus {\n      border-color: var(--color-red-500);\n    }\n  }\n  .focus\\:border-transparent {\n    &:focus {\n      border-color: transparent;\n    }\n  }\n  .focus\\:ring-1 {\n    &:focus {\n      --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentColor);\n      box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n    }\n  }\n  .focus\\:ring-2 {\n    &:focus {\n      --tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentColor);\n      box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n    }\n  }\n  .focus\\:ring-blue-500 {\n    &:focus {\n      --tw-ring-color: var(--color-blue-500);\n    }\n  }\n  .focus\\:ring-red-500 {\n    &:focus {\n      --tw-ring-color: var(--color-red-500);\n    }\n  }\n  .focus\\:outline-none {\n    &:focus {\n      --tw-outline-style: none;\n      outline-style: none;\n    }\n  }\n  .active\\:cursor-grabbing {\n    &:active {\n      cursor: grabbing;\n    }\n  }\n  .disabled\\:cursor-not-allowed {\n    &:disabled {\n      cursor: not-allowed;\n    }\n  }\n  .disabled\\:bg-gray-300 {\n    &:disabled {\n      background-color: var(--color-gray-300);\n    }\n  }\n  .disabled\\:opacity-40 {\n    &:disabled {\n      opacity: 40%;\n    }\n  }\n  .disabled\\:opacity-50 {\n    &:disabled {\n      opacity: 50%;\n    }\n  }\n  .md\\:static {\n    @media (width >= 48rem) {\n      position: static;\n    }\n  }\n  .md\\:flex {\n    @media (width >= 48rem) {\n      display: flex;\n    }\n  }\n  .md\\:hidden {\n    @media (width >= 48rem) {\n      display: none;\n    }\n  }\n  .md\\:h-auto {\n    @media (width >= 48rem) {\n      height: auto;\n    }\n  }\n  .md\\:h-full {\n    @media (width >= 48rem) {\n      height: 100%;\n    }\n  }\n  .md\\:max-h-\\[80vh\\] {\n    @media (width >= 48rem) {\n      max-height: 80vh;\n    }\n  }\n  .md\\:w-\\[28rem\\] {\n    @media (width >= 48rem) {\n      width: 28rem;\n    }\n  }\n  .md\\:w-\\[275px\\] {\n    @media (width >= 48rem) {\n      width: 275px;\n    }\n  }\n  .md\\:max-w-\\[90vw\\] {\n    @media (width >= 48rem) {\n      max-width: 90vw;\n    }\n  }\n  .md\\:min-w-\\[275px\\] {\n    @media (width >= 48rem) {\n      min-width: 275px;\n    }\n  }\n  .md\\:flex-none {\n    @media (width >= 48rem) {\n      flex: none;\n    }\n  }\n  .md\\:flex-row {\n    @media (width >= 48rem) {\n      flex-direction: row;\n    }\n  }\n  .md\\:items-center {\n    @media (width >= 48rem) {\n      align-items: center;\n    }\n  }\n  .md\\:justify-center {\n    @media (width >= 48rem) {\n      justify-content: center;\n    }\n  }\n  .md\\:rounded-lg {\n    @media (width >= 48rem) {\n      border-radius: var(--radius-lg);\n    }\n  }\n  .md\\:border {\n    @media (width >= 48rem) {\n      border-style: var(--tw-border-style);\n      border-width: 1px;\n    }\n  }\n  .md\\:border-t-0 {\n    @media (width >= 48rem) {\n      border-top-style: var(--tw-border-style);\n      border-top-width: 0px;\n    }\n  }\n  .md\\:border-r {\n    @media (width >= 48rem) {\n      border-right-style: var(--tw-border-style);\n      border-right-width: 1px;\n    }\n  }\n  .md\\:border-l {\n    @media (width >= 48rem) {\n      border-left-style: var(--tw-border-style);\n      border-left-width: 1px;\n    }\n  }\n  .md\\:border-gray-200 {\n    @media (width >= 48rem) {\n      border-color: var(--color-gray-200);\n    }\n  }\n  .md\\:shadow-lg {\n    @media (width >= 48rem) {\n      --tw-shadow: 0 10px 15px -3px var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 4px 6px -4px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n      box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n    }\n  }\n  .\\@max-\\[600px\\]\\:\\!top-auto {\n    @container (width < 600px) {\n      top: auto !important;\n    }\n  }\n  .\\@max-\\[600px\\]\\:\\!right-0 {\n    @container (width < 600px) {\n      right: calc(var(--spacing) * 0) !important;\n    }\n  }\n  .\\@max-\\[600px\\]\\:\\!bottom-0 {\n    @container (width < 600px) {\n      bottom: calc(var(--spacing) * 0) !important;\n    }\n  }\n  .\\@max-\\[600px\\]\\:\\!left-0 {\n    @container (width < 600px) {\n      left: calc(var(--spacing) * 0) !important;\n    }\n  }\n  .\\@min-\\[400px\\]\\:block {\n    @container (width >= 400px) {\n      display: block;\n    }\n  }\n  .\\@min-\\[400px\\]\\:flex {\n    @container (width >= 400px) {\n      display: flex;\n    }\n  }\n  .\\@min-\\[400px\\]\\:hidden {\n    @container (width >= 400px) {\n      display: none;\n    }\n  }\n  .\\@min-\\[500px\\]\\:block {\n    @container (width >= 500px) {\n      display: block;\n    }\n  }\n  .\\@min-\\[500px\\]\\:hidden {\n    @container (width >= 500px) {\n      display: none;\n    }\n  }\n  .\\@min-\\[600px\\]\\:block {\n    @container (width >= 600px) {\n      display: block;\n    }\n  }\n  .\\@min-\\[600px\\]\\:flex {\n    @container (width >= 600px) {\n      display: flex;\n    }\n  }\n  .\\@min-\\[600px\\]\\:hidden {\n    @container (width >= 600px) {\n      display: none;\n    }\n  }\n  .\\@min-\\[800px\\]\\:block {\n    @container (width >= 800px) {\n      display: block;\n    }\n  }\n  .\\@min-\\[800px\\]\\:hidden {\n    @container (width >= 800px) {\n      display: none;\n    }\n  }\n  .dark\\:border-gray-600 {\n    @media (prefers-color-scheme: dark) {\n      border-color: var(--color-gray-600);\n    }\n  }\n  .dark\\:bg-gray-700 {\n    @media (prefers-color-scheme: dark) {\n      background-color: var(--color-gray-700);\n    }\n  }\n  .dark\\:bg-gray-800 {\n    @media (prefers-color-scheme: dark) {\n      background-color: var(--color-gray-800);\n    }\n  }\n  .dark\\:text-gray-200 {\n    @media (prefers-color-scheme: dark) {\n      color: var(--color-gray-200);\n    }\n  }\n  .dark\\:text-gray-300 {\n    @media (prefers-color-scheme: dark) {\n      color: var(--color-gray-300);\n    }\n  }\n  .dark\\:text-white {\n    @media (prefers-color-scheme: dark) {\n      color: var(--color-white);\n    }\n  }\n  .dark\\:hover\\:bg-gray-700 {\n    @media (prefers-color-scheme: dark) {\n      &:hover {\n        @media (hover: hover) {\n          background-color: var(--color-gray-700);\n        }\n      }\n    }\n  }\n}\n@import url(\'https://fonts.googleapis.com/css2?family=Open Sans:wght@400;600&amp;display=swap\');\n:host {\n  --tw-translate-x: 0;\n  --tw-translate-y: 0;\n  --tw-translate-z: 0;\n  --tw-rotate-x: rotateX(0);\n  --tw-rotate-y: rotateY(0);\n  --tw-rotate-z: rotateZ(0);\n  --tw-skew-x: skewX(0);\n  --tw-skew-y: skewY(0);\n  --tw-border-style: solid;\n  --tw-gradient-from: #0000;\n  --tw-gradient-via: #0000;\n  --tw-gradient-to: #0000;\n  --tw-gradient-from-position: 0%;\n  --tw-gradient-via-position: 50%;\n  --tw-gradient-to-position: 100%;\n  --tw-shadow: 0 0 #0000;\n  --tw-inset-shadow: 0 0 #0000;\n  --tw-ring-shadow: 0 0 #0000;\n  --tw-inset-ring-shadow: 0 0 #0000;\n  --tw-ring-offset-width: 0px;\n  --tw-ring-offset-color: #fff;\n  --tw-ring-offset-shadow: 0 0 #0000;\n  --tw-outline-style: solid;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n}\n@keyframes spin {\n  to {\n    transform: rotate(360deg);\n  }\n}\n@keyframes ping {\n  75%, 100% {\n    transform: scale(2);\n    opacity: 0;\n  }\n}\n@keyframes pulse {\n  50% {\n    opacity: 0.5;\n  }\n}\n@keyframes bounce {\n  0%, 100% {\n    transform: translateY(-25%);\n    animation-timing-function: cubic-bezier(0.8, 0, 1, 1);\n  }\n  50% {\n    transform: none;\n    animation-timing-function: cubic-bezier(0, 0, 0.2, 1);\n  }\n}\n@property --tw-translate-x {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-translate-y {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-translate-z {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-rotate-x {\n  syntax: "*";\n  inherits: false;\n  initial-value: rotateX(0);\n}\n@property --tw-rotate-y {\n  syntax: "*";\n  inherits: false;\n  initial-value: rotateY(0);\n}\n@property --tw-rotate-z {\n  syntax: "*";\n  inherits: false;\n  initial-value: rotateZ(0);\n}\n@property --tw-skew-x {\n  syntax: "*";\n  inherits: false;\n  initial-value: skewX(0);\n}\n@property --tw-skew-y {\n  syntax: "*";\n  inherits: false;\n  initial-value: skewY(0);\n}\n@property --tw-pan-x {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-pan-y {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-pinch-zoom {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-space-y-reverse {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-space-x-reverse {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-divide-y-reverse {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0;\n}\n@property --tw-border-style {\n  syntax: "*";\n  inherits: false;\n  initial-value: solid;\n}\n@property --tw-leading {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-font-weight {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-shadow {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-shadow-color {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-inset-shadow {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-inset-shadow-color {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-ring-color {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-ring-shadow {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-inset-ring-color {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-inset-ring-shadow {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-ring-inset {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-ring-offset-width {\n  syntax: "<length>";\n  inherits: false;\n  initial-value: 0px;\n}\n@property --tw-ring-offset-color {\n  syntax: "*";\n  inherits: false;\n  initial-value: #fff;\n}\n@property --tw-ring-offset-shadow {\n  syntax: "*";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-outline-style {\n  syntax: "*";\n  inherits: false;\n  initial-value: solid;\n}\n@property --tw-blur {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-brightness {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-contrast {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-grayscale {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-hue-rotate {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-invert {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-opacity {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-saturate {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-sepia {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-blur {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-brightness {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-contrast {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-grayscale {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-hue-rotate {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-invert {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-opacity {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-saturate {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-backdrop-sepia {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-duration {\n  syntax: "*";\n  inherits: false;\n}\n@property --tw-ease {\n  syntax: "*";\n  inherits: false;\n}\n'),!r||a?B("div",{className:"flex h-full w-full items-center justify-center"},B(nd,{size:"lg",text:"Initializing PDF engine..."})):B(Dn,{engine:r,onInitialized:(t=n(m().mark(function e(t){var n,o;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(o=null===(n=t.getPlugin("ui"))||void 0===n?void 0:n.provides())&&(o.registerComponentRenderer("groupedItems",Il),o.registerComponentRenderer("iconButton",Cl),o.registerComponentRenderer("tabButton",Sl),o.registerComponentRenderer("header",Pl),o.registerComponentRenderer("divider",Ml),o.registerComponentRenderer("panel",_l),o.registerComponentRenderer("search",El),o.registerComponentRenderer("zoom",Nl),o.registerComponentRenderer("pageControlsContainer",Rl),o.registerComponentRenderer("pageControls",Ll),o.registerComponentRenderer("commandMenu",Dl),o.registerComponentRenderer("comment",Yd),o.registerComponentRenderer("thumbnails",Ol),o.registerComponentRenderer("outline",Hl),o.registerComponentRenderer("attachments",jl),o.registerComponentRenderer("selectButton",Bl),o.registerComponentRenderer("textSelectionMenu",zl),o.registerComponentRenderer("leftPanelMain",Al),o.registerComponentRenderer("printModal",$l),o.registerComponentRenderer("leftPanelAnnotationStyle",Lc));case 2:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),plugins:[Mn(Jo,Jd),Mn(_o,{loadingOptions:{type:"url",pdfFile:{id:"pdf",url:o.src},options:{mode:"full-fetch"}}}),Mn(Xn,l.viewport),Mn(uo,l.scroll),Mn(Ir,l.zoom),Mn(ko,l.spread),Mn(il,{}),Mn($c,l.rotate),Mn(ga,{}),Mn(Za,{}),Mn(Qc,l.tiling),Mn(xa,l.thumbnail),Mn(Ds,{}),Mn(ul,l.print),Mn(sd,{}),Mn(wl,{}),Mn(pd,{}),Mn(Or,{}),Mn(vd,{}),Mn(Cd,{scale:2,imageType:"image/png"}),Mn(Nd,{})]},function(e){var t=e.pluginsReady;return B(mr,null,function(e){var n=e.headers,o=e.panels,i=e.floating,r=e.commandMenu;return B(cd,null,B(ml,null,B("div",{className:"@container relative flex h-full w-full select-none flex-col"},n.top.length>0&&B("div",null,n.top),B("div",{className:"flex flex-1 flex-row overflow-hidden"},B("div",{className:"flex flex-col"},n.left),B("div",{className:"flex flex-1 flex-col overflow-hidden md:flex-row"},o.left.length>0&&B(F,null,o.left),B("div",{className:"relative flex w-full flex-1 overflow-hidden"},B(Wr,null,B(yd,null),B(Qn,{style:{width:"100%",height:"100%",flexGrow:1,backgroundColor:"#f1f3f5",overflow:"auto"}},!t&&B("div",{className:"flex h-full w-full items-center justify-center"},B(nd,{size:"lg",text:"Loading PDF document..."})),t&&B(qr,null,B(po,{renderPage:function(e){var t=e.pageIndex,n=e.scale,o=e.rotation,i=e.width,r=e.height,a=e.rotatedHeight,l=e.rotatedWidth,s=e.document;return B(Fc,{key:null==s?void 0:s.id,pageSize:{width:i,height:r}},B(Gr,{rotation:o,scale:n,pageWidth:l,pageHeight:a,pageIndex:t,style:{width:i,height:r}},B(Dc,{pageIndex:t,className:"pointer-events-none"}),B(td,{pageIndex:t,scale:n,className:"pointer-events-none"}),B(fa,{pageIndex:t,scale:n,className:"pointer-events-none"}),B(Ld,null),B(mc,{pageIndex:t,scale:n,pageWidth:i,pageHeight:r,rotation:o,selectionMenu:function(e){var t=e.selected,n=e.rect,o=e.annotation;return B("div",p({},e.menuWrapperProps),t?B(Od,{trackedAnnotation:o,style:{pointerEvents:"auto",position:"absolute",top:n.size.height+10}}):null)}}),B(Zr,{pageIndex:t,scale:n,pageWidth:i,pageHeight:r}),B(Md,{pageIndex:t,scale:n,pageWidth:i,pageHeight:r}),B(Xa,{pageIndex:t,scale:n})))},overlayElements:i.insideScroller})),i.outsideScroller))),o.right.length>0&&B(F,null,o.right)),B("div",{className:"flex flex-col"},n.right)),n.bottom.length>0&&B("div",null,n.bottom),r),B(To,null),B(gd,null),B(zd,null),B(Ka,null)))})}))}var nu=function(){function e(){var t;return i(this,e),(t=o(this,e)).root=t.attachShadow({mode:"open"}),t}return d(e,x(HTMLElement)),a(e,[{key:"connectedCallback",value:function(){this._config||(this._config={src:this.getAttribute("src")||"/demo.pdf",worker:"false"!==this.getAttribute("worker")}),this.renderViewer()}},{key:"config",get:function(){return this._config},set:function(e){this._config=e,this.isConnected&&this.renderViewer()}},{key:"renderViewer",value:function(){this._config&&le(B(tu,{config:this._config}),this.root)}}])}(),ou=["type","target"];customElements.define("embedpdf-container",nu);var iu={init:function(e){if("container"===e.type)return function(e){e.type,e.target;var t=g(e,ou),n=document.createElement("embedpdf-container");return n.config=t,e.target.appendChild(n),n}(e)}};export{vt as A,mt as B,dt as C,Rt as D,Ve as E,iu as F,At as M,ot as N,_t as P,je as R,at as T,Tt as a,ft as b,yt as c,kt as d,xt as e,bt as f,on as g,zt as h,an as i,Lt as j,Dt as k,ut as l,Ct as m,It as n,Pt as o,Et as p,Ge as q,wt as r,ct as s,Fe as t,rn as u,Je as v,Nt as w,nt as x,$e as y,We as z};